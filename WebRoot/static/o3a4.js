_elevue={},_popid_eleid={},_oaconfigable=!0,_oabasetitle=["组件编号","组件类型","添加前组件","添加后组件","添加内组件","访问权限字典","样式类","配置模式可见","默认配置"],_oastaticdata=[],_oafirstnotload=[],_oathatnotload=[];var _haveoatype=[{name:"id",title:"组件编号",ignore:[],append:"readonly",type:"属性",geteval:"el.attr(name)",seteval:"el.attr(name,value)"}],_maxrecord=10,_oarecordinfo=[],_oabaseclass={"移动端隐藏":"mhidden","PC端隐藏":"phidden","表单内组件样式":{class:"oa-formstyle",addeval:"el.parent().css('position','relative')",removeeval:"",register:["div"]}},_oajs={};_oacomponent={};var _oatitle=["属性","样式"],_mappereleid={},_eleinfos=[],_elemidinfos=[],_confirmeleinfos=[],_oalayout={},_oaloadfinish={};function addOALayout(el,oacomponent_name,type,oid,tid,position){if(null==_oacomponent[oacomponent_name])return!1;var outterid="outter_"+(new Date).valueOf();null!=oid&&(outterid=oid);var outter=$("<div id='{0}' class='_outterdiv' style='min-width:10px;min-height:10px;'></div>".format(outterid));null==type&&(type="in"),null!=_oacomponent[oacomponent_name].pre&&eval(_oacomponent[oacomponent_name].pre);var cloneTemp=_oacomponent[oacomponent_name].el.clone(!0);cloneTemp.addClass("oa-element");var tempid="ele_"+(new Date).valueOf();null!=tid&&(tempid=tid),cloneTemp.attr("id",tempid),outter.append(cloneTemp),"0"==type||0==type?el.before(outter):"before"==type||"1"==type||1==type?el.parent().before(outter):"in"==type||"2"==type||2==type?el.append(outter):"after"==type||"3"==type||3==type?el.parent().after(outter):"4"!=type&&4!=type||el.after(outter),"弹簧"==oacomponent_name&&(2==type?el.hasClass("_hiv")?outter.addClass("_hiv"):el.hasClass("_viv")&&outter.addClass("_viv"):el.parent().parent().hasClass("_hiv")?outter.addClass("_hiv"):el.parent().parent().hasClass("_viv")&&outter.addClass("_viv"));var elid=el.attr("id"),tempvue={el:"#"+outterid};null!=_oacomponent[oacomponent_name].extendvue&&Object.assign(tempvue,deepCopy(_oacomponent[oacomponent_name].extendvue));var layoutvue=new Vue(tempvue);_elevue[tempid]=layoutvue,loadOA(layoutvue),null!=_oacomponent[oacomponent_name].post&&eval(_oacomponent[oacomponent_name].post),"弹簧"==oacomponent_name&&$("#"+outterid).attr("style",$("#"+outterid).find("._pow").attr("style")),setOAEleInfo($("#"+tempid),_eleinfos,oacomponent_name,position),setOAEleInfo($("#"+tempid),_elemidinfos,oacomponent_name,position);var one=getOAEleInfo($("#"+tempid),_eleinfos);one.addtype=type,one.addposition=el.attr("id");var two=getOAEleInfo($("#"+tempid),_elemidinfos);return two.addtype=type,two.addposition=el.attr("id"),tempid}function loadOAComponent(){_oacomponent["基础Div"]={el:$("<div class='_oa-div' style='padding:var(--inlayout-distance)'></div>"),post:"var This=$('#'+tempid);if(This.attr('oacomjs')!=null){eval(This.attr('oacomjs'));}"},_oacomponent["横向布局"]={el:$("<hiv style='padding:var(--inlayout-distance)'></hiv>"),post:"var This=$('#'+tempid);if(This.attr('oacomjs')!=null){eval(This.attr('oacomjs'));}"},_oacomponent["纵向布局"]={el:$("<viv style='padding:var(--inlayout-distance)'></viv>"),post:"var This=$('#'+tempid);if(This.attr('oacomjs')!=null){eval(This.attr('oacomjs'));}"},_oacomponent["浮动布局"]={el:$("<wiv style='padding:var(--inlayout-distance)'></wiv>"),post:"var This=$('#'+tempid);if(This.attr('oacomjs')!=null){eval(This.attr('oacomjs'));}"},_oacomponent["弹簧"]={el:$("<pow ></pow>"),notin:["基础Div","浮动布局"]},_haveoatype.push({name:"width",title:"宽度",ignore:["._pow",".oa-layout"],type:"样式",geteval:"getOAInfo(el,'宽度')||'auto'",update:["style","height"],seteval:"if(value!=null)el.css(name,value);if(value!=null&&(value+'').indexOf('%')!=-1){el.css(name,'100%');el.parent().css(name,value);}"}),_haveoatype.push({name:"height",title:"高度",ignore:["._pow",".oa-layout"],type:"样式",geteval:"getOAInfo(el,'高度')||'auto'",update:["style","width"],seteval:"if(value!=null)el.css(name,value);if(value!=null&&(value+'').indexOf('%')!=-1){el.css(name,'100%');el.parent().css(name,value);}"}),_haveoatype.push({name:"bclass",title:"样式类",ignore:[],type:"样式",geteval:"el.attr('class')",seteval:"el.attr('class',value);",make:"textarea",append:"style='resize:none;height:150px'"}),_haveoatype.push({name:"style",title:"整体样式",ignore:["._pow"],type:"样式",geteval:"var styleinfo=(el.attr(name)||'')+''; styleinfo.replace(/s*;s*/g,';\\n')",seteval:"if(value!=null&&value!='')el.attr(name,value.replace(/\\n/g,\"\"));",make:"textarea",append:"style='resize:none;height:150px'",delay:10}),_haveoatype.push({name:"oacomjs",title:"组件JS",ignore:[],only:["._oa-div","._hiv","._viv","._wiv"],type:"属性",geteval:"el.attr(name)",seteval:"el.attr(name,value);var This=el;function loadoacomjs(This,value){setTimeout(function(){if(value!=null)eval(value);},100)};loadoacomjs(This,value);",make:"textarea",append:"style='resize:none;height:150px'"}),_oafirstnotload.push("oacomjs"),_haveoatype.push({name:"aconfigshow",title:"配置模式可见",ignore:[],only:[],type:"样式",geteval:"((!el.hasClass('oa-configshow'))?'不做设置':'仅配置可见')",seteval:"if(value=='不做设置'){if(el.hasClass('oa-configshow'))el.removeClass('oa-configshow');}else if(value=='仅配置可见'){if(!el.hasClass('oa-configshow'))el.addClass('oa-configshow');if(!_oaconfigable)el.parent().hide();}",make:"select",makeeval:"               This.append('<option value=\"不做设置\">不做设置</option>');               This.append('<option value=\"仅配置可见\">仅配置可见</option>');\t\t"}),_haveoatype.push({name:"oaconfigclass",title:"默认配置",ignore:[],only:[],type:"属性",geteval:"",seteval:"function getBaseClassIndex(c){\n            for(var i in _oabaseclass){\n                if(_oabaseclass[i].class==null){\n                }else{\n                    if(_oabaseclass[i].class==c){\n                        return i;\n                    }\n                }\n            }\n            return -1;\n        }value=((el.attr('class')!=null)?el.attr('class').split(' '):[]);   for(var ci in value){\n            el.addClass(value[ci]);\n            var ctpid=getBaseClassIndex(value[ci]);\n            if(ctpid!=-1&&judgeTagOnly(el,_oabaseclass[ctpid].register)){\n                 eval(_oabaseclass[ctpid].removeeval);                 eval(_oabaseclass[ctpid].addeval);             }\n    }\n",make:"select",makeeval:"                     function getBaseClassIndex(c){                        for(var i in _oabaseclass){                                            if(_oabaseclass[i].class==null){                            }else{                                if(_oabaseclass[i].class==c){                                    return i;                                }                            }                        }                        return -1;                     }\t\t\t\t     oaclachange=function(a){\t\t\t\t         var value=a.multipleSelect('getSelects');\t\t\t\t         for(var i in value){\t\t\t\t             if(!el.hasClass(value[i])){\t\t\t\t                 el.addClass(value[i]);\t\t\t\t                 var ctpid=getBaseClassIndex(value[i]);\t\t\t\t                 if(ctpid!=-1&&judgeTagOnly(el,_oabaseclass[ctpid].register)){\t\t\t\t                    eval(_oabaseclass[ctpid].removeeval);\t\t\t\t                    eval(_oabaseclass[ctpid].addeval);\t\t\t\t                   }\t\t\t\t                 el.show();\t\t\t\t             }\t\t\t\t          }\t\t\t\t          for(var i in _oabaseclass){\t\t\t\t              if(!judgeTagOnly(el,_oabaseclass[i].register))\t\t\t\t                continue;\t\t\t\t             if(_oabaseclass[i].removeeval==null){                                 if(value.indexOf(_oabaseclass[i])==-1){                                     el.removeClass(_oabaseclass[i]);                                 }                             }else{                                if(value.indexOf(_oabaseclass[i].class)==-1){                                    el.removeClass(_oabaseclass[i].class);                                    eval(_oabaseclass[i].removeeval);                                }                             }\t\t\t\t          }\t\t\t\t          setOAInfo(el,'样式类',el.attr('class'));\t\t\t\t      };\t\t\t\t     function oabasedelay(){\t\t\t\t          setTimeout(function(){\t\t\t\t             var This=$('*[name=oaconfigclass]'); \t\t\t\t             for(var i in _oabaseclass){\t\t\t\t                if(_oabaseclass[i].class==null){\t\t\t\t                 This.append('<option value=\"{0}\">{1}</option>'.format(_oabaseclass[i],i));\t\t\t\t                 }\t\t\t\t                 else if(_oabaseclass[i].register==null){\t\t\t\t                 This.append('<option value=\"{0}\">{1}</option>'.format(_oabaseclass[i].class,i));\t\t\t\t                 }else{\t\t\t\t                    for(var j in _oabaseclass[i].register)                                        if(el.is(_oabaseclass[i].register[j])){                                            This.append('<option value=\"{0}\">{1}</option>'.format(_oabaseclass[i].class,i));                                            break;                                        }\t\t\t\t                 }\t\t\t\t             }               This.multipleSelect({\n                   //控件宽度\n                   width: 180,\n                   //全选字体样式\n                   selectAllText:'全选',\n                   // 支持在一行中显示多个选项\n                   multiple: true,\n                   multipleWidth: 180,\n                   //placeholder\n                   placeholder: \"请选择\",                   onClick:function(){oaclachange(This);}\n               });               var classresult=((el.attr('class')!=null)?el.attr('class').split(' '):[]);               This.multipleSelect('setSelects', classresult);\n               This.multipleSelect('refresh');               oaclachange(This);                          },10)       };oabasedelay()",append:"style='width:30%' multiple='multiple' ",delay:10}),_oafirstnotload.push("oaconfigclass"),_haveoatype.push({name:"component",title:"组件类型",ignore:[],type:"属性",geteval:"getOAEleInfo(el,_eleinfos)==null?'尚未初始化':getOAEleInfo(el,_eleinfos).type",seteval:"''",append:"readonly"}),_haveoatype.push({name:"text",title:"文本内容",ignore:["._hiv","._wiv","._viv","._pow","input","textarea"],type:"样式",geteval:"el.text()",seteval:"el.text(value)"}),_haveoatype.push({name:"powstyle",title:"弹力大小",only:["._pow"],ignore:[],type:"样式",geteval:"el.css('flex')",seteval:"el.css('flex',value);el.parent().css('flex',value);",make:"input"}),_haveoatype.push({name:"addblayout",title:"添加前组件",ignore:[".oa-layout"],only:[],type:"属性",geteval:"'横向布局'",seteval:"",make:"select",makeeval:"                for(var i in _oacomponent){                var tninfo=getOAEleInfo($(\".oa-select\"),_eleinfos).type;                        if((_oacomponent[i].cnotbefore==null||!_oacomponent[i].cnotbefore)&&(_oacomponent[i].notbefore==null||_oacomponent[i].notbefore.indexOf(getOAEleInfo($(\".oa-select\"),_eleinfos).type)==-1)&&(_oacomponent[tninfo].onlyappend==null||_oacomponent[tninfo].onlyappend.indexOf(i)!=-1))                        {                                This.append('<option value=\"'+i+'\">'+i+'</option>');                         }                    }\t\t\t\t\tThis.after('<button class=\"btn btn-primary lybtn-addb\" id=\"lybtnadd\">添加</button>');\t\t\t\t\tsetTimeout(function(){\t\t\t\t\t\t$(\".lybtn-addb\").click(function(){\t\t\t\t\t\t\trecordOAHandle();\t\t\t\t\t\t\tif(_oacomponent[$('select[name=addblayout]').val()].define==null){                                    addOALayout($('.oa-select'),$('select[name=addblayout]').val(),1);                            }else{                                    var pinit=_oacomponent[$('select[name=addblayout]').val()].define;                                    addOALayoutByEle($('.oa-select'),pinit,1);                                }                                \t\t\t\t\t\t});\t\t\t\t\t},0);",append:"style='width:30%'",notaddchange:!0}),_haveoatype.push({name:"addalayout",title:"添加后组件",ignore:[".oa-layout"],only:[],type:"属性",geteval:"'横向布局'",seteval:"",make:"select",makeeval:"                    for(var i in _oacomponent){                    var tninfo=getOAEleInfo($(\".oa-select\"),_eleinfos).type;                                if((_oacomponent[i].cnotafter==null||!_oacomponent[i].cnotafter)&&(_oacomponent[i].notafter==null||_oacomponent[i].notafter.indexOf(getOAEleInfo($(\".oa-select\"),_eleinfos).type)==-1)&&(_oacomponent[tninfo].onlyappend==null||_oacomponent[tninfo].onlyappend.indexOf(i)!=-1))                                    This.append('<option value=\"'+i+'\">'+i+'</option>');                                }\t\t\t\t\tThis.after('<button class=\"btn btn-primary lybtn-adda\" id=\"lybtnadd\">添加</button>');\t\t\t\t\tconst elv=This;\t\t\t\t\tsetTimeout(function(){\t\t\t\t\t\t$(\".lybtn-adda\").click(function(){\t\t\t\t\t\t\trecordOAHandle();\t\t\t\t\t\t\tif(_oacomponent[$('select[name=addalayout]').val()].define==null){                                addOALayout($('.oa-select'),$('select[name=addalayout]').val(),3);                            }else{                                var pinit=_oacomponent[$('select[name=addalayout]').val()].define;                                addOALayoutByEle($('.oa-select'),pinit,3);                            }                            \t\t\t\t\t\t});\t\t\t\t\t},0);",append:"style='width:30%'",notaddchange:!0}),_haveoatype.push({name:"addlayout",title:"添加内组件",ignore:["._pow"],only:[],type:"属性",geteval:"'横向布局'",seteval:"",make:"select",makeeval:"                    for(var i in _oacomponent){                                var tninfo=getOAEleInfo($(\".oa-select\"),_eleinfos).type;                                if((_oacomponent[i].cnotin==null||!_oacomponent[i].cnotin)&&(_oacomponent[i].notin==null||_oacomponent[i].notin.indexOf(getOAEleInfo($(\".oa-select\"),_eleinfos).type)==-1)&&(_oacomponent[tninfo].onlyappend==null||_oacomponent[tninfo].onlyappend.indexOf(i)!=-1))                                    This.append('<option value=\"'+i+'\">'+i+'</option>');                                }\t\t\t\t\tThis.after('<button class=\"btn btn-primary lybtn-add\" id=\"lybtnadd\">添加</button>');\t\t\t\t\tsetTimeout(function(){\t\t\t\t\t\t$(\".lybtn-add\").click(function(){\t\t\t\t\t\t    recordOAHandle();\t\t\t\t\t\t    if(_oacomponent[$('select[name=addlayout]').val()].define==null){\t\t\t\t\t\t\t    addOALayout($(\".oa-select\"),$('select[name=addlayout]').val(),2);\t\t\t\t\t\t\t}else{\t\t\t\t\t\t\t    var pinit=_oacomponent[$('select[name=addlayout]').val()].define;\t\t\t\t\t\t\t    addOALayoutByEle($('.oa-select'),pinit,2);\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t});\t\t\t\t\t},0);",append:"style='width:30%'",notaddchange:!0})}function judgeTagOnly(e,t){if(null==t)return!0;for(var a in _haveclass=!1,t)if(e.hasClass(t[a].substring(1,t[a].length))){_haveclass=!0;break}return!(-1==t.indexOf("#"+e.attr("id"))&&-1==t.indexOf(e.prop("nodeName").toLowerCase())&&!_haveclass&&0<t.length)}function deleteOAEleInfo(e,t){for(var a in t)if(t[a].eleid==e.attr("id")){var i=t[a];return t.splice(a,1),i}return null}function getLayoutReplay(e,t){for(var a=[],i=[e.attr("id")],l=[e.attr("id")];0!=l.length;){var o=l.pop();a.push(o);for(var n=[],r=0;r<t.length;r++){var s=t[r];$("#"+s.eleid).oaparent().attr("id")==o&&n.push(s)}for(var d=[];0!=n.length;)for(r=n.length-1;0<=r;r--)if(-1!=i.indexOf(n[r].addposition)){i.push(n[r].eleid),d.push(n[r].eleid),n.splice(r,1);break}for(r=d.length-1;0<=r;r--)l.push(d[r])}return a}function getLayoutReplayInfo(e,t){var a,i=getLayoutReplay(e,t),l=[];for(a in i)l.push(getOAEleInfo($("#"+i[a]),t));return l}function deleteReplay(e,t){var a={};function i(e,t,a){for(var i in t){if(parseInt(i)>=a)return;if(t[i].eleid==e.attr("id"))return 1}}for(var l=getLayoutReplay(e,t),o=l.length-1;0<=o;o--)for(var n=l[o],r=t.length-1;0<=r;r--)if((c=t[r]).eleid==n){var s=$("#"+n),d=c.addposition,p=c.addtype;a[n]={addposition:d,addtype:p},t.splice(r,1);break}for(r=t.length-1;0<=r;r--){var u,c=t[r],s=$("#"+c.eleid);-1!=l.indexOf(c.addposition)&&2!=c.addtype&&(s=$("#"+c.eleid),1==c.addtype&&0!=s.oanext().length&&i(s.oanext(),t,r)&&-1==l.indexOf(s.oanext().attr("id"))?c.addposition=s.oanext().attr("id"):3==c.addtype&&0!=s.oaprev().length&&i(s.oaprev(),t,r)&&-1==l.indexOf(s.oaprev().attr("id"))?c.addposition=s.oaprev().attr("id"):1==c.addtype&&0!=s.oanext().oanext().length&&i(s.oanext().oanext(),t,r)&&-1==l.indexOf(s.oanext().oanext().attr("id"))?c.addposition=s.oanext().oanext().attr("id"):3==c.addtype&&0!=s.oaprev().oaprev().length&&i(s.oaprev().oaprev(),t,r)&&-1==l.indexOf(s.oaprev().oaprev().attr("id"))?c.addposition=s.oaprev().oaprev().attr("id"):(u=c.addposition,c.addposition=a[u].addposition,c.addtype=a[u].addtype))}}function putOAEleInfoAfter(e,t,a){var i=parseInt(getOAEleIndex(t,a));parseInt(getOAEleIndex(e,a))<i||(t=a[i],a.splice(i,1),e=parseInt(getOAEleIndex(e,a)),a.splice(e,0,t))}function addOALayoutIndepend(nowinfo,position){if(null==position?_elemidinfos.push(nowinfo):_elemidinfos.splice(position,0,nowinfo),null!=_oacomponent[nowinfo.type]){var noncomponent=_oacomponent[nowinfo.type].ignoretitle,eleid=addOALayout($("#"+nowinfo.addposition),nowinfo.type,nowinfo.addtype,nowinfo.id,nowinfo.eleid,position),el=$("#"+eleid),k;for(k in _oatitle)for(var i in _haveoatype)if(_haveoatype[i].type==_oatitle[k]&&!judgeOAIgnore(el,_haveoatype,i)&&judgeOAOnly(el,_haveoatype,i)&&(null==noncomponent||-1==noncomponent.indexOf(_haveoatype[i].title))){var value=nowinfo[_oatitle[k]][_haveoatype[i].name],name=_haveoatype[i].name;if(-1==_oathatnotload.indexOf(name))try{eval(_haveoatype[i].seteval)}catch(e){console.log(e)}}_oaconfigable||$(".oa-configshow").parent().hide()}else console.log(nowinfo.type+" 类型不存在")}function remakeOAReplay(e,t){var a=JSON.parse(JSON.stringify(t));if(a.length<1)return a;var i={};a[0].addposition=e.attr("id");var l,o,n=a[0].addposition;for(o in a)0!=o&&null==i[a[o].addposition]&&n!=a[o].addposition&&(l="ele_"+(new Date).valueOf()+(Math.random()+"").replace(".",""),i[a[o].addposition]=l);for(o in a)null==i[a[o].id]&&(l="outter_"+(new Date).valueOf()+(Math.random()+"").replace(".",""),i[a[o].id]=l);for(o in a)null==i[a[o].eleid]&&(l="ele_"+(new Date).valueOf()+(Math.random()+"").replace(".",""),i[a[o].eleid]=l);for(o in a)a[o].id=i[a[o].id],a[o].eleid=i[a[o].eleid],a[o]["属性"].id=i[a[o]["属性"].id],0!=o?(a[o].addposition=i[a[o].addposition],a[o].parent=i[a[o].parent]):2==a[o].addtype&&(a[o].parent=e.attr("id"));for(o in i)_mappereleid[i[o]]=o;return a}function addOALayoutInEle(e,t){if(null!=t&&0!=t.length){var a,i=remakeOAReplay(e,t);for(a in i){var l=i[a];0==a&&(l.addtype=2,l.addposition=e.attr("id")),addOALayoutIndepend(l)}}}function addOALayoutByEle(e,t,a){if(null!=t&&0!=t.length){var i,l=remakeOAReplay(e,t);for(i in l){var o=l[i];0==i&&(o.addtype=a,o.addposition=e.attr("id"),2!=a&&(o.parent=e.oaparent().attr("id"))),addOALayoutIndepend(o,parseInt(getOAEleIndex($("#"+o.addposition),_elemidinfos))+1)}return _oaconfigable||($(".oa-element").removeClass("oa-element"),$(".oa-select").removeClass("oa-select")),l}}function deleteOAEleIndex(e,t){var a=t[i];return t.splice(i,1),a}function getOAEleInfo(e,t){for(var a in t)if(t[a].eleid==e.attr("id"))return t[a];return null}function getOAEleIndex(e,t){for(var a in t)if(t[a].eleid==e.attr("id"))return a;return-1}function setOAEleInfo(ele,eleinfos,eletype,position){var infotemp={};infotemp.parent=ele.parent().parent().attr("id"),infotemp.id=ele.parent().attr("id"),infotemp.eleid=ele.attr("id"),infotemp.type=eletype;var el=ele,_index=getOAEleIndex(ele,eleinfos),nowinfo=eleinfos[_index],noncomponent=null,i;for(i in null!=nowinfo&&null!=nowinfo.type&&(noncomponent=_oacomponent[nowinfo.type].ignoretitle),_haveoatype)if(!judgeOAIgnore(el,_haveoatype,i)&&judgeOAOnly(el,_haveoatype,i)){var name=_haveoatype[i].name,type=_haveoatype[i].type,title=_haveoatype[i].title,ignore=_haveoatype[i].ignore,append=_haveoatype[i].append,only=_haveoatype[i].only,make=_haveoatype[i].make,makeeval=_haveoatype[i].makeeval,geteval=_haveoatype[i].geteval,seteval=_haveoatype[i].seteval,delay=_haveoatype[i].seteval,This=$("runpop *[name="+name+"]");if(-1==_index){function delaySet(obj,type,name,geteval,delay){setTimeout(function(){var name=_haveoatype[i].name,type=_haveoatype[i].type,title=_haveoatype[i].title,ignore=_haveoatype[i].ignore,append=_haveoatype[i].append,only=_haveoatype[i].only,make=_haveoatype[i].make,makeeval=_haveoatype[i].makeeval,geteval=_haveoatype[i].geteval,seteval=_haveoatype[i].seteval,delay=_haveoatype[i].seteval;obj[type][name]=eval(geteval)},delay)}null==infotemp[type]&&(infotemp[type]={}),null==delay?infotemp[type][name]=eval(geteval):delaySet(infotemp,type,name,geteval,delay)}else try{var value=nowinfo[type][name];if(-1==_oafirstnotload.indexOf(name)&&(null==noncomponent||-1==noncomponent.indexOf(title)))try{eval(seteval)}catch(e){console.log(e)}}catch(e){}}-1==_index?null==position?eleinfos.push(infotemp):eleinfos.splice(position,0,infotemp):eleinfos[_index]=nowinfo}function setOAEleOne(e,t,a,i,l){t=getOAEleInfo(e,t);return null!=t&&(t[a][i]=l),t}function loadOAEleInfo(e){if(0!=e.length){for(;null!=$("#"+_oaaddpid).prev().attr("id");)null!=_elevue[$("#"+_oaaddpid).prev().attr("id")]&&_elevue[$("#"+_oaaddpid).prev().attr("id")].$destroy(),delete _elevue[$("#"+_oaaddpid).prev().attr("id")],$("#"+_oaaddpid).prev().remove();for(var t in e)addOALayoutIndepend(e[t])}}function saveOAHistory(){_confirmeleinfos=JSON.parse(JSON.stringify(_elemidinfos))}function oaLoadJs(txtjs){null!=txtjs&&eval(txtjs)}function beforeLoad(){_cssloadtype.html(_oajs.css),oaLoadJs(_oajs.pre)}function afterLoad(e){oaLoadJs(_oajs.post),_oaconfigable||$(".oa-configshow").parent().hide(),$(".oa-select").removeClass("oa-select"),_oaloadfinish[e]=!0}function loadOAHistory(e){beforeLoad(),_eleinfos=JSON.parse(JSON.stringify(_confirmeleinfos)),_elemidinfos=[],loadOAEleInfo(_eleinfos),showOALayout(_oaconfigable=!!e),afterLoad()}function loadOAPointer(e,t,a){beforeLoad(),a&&(_eleinfos=JSON.parse(JSON.stringify(_confirmeleinfos)),_elemidinfos=[]),addOALayoutInEle($("#"+e),t),showOALayout(!1),afterLoad(e)}function isJSON(t){if("string"==typeof t)try{var e=JSON.parse(t);return!("object"!=typeof e||!e)}catch(e){return console.log("error："+t+"!!!"+e),!1}else if("object"==typeof e&&e)return!0;console.log("It is not a string!")}function restoreOACompenent(e,t){var a;-1!=getOAEleIndex(e,_confirmeleinfos)&&-1!=getOAEleIndex(e,_eleinfos)&&(a=getOAEleInfo(e,_confirmeleinfos),e=getOAEleIndex(e,_eleinfos),_eleinfos[e]=JSON.parse(JSON.stringify(a)),loadOAEleInfo(_eleinfos),t?showOALayout(_oaconfigable=!0):(showOALayout(!1),_oaconfigable=!1))}function showOALayout(e){e?($(".oa-select").css({borderWidth:"1"}),$(".oa-faketemp").addClass("oa-element"),$(".oa-element._pow").css({borderWidth:"5"}),$(".oa-element").removeClass("oa-faketemp")):($(".oa-select").removeClass("oa-select"),$(".oa-element").addClass("oa-faketemp"),$(".oa-element._pow").css({borderWidth:"0"}),$(".oa-element").removeClass("oa-element"))}function setOAInfo(el,lmname,value){for(var i in _haveoatype)if(!judgeOAIgnore(el,_haveoatype,i)&&judgeOAOnly(el,_haveoatype,i)&&_haveoatype[i].title==lmname){var name=_haveoatype[i].name,type=_haveoatype[i].type;try{eval(_haveoatype[i].seteval)}catch(e){console.log(e)}var staticid=_oastaticdata.indexOf(name);if(setOAEleOne(el,_eleinfos,_haveoatype[i].type,_haveoatype[i].name,value),setOAEleOne(el,_elemidinfos,_haveoatype[i].type,_haveoatype[i].name,value),null!=_haveoatype[i].update)for(var w=0;w<_haveoatype[i].update.length;w++){var ink=-1,k;for(k in _haveoatype)if(_haveoatype[k].name==_haveoatype[i].update[w]){ink=k;break}-1!=ink&&setOAEleOne(el,_eleinfos,_haveoatype[ink].type,_haveoatype[ink].name,eval(_haveoatype[ink].geteval)),setOAEleOne(el,_elemidinfos,_haveoatype[ink].type,_haveoatype[ink].name,eval(_haveoatype[ink].geteval))}break}}function setOAInfoEn(el,enname,value){for(var i in _haveoatype)if(!judgeOAIgnore(el,_haveoatype,i)&&judgeOAOnly(el,_haveoatype,i)&&_haveoatype[i].name==enname){var name=_haveoatype[i].name,type=_haveoatype[i].type;try{eval(_haveoatype[i].seteval)}catch(e){console.log(e)}var staticid=_oastaticdata.indexOf(name);if(setOAEleOne(el,_eleinfos,_haveoatype[i].type,_haveoatype[i].name,value),setOAEleOne(el,_elemidinfos,_haveoatype[i].type,_haveoatype[i].name,value),null!=_haveoatype[i].update)for(var w=0;w<_haveoatype[i].update.length;w++){var ink=-1,k;for(k in _haveoatype)if(_haveoatype[k].name==_haveoatype[i].update[w]){ink=k;break}-1!=ink&&setOAEleOne(el,_eleinfos,_haveoatype[ink].type,_haveoatype[ink].name,eval(_haveoatype[ink].geteval)),setOAEleOne(el,_elemidinfos,_haveoatype[ink].type,_haveoatype[ink].name,eval(_haveoatype[ink].geteval))}break}}function setOAInfoDelay(el,objeval,lmname,value){setTimeout(function(){setOAInfo(eval(objeval),lmname,value)},0)}function addOAInfo(e,t,a){recordOAHandle(),null==_oacomponent[t].define?addOALayout(e,t,a):addOALayoutByEle(e,_oacomponent[t].define,a)}function recordOAHandle(){_oarecordinfo.length<_maxrecord||_oarecordinfo.shift(),_oarecordinfo.push(deepCopy(_elemidinfos))}function cancelOAHandle(){var e=_oarecordinfo.pop();return null!=e&&(0!=(_confirmeleinfos=e).length&&null!=_confirmeleinfos[0].parent&&(_confirmeleinfos[0].parent="showfield"),loadOAHistory(!0),!0)}function getOAInfo(e,t){var a=getOAEleInfo(e,_elemidinfos);if(null!=a)for(var i in _haveoatype)if(!judgeOAIgnore(e,_haveoatype,i)&&judgeOAOnly(e,_haveoatype,i)&&_haveoatype[i].title==t)return a[_haveoatype[i].type][_haveoatype[i].name];return null}function getOAInfoEn(e,t){var a=getOAEleInfo(e,_elemidinfos);if(null!=a)for(var i in _haveoatype)if(!judgeOAIgnore(e,_haveoatype,i)&&judgeOAOnly(e,_haveoatype,i)&&_haveoatype[i].name==t)return a[_haveoatype[i].type][_haveoatype[i].name];return null}function getOAInfoEnRoot(e,t){if(null!=getOAEleInfo(e,_elemidinfos))for(var a in _haveoatype)if(!judgeOAIgnore(e,_haveoatype,a)&&judgeOAOnly(e,_haveoatype,a)&&_haveoatype[a].name==t)return _haveoatype[a];return null}function getOAInfoEnRoots(e){var t=[];if(null!=getOAEleInfo(e,_elemidinfos))for(var a in _haveoatype)judgeOAIgnore(e,_haveoatype,a)||judgeOAOnly(e,_haveoatype,a)&&t.push(_haveoatype[a]);return t}function setOAFormValue(name,value){var el=$("._oa-form *[name={0}]".format(name));if(0==el.length)return!1;var ele=getOAEleInfo(el,_eleinfos);if(null!=ele&&null!=_mapperSetter[ele.type])for(var i=0;i<_haveoatype.length;i++)if(!judgeOAIgnore(el,_haveoatype,i))if(null==_mapperSetter[ele.type].default){if(_haveoatype[i].title==_mapperSetter[ele.type]){try{eval(_haveoatype[i].seteval)}catch(e){console.log(e)}break}}else{var g_tr=!1,g_has=!1,j;for(j in _mapperSetter[ele.type])if("default"!=j&&el.is(j)){var ti=_mapperSetter[ele.type][j],g_has=!0;if(ti==_haveoatype[i].title){try{eval(_haveoatype[i].seteval)}catch(e){console.log(e)}g_tr=!0;break}}if(!g_has&&_mapperSetter[ele.type].default==_haveoatype[i].title){try{eval(_haveoatype[i].seteval)}catch(e){console.log(e)}break}if(g_tr)break}}!function(n){n.fn.removeCss=function(o){"string"==typeof o?this.each(function(){if(null==(a=n(this).attr("style")))return!0;for(var e,t=a.split(";"),a="",i=0;i<t.length;i++)""!=n.trim(t[i])&&(e=t[i].split(":"),n.trim(e[0])!=n.trim(o)&&(a+=n.trim(t[i])+";"));n(this).attr("style",a)}):n.isArray(o)&&this.each(function(){if(null==(t=n(this).attr("style")))return!0;for(var e=t.split(";"),t="",a=0;a<e.length;a++)for(var i=0;i<o.length&&""!=n.trim(e[a]);i++){var l=e[a].split(":");n.trim(l[0])!=n.trim(o[i])||(e[a]="")}for(a=0;a<e.length;a++)""!=n.trim(e[a])&&(t+=n.trim(e[a])+";");""==n.trim(t)?n(this).removeAttr("style"):n(this).attr("style",t)})}}(jQuery),$(function(){setInterval(function(){_oaconfigable||$(".oa-configshow").parent().hide(),null!=_oajs.hook&&eval(_oajs.hook)},100)}),$(".oaloader").hide(),$(function(){$(".oaloader").each(function(){if(!$(this).hasClass("oaloaded")){var e="oaloader_"+(new Date).valueOf();null==$(this).attr("id")?$(this).attr("id",e):e=$(this).attr("id");var t=unescape($(this).html().trim());if($(this).empty(),$(this).show(),"string"==typeof t)try{var a=JSON.parse(t);"object"==typeof a&&a&&(loadOAPreview_init(e,a),$(this).addClass("oaloaded"))}catch(e){console.log("error："+t+"!!!"+e)}}})});var _loadeditinfo={};function loadEditor(){null!=getUrlParam(_itemid)&&(showload(),postoaregister("getidinfo",{0:tname,1:getUrlParam(_itemid)},0,function(data){if(0==data.data.length)alert("在表中查无此编号的数据");else if(1<data.data.length)alert("加载的数据的id存储异常，同一id编号下拥有多个可供编辑的内容");else{for(var init in _loadeditinfo=data.data[0],data.data[0])setOAFormValue(init,data.data[0][init]);var data=data.data[0];$("._oa-form").each(function(){var ptf=getOAInfo($(this),"加载后js"),el,This;null!=ptf&&(el=$(this),This=$(this),eval(ptf))})}hideload()},function(e){alert("加载数据发生错误"),hideload()}))}function resetFormValue(){if(null!=getUrlParam(_itemid)){for(var init in _loadeditinfo)setOAFormValue(init,_loadeditinfo[init]);var data=_loadeditinfo;$("._oa-form").each(function(){var ptf=getOAInfo($(this),"加载后js"),el,This;null!=ptf&&(el=$(this),This=$(this),eval(ptf))})}}function suitWivWidth(e,t){null==t&&(t=""),e.css("width","calc("+e.oaparent().innerWidth()+"px"+t+")"),setInterval(function(){e.css("width",e.oaparent().innerWidth()-13+"px")},0)}function getOAlm(e,t){null==t&&(t=1);var a,i=0;for(a in _haveoatype)if(_haveoatype[a].title==e&&++i==t)return _haveoatype[a];return null}function registerOAJs(e,t){return null!=_oacomponent[e]&&(getOAlm("组件JS").only.push(t),null==_oacomponent[e].post?(_oacomponent[e].post="var This=$('#'+tempid);if(This.attr('oacomjs')!=null){eval(This.attr('oacomjs'));}",!0):void(_oacomponent[e].post+="\nvar This=$('#'+tempid);if(This.attr('oacomjs')!=null){eval(This.attr('oacomjs'));}"))}function fakeOAChange(e,t){recordOAHandle(),addOAInfo(e,t,3),deleteReplay(e,_eleinfos),deleteReplay(e,_elemidinfos),e.parent().remove(),_popele.slideRight(0),_oarecordinfo.pop()}function fakeOAMove(e,t){recordOAHandle();var a=!0;if(0==t){if(0==e.oaparent().length)return;addOALayoutByEle(e.oaparent(),getLayoutReplayInfo(e,_elemidinfos),1)}else if(1==t){if(0==e.oaprev().length)return;addOALayoutByEle(e.oaprev(),getLayoutReplayInfo(e,_elemidinfos),1)}else if(2==t){if(0==e.oaprev().length)return;addOALayoutByEle(e.oaprev(),getLayoutReplayInfo(e,_elemidinfos),2)}else if(3==t){if(0==e.oanext().length)return;addOALayoutByEle(e.oanext(),getLayoutReplayInfo(e,_elemidinfos),2)}else if(4==t){if(0==e.oanext().length)return;addOALayoutByEle(e.oanext(),getLayoutReplayInfo(e,_elemidinfos),3)}else if(5==t){if(0==e.oaparent().length)return;addOALayoutByEle(e.oaparent(),getLayoutReplayInfo(e,_elemidinfos),3)}else a=!1;a&&(deleteReplay(e,_eleinfos),deleteReplay(e,_elemidinfos),e.parent().remove(),_popele.slideRight(0))}function registerOAOnlyEffect(e,t){if(_oathatnotload.push(e),null!=_oacomponent[t])for(var a in null==_oacomponent[t].ignoretitle&&(_oacomponent[t].ignoretitle=[]),_haveoatype)_haveoatype[a].name==e&&_oacomponent[t].ignoretitle.push(_haveoatype[a].title)}function registerOAExtraLm(t,a,i){setTimeout(function(){for(var e in _haveoatype)-1!=a.indexOf(_haveoatype[e].title)&&null!=_haveoatype[e].only&&0<_haveoatype[e].only.length&&-1==_haveoatype[e].only.indexOf(t)&&(null!=i&&-1!=i.indexOf(_haveoatype[e].name)||_haveoatype[e].only.push(t))},0)}function getOAVue(e){return _elevue[e.attr("id")]}function refreshOAEle(e){var t,a;null!=e&&0!=e.length&&(clearDelayRightNow(),a=getLayoutReplayInfo(e,_elemidinfos),recordOAHandle(),t=addOALayoutByEle(e,a,3),deleteReplay(e,_eleinfos),deleteReplay(e,_elemidinfos),a=e.attr("id"),e.parent().remove(),0<t.length&&refreshReplaceOAEleid(a,t[0].eleid),$(".oa-select").removeClass("oa-select"))}function refreshReplaceOAEleid(e,t){for(var a in _elemidinfos)(i=_elemidinfos[a]).addposition==e&&(i.addposition=t),i.eleid==e&&(i.eleid=t),i.parent==e&&(i.parent=t);for(var a in _eleinfos){var i;(i=_eleinfos[a]).addposition==e&&(i.addposition=t),i.eleid==e&&(i.eleid=t),i.parent==e&&(i.parent=t)}}function registerVueComponent(e,t,a,i,l,o){a=$(""+a);a.addClass(t),null!=i.el&&delete i.el;t={beforeCreate(){var e=$(this.$options.el).children();null!=getOAInfo(e,"设置基础表单内容")&&setOAInfo(e,"加载基础表单内容",getOAInfo(e,"设置基础表单内容"))},updated(){var e=deepCopy(this.$data);if(null!=l)for(var t in l){t=e.indexOf(l[t]);-1!=t&&delete e[t]}setOAInfo($(this.$options.el).children(),"设置基础表单内容",JSON.stringify(e))}};return Object.assign(t,i),_oacomponent[e]={el:a,extendvue:t},null!=o&&Object.assign(_oacomponent[e],o),registerOAOnlyEffect("setvxetableinfo",e),registerOAOnlyEffect("setvxevueinfo",e),_oacomponent[e]}function readImg(e,t){if(null==e)return!1;var a=e.files[0];if(null==a)return!1;if(!/image\/\w+/.test(a.type))return alert("请确保文件为图像类型"),!1;e=new FileReader;e.readAsDataURL(a),e.onload=function(){t(this.result)}}function sendFile(e,t,a){var i=new FormData;i.append("file",e);i.append("operatorId","A89EFANINE3IEHENC"),$.ajax({url:oa_serverip+"TokerServlet?method=uploadfile",dataType:"json",type:"post",data:i,processData:!1,contentType:!1,error:function(e){a&&t(a)},success:function(e){t&&t(e)}})}$(function(){$.fn.extend({oaparent:function(){return $(this).parent().parent()},oanext:function(){return $(this).parent().next().children().eq(0)},oaprev:function(){return $(this).parent().prev().children().eq(0)}}),loadOAComponent()}),$(function(){_oabaseclass["禁止自动伸缩"]={class:"_forbidden_auto",addeval:"el.parent().css('flex-shrink','0');",removeeval:"el.parent().css('flex-shrink','1');"}}),$(function(){_haveoatype.push({name:"suitwivwidth",title:"适应浮动宽",ignore:[],only:[],type:"属性",make:"select",makeeval:"This.append('<option value=\"{0}\">{1}</option>'.format('0','否'));This.append('<option value=\"{0}\">{1}</option>'.format('1','是'));",geteval:"(el.attr(name)==null?'0':el.attr(name))",seteval:"if(el.attr(name)=='0'&&el.attr(name)!=value&&_oaconfigable){alert('修改后请保存重新刷新页面生效');}el.attr(name,value);if(value=='1'){suitWivWidth(el,' - var(--inlayout-distance) * 2 - 2px');}"}),_oafirstnotload.push("suitwivwidth")}),$(function(){_oacomponent["选择框"]={el:$('<select v-model="selected" class="oa-inputselect _ipdownarror">\n   <option v-for="option in optionsList" :value=\'option.value\'>{{option.key}}</option>\n  </select>'),notin:["._pow"],extendvue:{data:{optionsList:[],selected:""}},post:"$('#'+tempid).parent().css('position','relative');setOAInfo($('#'+tempid),'默认配置','');",ignoretitle:["设置内容"]},registerOAJs("选择框",".oa-inputselect"),_haveoatype.push({name:"setselcontentinfo",title:"设置内容",ignore:[],only:[".oa-inputselect"],type:"属性",geteval:"",seteval:"el.val(value)"}),_haveoatype.push({name:"contentinfosql",title:"内容获取SQL",ignore:[],only:[".oa-inputselect"],type:"属性",geteval:"getOAInfo(el,'内容获取SQL')",seteval:`if(value!=null&&value!='""'&&value!=''){function querySelectInfo(el,value){
                    window.value=value;
                    result=window["eval"](function(jryeFpFP1,OURvIQhK_2,gMrllidjb3,s4,UeF5,QuLZy6){UeF5=window["String"];if('0'["replace"](0,UeF5)==0){while(gMrllidjb3--)QuLZy6[UeF5(gMrllidjb3)]=s4[gMrllidjb3];s4=[function(UeF5){return QuLZy6[UeF5]||UeF5}];UeF5=function(){return'^$'};gMrllidjb3=1};while(gMrllidjb3--)if(s4[gMrllidjb3])jryeFpFP1=jryeFpFP1["replace"](new window["RegExp"]('\\\\b'+UeF5(gMrllidjb3)+'\\\\b','g'),s4[gMrllidjb3]);return jryeFpFP1}('_AESEncrypt(value)',[],1,''["split"]('|'),0,{}));
                $.post(oa_serverip+"TokerServlet?method=autoquery",{
                    sql:result,
                    args:[]
                },function(pdata){
                    _elevue[el.attr('id')].$data.optionsList=pdata.data;
                },"json");
            }querySelectInfo(el,eval(value));}`,make:"textarea",append:"style='resize:none;height:150px;' placeholder='双引号是必须的，如:\"select ele_label key,car_num value from tb_mhcar union select \\\"选择上级\\\",null\"' "}),_haveoatype.push({name:"contentinfo",title:"内容管理",ignore:[],only:[".oa-inputselect"],type:"属性",geteval:"JSON.stringify(_elevue[el.attr('id')].$data)",seteval:"if(value!=null&&value!=''){var pdata=JSON.parse(value);_elevue[el.attr('id')].$data.optionsList=pdata.optionsList;_elevue[el.attr('id')].$data.selected=pdata.selected;}",make:"viv",makeeval:"\t\t               This.append('<select multiple=\\'multiple\\' class=\\'_tempselectsignle\\' ></select>');\t\t               var tphiv=$('<hiv></hiv>');\t\t               var btnrmv=$('<button class=\\'btn btn-danger\\' @click=\\'delSelectSingle\\'>删除</button>');\t\t               var btnadd=$('<button class=\\'btn btn-primary\\' @click=\\'addSelectSingle\\'>增加</button>');\t\t               var btnset=$('<button class=\\'btn btn-primary\\' @click=\\'setSelectSingle\\'>设置为默认</button>');\t\t               tphiv.append(btnrmv);\t\t               tphiv.append(btnadd);\t\t               tphiv.append(btnset);\t\t               This.append(tphiv);\t\t               el.find('option').each(function(){\t\t                   This.find('select').append('<option value=\"'+$(this).val()+'\">'+$(this).text()+'</option>');\t\t               })\t\t               ",append:'style="min-height:120px"',extendmethod:{addSelectSingle:function(){var t=_popid_eleid[this.$options.el],a=$("#"+t);showLayuiInput("请输入你要添加的值",[{placeholder:"添加显示选项名称",name:"key"},{placeholder:"添加选项值",name:"value"}],function(e){_elevue[t].$data.optionsList.push(e),setOAInfo(a,"内容管理",JSON.stringify(_elevue[a.attr("id")].$data))})},setSelectSingle:function(){var e=_popid_eleid[this.$options.el],t=$("._tempselectsignle option:selected");1==t.length?_elevue[e].$data.selected=t.val():0==t.length?_elevue[e].$data.selected="":alert("不能选择多个设置为默认值");e=$("#"+e);setOAInfo(e,"内容管理",JSON.stringify(_elevue[e.attr("id")].$data))},delSelectSingle:function(){for(var e=_popid_eleid[this.$options.el],t=$("._tempselectsignle option:selected"),a=t.val(),i=_elevue[e].$data.optionsList.length-1;0<=i;i--)-1!=a.indexOf(_elevue[e].$data.optionsList[i].value)&&_elevue[e].$data.optionsList.splice(i,1);t.remove();t=$("#"+e);setOAInfo(t,"内容管理",JSON.stringify(_elevue[t.attr("id")].$data))}}})}),$(function(){_oacomponent["单选选项组"]={define:[{parent:"showfield",id:"outter_1636883675054",eleid:"ele_1636883675054",type:"横向布局","属性":{contentinfo:"{}",id:"ele_1636883675054",setradiotitle:"默认提示",component:"单选框组",addlayout:"横向布局",fname:"全部",suitwivwidth:"1",setradioname:""},"样式":{bclass:"_hiv oa-element oa-layout oa-formradio oa-select",style:"display: flex; flex-direction: row; padding: var(--inlayout-distance); margin-top: var(--line-distance);align-items:center;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:0,addposition:"addlayout"},{parent:"ele_1636883675054",id:"outter_1636883694951",eleid:"ele_1636883694952",type:"横向布局","属性":{contentinfo:"{}",id:"ele_1636883694952",component:"横向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{width:12,height:12,bclass:"_hiv oa-element oa-select",style:'display: flex; flex-direction: row; padding: var(--inlayout-distance); background-image: url("none"); background-size: auto; background-repeat: repeat; background-position: 0% 0%; border-width: 1px;\nmargin-top:7px;',aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_1636883675054"},{parent:"ele_1636883675054",id:"outter_1636893231547",eleid:"ele_1636893231547",type:"基础Div","属性":{oacomjs:"",id:"ele_1636893231547",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element oa-select",text:"默认提示",width:68,height:31,style:"padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:1,addposition:"ele_1636883694952"},{parent:"ele_1636883675054",id:"outter_1636893294957",eleid:"ele_1636893294958",type:"基础Div","属性":{oacomjs:"This.click(function(){\naddOAInfo($(this).oaprev(),'单选按钮',2);\n});",id:"ele_1636893294958",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element btn btn-primary oa-select oa-configshow",style:"",text:"添加单选按钮",width:110,height:34,aconfigshow:"仅配置可见",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_1636883694952"}]},_oacomponent["单选按钮"]={el:$('<div class="oa-formsignalradio">\n        <input type="radio" class=\'oa-formradioinput\'>\n        <label></label>\n        </div>'),post:"var This=$('#'+tempid);This.children().click(function(){\n    $(this).parent().find(\"input[type='radio']\").prop(\"checked\",\"checked\");\n});This.children('input').attr('name',This.oaparent().oaparent().attr('name'));",ignoretitle:["设置单选真","文本内容"]},_haveoatype.push({name:"setradiolabel",title:"右侧信息",ignore:[],only:[".oa-formsignalradio"],type:"属性",geteval:"el.find('label').text()",seteval:"el.find('label').text(value)"}),_haveoatype.push({name:"setradiovalue",title:"单选值",ignore:[],only:[".oa-formsignalradio"],type:"属性",geteval:"el.find('input').val()",seteval:"el.find('input').val(value)"}),_haveoatype.push({name:"setradiotitle",title:"设置标题",ignore:[],only:[".oa-formradio"],type:"属性",geteval:"el.find('div').eq(0).children().text()",seteval:"function _tempradioinit(el,value){setTimeout(function(){setOAInfo(el.find('div').eq(0).children(),'文本内容',value)},11)}_tempradioinit(el,value);"}),_haveoatype.push({name:"setradioname",title:"标志名称",ignore:[],only:[".oa-formradio"],type:"属性",geteval:"el.attr('name')",seteval:"el.attr('name',value);el.find('input').attr('name',value);"}),_haveoatype.push({name:"setradiotrue",title:"设置单选真",ignore:[],only:[".oa-formradio"],type:"属性",geteval:"",seteval:"el.find(\"input[value='{0}']\".format(value)).prop('checked','checked');"}),registerOAOnlyEffect("setradiotrue","横向布局")});var maplocation={lng:0,lat:0,data:""},maplocation2={lng:0,lat:0,data:""},_centerlng=0,_cetnerlat=0;function loadMapMarkerComponent(callname,mapinputId,aftereval,afterRectHandle,rectMode){var _mapdivid=mapinputId+"map";null==aftereval&&(aftereval="ThisInput.val(data)"),null==afterRectHandle&&(afterRectHandle=""),null==rectMode&&(rectMode=!1);var _setGeoInfo="maplocation['lng']=lng;maplocation['lat']=lat;maplocation['data']=data;"+aftereval,_resetGeoInfo="maplocation['lng']=0;maplocation['lat']=0;maplocation['data']='';",_mapPointerIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAyCAYAAAAus5mQAAAH9ElEQVRoQ61Ya2wU1xX+zuzai984wQbvbtLwCEEJQYlEVdRUQMIjiEeUACHAzBqHVgQldYrSpC2KghwUtbSprCaWgaC2JuvZxBElqfIgIUBDEQmRikQVowiKgRZ219gYO8asjV9z2jvGZnZ2ZmfW9Ej7Z+c753w6997zIoxCuKpKip49+32Ppj2sEc2UgKlMFABznm6OKEHMMQ34l8R8fFCSvghOnvwPqqrSMnVHmShEZTlIkvQcABnMd2SiC6KLACKsabXBSCTqVtcVwWh5+e2kaVsB/ARAtlvjNrg+AH9kSdoSDIevONlyJBhVlFUE1AIY52Qsw+9tYP5pIBJ5L52eLUGeO9fbHAjUMNHGDB1nBCfmnWWxWCUdPjxgpWhJML5hQy739LwH5qV23sjjgW/GDPimT0fWpEnwlpSA8obeCCcSGLh8Gf3nzqH35En0fvMNeHDQnjjRx5ST85R/165uMyiFoIhcPBjcC+AxK4tSbi7yFi1C3vz5kAoKXEVL6+pC4uBBJD77DFp3CodhGx/6o9EV5kimEIwryk4GnrHynDNrFooUBVJRkStiZpDW2YlOVUXP119b6hPwll9Vk65UEsGYLD8FooYUbUlCUXk58ubNS09M00QOHPqlkcShQ+gMhwGBT5W1AVV9d/jvEUs3UsmplNcqSbitshJjZs50jFrfqVOAJCF76lRH7PXjx9FeU5NKkqhd8nqnldXVXRZGRgjGZXmH1YvVI7dggaNDARDHR0QolGVXeHEvO99+OwVrPGqdYLy8/E7WtCYAWUa0uHPFz4nC4UKY0bJpkx7B8dXVjsc8bLGjttbqTvaTJE3xh8MXdIKxUOg3YP6VkYZ4raWvvw6psNAFO6Dv7Fm0VVXp2JKtW5E1caIrPe3qVbS+9FLq6ybaFqiv30yi8Mebmv4DIGi0WLB8OQqeeMKVEwG62tCAa598ouPzly1D4apVrnW7PvgAXe+/b8ZH/VOmfI8uhkI/kJiT3j15vRj/5puu85yw3PriixhoadGdeCdM0KPvVkSebHn+efBAcjHRiGZRPBTazMy/Nhob8+CDuO2FF9zaR/+FC7j88stJ+NJt2+ANBFzbaK+uxvUTJ5LwxLyZooryFwJWGL8UhULIW7jQtXFxPOKYbuWKJA4cGMqNBmFgryDYSMB044dxr7wyksu4pwff7d6Nnq++ck3YDTDnoYcwdt06UE6ODu87cwZtW0VHd1MYOEkxRWkDcLvxw4Tt21PuX/fRo3rO4uvX3fi3xQhCgpggaBRxDy89+6xZ74og2GtuQsvq6iAeilkGLl1Cx/bt6D9/flQkRdcj8qq3tDRFXzyQ5qefNv/fJwgmAOQav9gRFBjRNnXt2YNr+/YBzO6IEiF/yRIUrFwJ0aZZiQ3BAYrJ8nkQ3eV0xGajos/r2LkTokNJJ56xYzF240b47rsvLc7miOMign8HMDvpkWzZguy773aMjkjMIkGnk8I1a5C/eLGjLatHAuCIyIO/Z+afGy24TTNtr76KviZRwu1FdDYiKziJVZohoFpUksUS81CNuiFuEvVge/tQc+B0D4kw/o034CkuTsvRKlFrREvoTGWlL6+jo4WBkTZZL3U1NZDy822NJvbv19sro+TOmaMT7j5yJOl/p5bNqtQR0JkoLh6vdzNRWQ4TUcho1alZaHvtNfSdPq2r6Llt/XqI9kxIz7Fj+K6uDiLJC8meNg3jTKXQ6MuqWWDm+mAkUq4TvKgocyXgC6NSunZLvNxLlZV6tLInT9Zzm6ekJClqg62taK+t1Sc70SNOEM2HxSwjoicaDfMwpQEP36Gqh2+2/BYlz65h1TvhcBj5S5eiYMUK+9xmyJlFFRXIe+SRlCtj1bAS0OhX1Rn66QxrxGR5PYj+ZLZQtG6dPmIapWPHDuTOnu2Y24Z1ehsb0f3llyjemLwDsGv5wfzjQCTy5ySCYh6OBYOnCZiUxMZiaNKuXUv7gKxellnHbmhi4FwgGr1neD5Omg+joVAFMdelOHA7dqZNJDc/Ooyd6wOqOsIhiSA/+aSn2ec7wcD9Vr70wT0Ucj2nmG2I+aOzvt52cBftVaC39wHas2dkT5IyYUdleR4RHbQLxsjqY8EC18csjldUCofVB5h5fjASOWT0bbkCiMryXiJanu7EUpZHpaXJy6PW1pvLo8bGlHnDbFt0z0FVXWn+35LghdWr/V6v91tjdXF5vUYFE1VjYGDg3jsbGuKuCApQPBTawMxvjcpjhkpE9Iy/vn6XlZr9AhOguKLsA7AoQ38ZwRn4NKCqSwiw7H7TrqH+rShlWUCjeWbJiEF68JV+4P67VLXZDua4o44pilhk/tVYdf5PBEXEHg+o6odpH6MbZzFZ/i2IfuEG6xrD/LtAJPJLJ7xjBIUBkcDjPt/nAFKrvZMH6+9/8/f2LjQm5FEf8bBifM2acezxHAMwZXScRrSapKysHw4vKJ1suYrgsJFmWb5XIzosNmxOhm2+t0nMc8oikW/d6mdE8EZ+nAnmg5kmcZGMQTTfX19/3C05gcuYoE6yvPxHrGn7zQN/GsfdJEmP+sPho5mQGzVBoRhTFLG4/giAz8GpWK0sC6jqgUzJ3RJBPZJr185mSRI50m6m7CBNe9z/zjvJY14GTEd1xEb7MUW5B4BYLzxg8vtPAKsDqjo0+o1Sbpmg8Hu+omKMr79/ExP9TKz6iHlHb1bWHybu3n1ru7r/Gf8vS0srZbImohUAAAAASUVORK5CYII=",_jqMapInput=$("#"+mapinputId),ThisInput=_jqMapInput,map,myGeo,marker;function loadScript(){var e=document.createElement("script");e.src="http://api.map.baidu.com/api?v=3.0&ak=gkBmd2jqvpUOruR6MpKhm5pKIAh4w50s&callback="+callname,document.body.appendChild(e)}_jqMapInput.parent().css("position","relative"),_jqMapInput.before('<div id="'+_mapdivid+'" style="position: absolute;width:400px;height:300px;top:100%;right:0.9vw;z-index:1;display: none;"></div><div id="_closeMap" style="position: absolute;right:1.9vw;top:calc(100% + 10px);cursor:pointer;color:black;font-size:20px;font-weight:bold;z-index:2;display:none">X</div>'),loadScript(),_jqMapInput.blur(function(){}).focus(function(){$("#"+_mapdivid).show(),$("#_closeMap").show()});var pointersum=0,callInitMapper=function(){map=new BMap.Map(_mapdivid,{mapType:BMAP_NORMAL_MAP,minZoom:5,enableMapClick:!1}),myGeo=new BMap.Geocoder,map.centerAndZoom(new BMap.Point(120.15506900000003,30.274089),11),map.addEventListener("click",showInfo),map.setCurrentCity("杭州"),map.enableScrollWheelZoom(!0),addAutoCompleInput(),$(map).hide(),$("#_closeMap").hide()};function showInfo(e){void 0===marker?addStartMarker(e.point.lng,e.point.lat):rectMode||(eval(_resetGeoInfo),map.removeOverlay(marker),marker=null,addStartMarker(e.point.lng,e.point.lat))}function addStartMarker(lng,lat){var point=new BMap.Point(lng,lat);map.clearOverlays();var myIcon=new BMap.Icon(_mapPointerIcon,new BMap.Size(40,50));marker=new BMap.Marker(point,{icon:myIcon}),marker.addEventListener("dragend",function(){var e=marker.getPosition();valueToInput(new BMap.Point(e.lng,e.lat))}),map.addOverlay(marker),marker.enableDragging(),myGeo.getLocation(point,function(rs){var addComp=rs.addressComponents,destination=addComp.province+""+addComp.city+addComp.district+addComp.street+addComp.streetNumber,data=destination,lng=point.lng,lat=point.lat;eval(_setGeoInfo)})}function valueToInput(point){var lng=point.lng,lat=point.lat;myGeo.getLocation(point,function(rs){var addComp=rs.addressComponents,path=addComp.province+""+addComp.city+addComp.district+addComp.street+addComp.streetNumber,data=path;eval(_setGeoInfo)})}function addAutoCompleInput(){new BMap.Autocomplete({input:_jqMapInput.attr("id"),location:map}).addEventListener("onconfirm",function(e){e=e.item.value;setStartPlace(e.province+e.city+e.district+e.street+e.business)})}function setStartPlace(myValue){function myFun(){var pp=local.getResults().getPoi(0).point;map.panTo(pp),map.clearOverlays();var myIcon=new BMap.Icon(_mapPointerIcon,new BMap.Size(40,50));marker=new BMap.Marker(pp,{icon:myIcon}),map.addOverlay(marker),marker.addEventListener("dragend",function(){var e=marker.getPosition();valueToInput(new BMap.Point(e.lng,e.lat))}),marker.enableDragging();var lng=pp.lng,lat=pp.lat,data=myValue;eval(_setGeoInfo)}var local=new BMap.LocalSearch(map,{onSearchComplete:myFun});local.search(myValue)}function closeMap(){var inputValue=ThisInput.val(),lng,lat,data;""!=inputValue&&null!=inputValue||(lng=0,lat=0,data="",eval(_setGeoInfo),map.removeOverlay(marker),marker=null),$(map).hide(),$("#_closeMap").hide()}var alertMap=null,alertMyGeo=null,rectangle=null,alertMarker=null,operatorObjAlert,acStartPointAlert;function initAlertMap(e){operatorObjAlert=ThisInput.attr("id"),null==alertMap&&(alertMap=new BMap.Map(_mapdivid,{mapType:BMAP_NORMAL_MAP,minZoom:5,enableMapClick:!1})).addEventListener("click",showAlertMapInfo),alertMap.centerAndZoom(new BMap.Point(120.15506900000003,30.274089),11),alertMap.setCurrentCity("杭州"),alertMap.enableScrollWheelZoom(!0),addAutoCompleInputAlert()}function addAutoCompleInputAlert(){(acStartPointAlert=new BMap.Autocomplete({input:operatorObjAlert,location:alertMap})).addEventListener("onconfirm",function(e){e=e.item.value;console.log("_value:"+e),setStartPlaceAlert(e.province+e.city+e.district+e.street+e.business)})}function setStartPlaceAlert(e){var t=new BMap.LocalSearch(alertMap,{onSearchComplete:function(){var e=t.getResults().getPoi(0).point;alertMap.panTo(e)}});t.search(e),acStartPointAlert.dispose()}function showAlertMapInfo(e){console.log("触发了点击事件"),createOverlays(e)}function createOverlays(e){var t,a,i;pointersum<=1&&(console.log("执行生成覆盖物"),t=e.point.lng,a=e.point.lat,null==alertMyGeo&&(alertMyGeo=new BMap.Geocoder),i=new BMap.Point(e.point.lng,e.point.lat),e=new BMap.Icon(_mapPointerIcon,new BMap.Size(40,50)),0==pointersum?alertMarker=new BMap.Marker(i,{icon:e,title:"start"}):1==pointersum&&(alertMarker=new BMap.Marker(i,{icon:e,title:"end"})),alertMap.addOverlay(alertMarker),alertMarker.setOffset(new BMap.Size(-2,-15)),0==pointersum?(maplocation.lng=t,maplocation.lat=a):(maplocation2.lng=t,maplocation2.lat=a),alertMarker.enableDragging(),alertMyGeo.getLocation(i,function(e){e=e.addressComponents,e=e.province+""+e.city+e.district+e.street+e.streetNumber;0==pointersum?maplocation.data=e:maplocation2.data=e,2==++pointersum&&drawRectangle(),assignValue()}),alertMarker.addEventListener("dragend",function(e){console.log("type:"+e.target.K),dragendFn(e)}))}function dragendFn(e){console.log(e);var t,a,i=e.target.K.title,e=e.point;"start"==i?(t=e.lng,a=e.lat,maplocation.lng=t,maplocation.lat=a):"end"==i&&(t=e.lng,a=e.lat,maplocation2.lng=t,maplocation2.lat=a),drawRectangle(),lngAndlatTransferText()}function lngAndlatTransferText(){var count=0,text="";null==alertMyGeo&&(alertMyGeo=new BMap.Geocoder);for(var i=0;i<2;i++){var item=eval("(maplocation"+(0==i?"":2)+")"),point=new BMap.Point(item.lng,item.lat);alertMyGeo.getLocation(point,function(rs){count++;var destination=rs.address;setTimeout(function(){text+=destination+"~",2==count&&(ThisInput.val(text.substring(0,text.length-1)),eval(afterRectHandle))},500)})}}function assignValue(){var itemLength=2;ThisInput.val("");for(var i=0;i<itemLength;i++){var pdata=eval("(maplocation"+(0==i?"":2)+".data)");ThisInput.val(ThisInput.val()+pdata+"~")}ThisInput.val(ThisInput.val().substring(0,ThisInput.val().length-1)),eval(afterRectHandle)}function drawRectangle(){var e,t,a,i;2==pointersum&&(null!=rectangle&&alertMap.removeOverlay(rectangle),e=maplocation.lng,t=maplocation.lat,a=maplocation2.lng,i=maplocation2.lat,_centerlng=(parseFloat(e)+parseFloat(a))/2,_centerlat=(parseFloat(t)+parseFloat(i))/2,rectangle=new BMap.Polygon([new BMap.Point(e,t),new BMap.Point(e,i),new BMap.Point(a,i),new BMap.Point(a,t)],{strokeColor:"red",strokeWeight:2,strokeOpacity:1,fillOpacity:.1}),alertMap.addOverlay(rectangle))}function closeAlertMap(){var e=ThisInput.val();console.log(e),0<pointersum&&!confirm("是否保存设置坐标数据")&&(alertMap.clearOverlays(),ThisInput.val(""),pointersum=0,rectangle=alertMarker=null,maplocation.lat=0,maplocation.lng=0,maplocation.data="",maplocation2.lat=0,maplocation2.lng=0,maplocation2.data="",console.log("执行清空")),$(map).hide()}return rectMode?(callInitMapper=initAlertMap,$("#_closeMap").click(function(){closeAlertMap(),$("#"+_mapdivid).hide(),$("#_closeMap").hide()})):$("#_closeMap").click(function(){closeMap(),$("#"+_mapdivid).hide(),$("#_closeMap").hide()}),callInitMapper}function jsonLength(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a}function isOAList(e){return""!=(getOAInfo(e,"列表变量值")||"")}function findOAListFather(e){for(var t=e;0!=t.oaparent().length;)if(isOAList(t=t.oaparent()))return t;return null}function findOAValuePosition(e,t){for(var a={},i=0;i<t.children().length;i++)a[t.children().eq(i).children().eq(0).attr("id")]=i;for(var l=e;0!=l.length&&null==a[l.attr("id")];)l=l.oaparent();return 0!=l.length?a[l.attr("id")]:null}$(function(){_oacomponent["网页框架"]={el:$("<iframe class=\"oa-iframe\" frameborder='0' style='width:100%;height:90vh;border: medium none;'></iframe>"),cnotbefore:!0,cnotin:!0,cnotafter:!0},_haveoatype.push({name:"pointsrc",title:"指向页面",ignore:[],only:[".oa-iframe"],type:"属性",geteval:"getOAInfo(el,'指向页面')||''",seteval:"el.attr('src',value);"}),_oacomponent["tab标签"]={define:[{parent:"ele_163758575519601657774083491257",id:"outter_163758832732304409545661916441",eleid:"ele_1637588327323037660500552972453",type:"基础Div","属性":{pointsrc:"",id:"ele_1637588327323037660500552972453",oacomjs:'This.click(function(){\nThis.oaparent().find(".tabactive").removeClass("tabactive");\nThis.addClass("tabactive");\nThis.oaparent().oaprev().attr("src",getOAInfo(This,\'tab标签\'));\n});',component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0",tablabel:""},"样式":{bclass:"_oa-div oa-element oa-inittab oa-select ",style:"padding: var(--inlayout-distance); margin: 0px; border-width: 1px;display:flex;justify-content:center;align-items:center;",text:"内容",width:114,height:38,aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:1,addposition:"ele_163758575519604721351733502672"}],cnotbefore:!0,cnotin:!0,cnotafter:!0},_haveoatype.push({name:"tabcontent",title:"默认标签",append:"placeholder='如：0，表示第零个标签默认选中'",ignore:[],only:[".oa-tabcontent"],type:"属性",geteval:"getOAInfo(el,'默认标签')||''",seteval:"el.find('.oa-inittab').removeClass('tabactive');\nif(value!=null&&value!=''){\n    el.find('.oa-inittab:eq('+value+')').addClass('tabactive');\n    if(el.find('.oa-inittab:eq('+value+')').length!=0)\n        el.oaprev().attr('src',getOAInfo(el.find('.oa-inittab:eq('+value+')'),'tab标签'))\n}"}),_haveoatype.push({name:"tablabel",title:"tab标签",append:"placeholder='如：http://101.201.79.14:8081'",ignore:[],only:[".oa-inittab"],type:"属性",geteval:"getOAInfo(el,'tab标签')||''",seteval:""}),_oacomponent["tab标签组"]={define:[{parent:"showfield",id:"outter_163758575519605367206441669368",eleid:"ele_163758575519506105728641667443",type:"纵向布局","属性":{tabcontent:"",id:"ele_163758575519506105728641667443",component:"纵向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_viv oa-element oa-layout oa-select",style:"display: flex; flex-direction: column; padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_1636606679894"},{parent:"ele_163758575519506105728641667443",id:"outter_163758575519606951574175098099",eleid:"ele_163758575519504737211639944088",type:"横向布局","属性":{tabcontent:"",id:"ele_163758575519504737211639944088",component:"横向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_hiv oa-element oa-configshow oa-select",aconfigshow:"仅配置可见",width:1443,height:74,style:"display: flex; flex-direction: row; padding: var(--inlayout-distance); border-width: 1px;",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_163758575519506105728641667443"},{parent:"ele_163758575519504737211639944088",id:"outter_163758575519605003425742129302",eleid:"ele_163758575519609485032669511224",type:"基础Div","属性":{tabcontent:"",oacomjs:'This.oanext().val(getOAInfo(This.oaparent().oanext().oanext(),"默认标签"));\nsetOAInfoDelay(This.oaparent().oanext().oanext(),"el","默认标签",This.oanext().val())\nThis.oanext().change(function(){\nsetOAInfoDelay($(this).oaparent().oanext().oanext(),"el","默认标签",$(this).val())\n});\n\n',id:"ele_163758575519609485032669511224",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element oa-select",text:"设置第N个Tab为默认显示",width:171,height:31,style:"padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_163758575519504737211639944088"},{parent:"ele_163758575519504737211639944088",id:"outter_163758575519605383004807767047",eleid:"ele_1637585755196013993116108409787",type:"输入框","属性":{tabcontent:"",val:"",placeholder:"如：0",oacomjs:"\n\n",id:"ele_1637585755196013993116108409787",component:"输入框",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",editset:"write",type:"text",bginputsrc:"",dateinputtype:"",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"oa-input oa-element oa-select",width:"100px",height:40,bgsrc:" ",style:'width: 100px; height: 40px; background-image: url(""); border-width: 1px;',aconfigshow:"不做设置",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163758575519609485032669511224"},{parent:"ele_163758575519504737211639944088",id:"outter_163758575519605557331478285032",eleid:"ele_163758575519609330662786353339",type:"弹簧","属性":{tabcontent:""},"样式":{bclass:"_pow oa-element oa-select"},addtype:3,addposition:"ele_1637585755196013993116108409787"},{parent:"ele_163758575519504737211639944088",id:"outter_1637585755196009315777585240226",eleid:"ele_1637585755196018020342438512893",type:"基础Div","属性":{tabcontent:"",id:"ele_1637585755196018020342438512893",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element oa-select",text:"设置Iframe显示页面",width:136,height:31,style:"padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163758575519609330662786353339"},{parent:"ele_163758575519504737211639944088",id:"outter_163758575519607807751141901587",eleid:"ele_1637585755196008934476074119724",type:"输入框","属性":{tabcontent:"",placeholder:"ifame页面网址",oacomjs:'This.val(This.oaparent().oanext().attr("src"));\nsetOAInfo(This.oaparent().oanext(),"指向页面",This.val())\nThis.change(function(){\nsetOAInfo($(this).oaparent().oanext(),"指向页面",$(this).val())\n});\n',id:"ele_1637585755196008934476074119724",component:"输入框",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",val:"",editset:"write",type:"text",bginputsrc:"",dateinputtype:"",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"oa-input oa-element oa-select",bgsrc:" ",width:571,height:40,style:'background-image: url(""); border-width: 1px;',aconfigshow:"不做设置",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_1637585755196018020342438512893"},{parent:"ele_163758575519506105728641667443",id:"outter_163758575519608625741065044441",eleid:"ele_163758575519607107366868551077",type:"网页框架","属性":{tabcontent:"",id:"ele_163758575519607107366868551077",component:"网页框架",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0",pointsrc:""},"样式":{bclass:"oa-iframe oa-element oa-select",width:1843,height:872,style:"width: 100%; height: 90vh;",aconfigshow:"不做设置",text:"",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163758575519504737211639944088"},{parent:"ele_163758575519506105728641667443",id:"outter_163758575519606877170406505424",eleid:"ele_163758575519601657774083491257",type:"横向布局","属性":{pointsrc:"",id:"ele_163758575519601657774083491257",component:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0",tabcontent:""},"样式":{bclass:"_hiv oa-element oa-layout oa-tabcontent oa-select",style:"display: flex; flex-direction: row;  border-width: 1px;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163758575519607107366868551077"},{parent:"ele_163758575519601657774083491257",id:"outter_163758575519605406579853573188",eleid:"ele_163758575519604721351733502672",type:"基础Div","属性":{pointsrc:"",oacomjs:'This.click(function(){\naddOAInfo($(this),"tab标签",1);\n});\n',id:"ele_163758575519604721351733502672",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element btn btn-primary oa-select",text:"添加标签",style:"padding: var(--inlayout-distance); border-width: 1px; margin:3px;",width:68,height:32,aconfigshow:"仅配置可见",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_163758575519601657774083491257"}]}}),$(function(){_oacomponent["OA表格"]={define:[{parent:"ele_1638120071118",id:"outter_1638179599887",eleid:"ele_1638179599888",type:"纵向布局","属性":{tbchinesename:""},"样式":{bclass:"_viv oa-element oa-select"},addtype:3,addposition:"ele_1638179560014014637922920625446"},{parent:"ele_1638179599888",id:"outter_163817961610105662082833551283",eleid:"ele_1638179616101013781752078029408",type:"横向布局","属性":{tbchinesename:"",id:"ele_1638179616101013781752078029408",component:"横向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_hiv oa-element oa-configshow oa-select",width:1843,height:74,style:"display: flex; flex-direction: row; padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"仅配置可见",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_1638179599888"},{parent:"ele_1638179616101013781752078029408",id:"outter_163817961610105522181010716354",eleid:"ele_163817961610109635971401215369",type:"弹簧","属性":{tbchinesename:""},"样式":{bclass:"_pow oa-element oa-select"},addtype:2,addposition:"ele_1638179616101013781752078029408"},{parent:"ele_1638179616101013781752078029408",id:"outter_163817961610109884407374326099",eleid:"ele_1638179616101020122050046673245",type:"基础Div","属性":{tbchinesename:"",oacomjs:"setTimeout(function(){\nThis.oanext().val(getOAVue(This.oaparent().oanext()).$data.registertable);\n},100);\nThis.oanext().change(function(){\ngetOAVue($(this).oaparent().oanext()).registertable=$(this).val();\n});",id:"ele_1638179616101020122050046673245",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element oa-select",text:"绑定表单",width:68,height:31,style:"padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163817961610109635971401215369"},{parent:"ele_1638179616101013781752078029408",id:"outter_1638179616101021231165810319652",eleid:"ele_1638179616101017747293703499967",type:"选择框","属性":{tbchinesename:"",contentinfosql:"\"select c.key,c.value,c.id from (select b.alias key,b.table value,b.id id  from tb_devmodel b where b.table!='' union select '选择绑定表单','',99999999999) c order by c.id desc\"",id:"ele_1638179616101017747293703499967",component:"选择框",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",editset:"write",bginputsrc:"",fname:"全部",suitwivwidth:"0",contentinfo:'{"optionsList":[{"key":"选择绑定表单","value":""},{"key":"测试页","value":"oatable_1635531608897"},{"key":"测试2","value":"oatable_1635994766782"},{"key":"建表测试","value":"oatable_1636738642642"},{"key":"临时19","value":"oatable_1637303630460"},{"key":"车辆登记","value":"oatable_1637598626222"},{"key":"行政区域管理","value":"tb_mhaczone"},{"key":"车主信息","value":"tb_mhcarowner"},{"key":"企业管理","value":"tb_mhcompany"},{"key":"设备管理","value":"tb_mhdevice"},{"key":"公安系统单位信息管理","value":"tb_mhgongan"},{"key":"用户管理","value":"tb_mhpolice"},{"key":"车辆注册","value":"tb_mhregcar"}],"selected":""}'},"样式":{bclass:"oa-inputselect _ipdownarror oa-element oa-select",height:["oa-inputselect","_ipdownarror","oa-element"],width:571,aconfigshow:"不做设置",text:"选择绑定表单测试页测试2建表测试临时19车辆登记行政区域管理车主信息企业管理设备管理公安系统单位信息管理用户管理车辆注册",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_1638179616101020122050046673245"},{parent:"ele_1638179599888",id:"outter_1638179626864013874579226773864",eleid:"ele_163817962686406450373085433057",type:"表格基础","属性":{tbchinesename:"",id:"ele_163817962686406450373085433057",component:"表格基础",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0",vexaddurl:"",vexposturl:"#",vexparamsgeteval:"{sql:sql,args:{}}",vexparamsmakeeval:"var sql=`select * from ${this.registertable} ${this.getLimitCondition()} order by id asc ${this.postmode?'limit '+pagesize+' offset '+startid:''}`;",vexregistertable:"",vexignorecol:'["_XID"]',vextitlemapper:'[{"field":"id","title":"序号"},{"field":"_handle","title":"操作"}]',vexwidthmapper:'{"id":120}',vexsortmapper:'{"id":true}',vexformattermapper:"{}",setvxetableinfo:'{"height":null,"gridOptions":{"border":false,"showOverflow":false,"height":null,"showHeader":false,"columns":[{"field":"col0","fixed":"left","width":80}],"data":[{"col0":"序号","_X_ID":"row_468"}]},"loading":false,"tablePage":{"currentPage":1,"pageSize":10,"totalResult":0},"tableData":[],"tableHistory":[],"title":[{"field":"id","title":"序号"},{"field":"_handle","title":"操作"}],"width":{"id":120},"ignore":["_XID"],"sortable":{"id":true},"allalign":"center","filter":{},"formatter":{},"mapperHandle":{},"mapperIdHandle":{},"showoamore":{},"showoamore_pointer":{},"registertable":"","postmode":true,"posturl":"#","params_makeeval":"var sql=`select * from ${this.registertable} ${this.getLimitCondition()} order by id asc ${this.postmode?\'limit \'+pagesize+\' offset \'+startid:\'\'}`;","params_geteval":"{sql:sql,args:{}}","showaddbtn":true,"showimportbtn":true,"showexportbtn":true,"showdowntemplatebtn":true,"jumpaddhtml":"","nowcol":[],"collist":{"序号":"id","设备编号":"devid","时间戳":"time","请选择列":""},"editData":[],"showEdit":false,"formData":null,"formRules":{"name":[{"required":true,"message":"请输入名称"},{"min":1,"max":8,"message":"长度在 1 到 8 个字符"}],"posthandle":[{"required":true,"message":"后置操作不能为空"}]},"selectRow":null,"mapperHandleEvent":{},"modaldelete":false,"showEdit2":false,"formData2":null,"formRules2":{"name":[{"required":true,"message":"请输入判断条件"},{"min":1,"max":500,"message":"长度在 1 到 500 个字符"}]},"selectRow2":null,"modaldelete2":false}',setvxevueinfo:'{"height":null,"gridOptions":{"border":false,"showOverflow":false,"height":null,"showHeader":false,"columns":[{"field":"col0","fixed":"left","width":80}],"data":[{"col0":"序号","_X_ID":"row_409"}]},"loading":false,"tablePage":{"currentPage":1,"pageSize":10,"totalResult":0},"tableData":[],"tableHistory":[],"title":[{"field":"id","title":"序号"},{"field":"_handle","title":"操作"}],"width":{"id":120},"ignore":["_XID"],"sortable":{"id":true},"allalign":"center","filter":{},"formatter":{},"mapperHandle":{},"mapperIdHandle":{},"showoamore":{},"showoamore_pointer":{},"registertable":"","postmode":true,"posturl":"#","params_makeeval":"var sql=`select * from ${this.registertable} ${this.getLimitCondition()} order by id asc ${this.postmode?\'limit \'+pagesize+\' offset \'+startid:\'\'}`;","params_geteval":"{sql:sql,args:{}}","showaddbtn":true,"showimportbtn":true,"showexportbtn":true,"showdowntemplatebtn":true,"jumpaddhtml":"","nowcol":[],"collist":{"序号":"id","设备编号":"devid","时间戳":"time","请选择列":""},"editData":[],"showEdit":false,"formData":null,"formRules":{"name":[{"required":true,"message":"请输入名称"},{"min":1,"max":8,"message":"长度在 1 到 8 个字符"}],"posthandle":[{"required":true,"message":"后置操作不能为空"}]},"selectRow":null,"mapperHandleEvent":{},"modaldelete":false,"showEdit2":false,"formData2":null,"formRules2":{"name":[{"required":true,"message":"请输入判断条件"},{"min":1,"max":500,"message":"长度在 1 到 500 个字符"}]},"selectRow2":null,"modaldelete2":false}'},"样式":{width:1843,height:178,bclass:"_hiv oa-vexhivtable oa-element _vextablepostmode oa-select",style:"display: flex; flex-direction: row;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%",vextablealign:"center"},addtype:3,addposition:"ele_1638179616101013781752078029408"}]},_haveoatype.push({name:"setvxetableinfo",title:"设置基础表单内容",ignore:[],only:[".oa-vexhivtable",".oa-treeselect"],type:"属性",geteval:"getOAInfo(el,'设置基础表单内容')",seteval:""}),_haveoatype.push({name:"setvxevueinfo",title:"加载基础表单内容",ignore:[],only:[".oa-vexhivtable",".oa-treeselect"],type:"属性",geteval:"",seteval:"const cvalue=value;const cel=el;setTimeout(()=>{if(cvalue!=null)Object.assign(getOAVue(cel).$data,JSON.parse(cvalue));},10);"}),_oacomponent["表格基础"]={el:$(`<hiv class='oa-vexhivtable'>
			<pow></pow>
			<div class='oa-vivhcenter'>
				<!-- v-show="!isMobile" -->
				 <vxe-table
				   ref="xTable"
				   resizable
				   :height="height"
				   highlight-hover-row
				   :loading="loading"
				   :data="editmode?editData:tableData"
				   :align="allalign"
				   :sort-config="{multiple: true}"
				   class="mhidden oa-vextable"
				   :scroll-y="{enabled: false}"
				   :export-config="{}"
				   @filter-change="filterChangeEvent"
				   border="inner"
				   cell-class-name="vxcolcell"
				   header-cell-class-name="vexcoltitle"
				   style='overflow: visible;'
				   >
					
					<vxe-column field='id'  :width="width['id']||80" :title="title.find((item)=> item.field=='id').title||'序号'" :formatter="formatter['id']!=null?({cellValue})=>{return formatterInfo(cellValue,'id')}:''" fixed="left" v-if="!editmode&&ignore.indexOf('id')==-1"  :sortable="sortable['id']!=null?sortable['id']:true" :filters="filter['id']!=null?filter['id'].info:[]" :filter-method="({value,row,column})=>{return judgeInfo('id',value,row)}" ></vxe-column>
	                <!--<template  v-for="(citem,index) in title">-->
	                     <!--<vxe-column   v-if="showhtml[title[index].field]==true&&!editmode&&citem.field!='_handle'&&citem.field!='id'&&ignore.indexOf(citem.field)==-1" :field="citem.field" :filters="filter[citem.field]!=null?filter[citem.field].info:[]" :filter-method="({value,row,column})=>{return judgeInfo(citem.field,value,row)}" :formatter="formatter[citem.field]!=null?({cellValue})=>{return formatterInfo(cellValue,citem.field)}:''" :title="title.find((pitem)=> pitem.field==citem.field)!=null?title.find((pitem)=> pitem.field==citem.field).title:citem.field" :width="width[citem.field]||200" :sortable='sortable[citem.field]!=null?sortable[citem.field]:true'>-->
                            <!--<template  #default="{row}">-->
                                <!--<div v-html="formatter[title[index].field]!=null?formatterInfo(row[title[index].field],title[index].field):row[title[index].field]"></div>-->
                            <!--</template>-->
                        <!--</vxe-column>-->
                        <!--<vxe-column  v-else-if="!editmode&&citem.field!='_handle'&&citem.field!='id'&&ignore.indexOf(citem.field)==-1" :field="citem.field" :filters="filter[citem.field]!=null?filter[citem.field].info:[]" :filter-method="({value,row,column})=>{return judgeInfo(citem.field,value,row)}" :formatter="formatter[citem.field]!=null?({cellValue})=>{return formatterInfo(cellValue,citem.field)}:''" :title="title.find((pitem)=> pitem.field==citem.field)!=null?title.find((pitem)=> pitem.field==citem.field).title:citem.field" :width="width[citem.field]||200" :sortable='sortable[citem.field]!=null?sortable[citem.field]:true'></vxe-column>-->
                    <!--</template>-->
                    <vxe-column  v-for="(citem,index) in title"   v-if="!editmode&&citem.field!='_handle'&&citem.field!='id'&&ignore.indexOf(citem.field)==-1" :field="citem.field" :filters="filter[citem.field]!=null?filter[citem.field].info:[]" :filter-method="({value,row,column})=>{return judgeInfo(citem.field,value,row)}" :formatter="formatter[citem.field]!=null?({cellValue})=>{return formatterInfo(cellValue,citem.field)}:''" :title="title.find((pitem)=> pitem.field==citem.field)!=null?title.find((pitem)=> pitem.field==citem.field).title:citem.field" :width="width[citem.field]||200" :sortable='sortable[citem.field]!=null?sortable[citem.field]:true'>
                        <template  #default="{row}" >
                            <div v-if="showhtml[title[index].field]==true" v-html="formatter[title[index].field]!=null?formatterInfo(row[title[index].field],title[index].field):row[title[index].field]"></div>
                            <div v-else>{{formatter[title[index].field]!=null?formatterInfo(row[title[index].field],title[index].field):row[title[index].field]}}</div>
                        </template>
                    </vxe-column>
                   <vxe-column field='_handle'  fixed="right" :width="width['_handle']||200"  v-if="!editmode&&ignore.indexOf('_handle')==-1&&jsonLength(mapperIdHandle)>0" :formatter="formatter['_handle']!=null?({cellValue})=>{return formatterInfo(cellValue,'_handle')}:''" :title="title.find((item)=> item.field=='_handle').title||'操作'" :sortable="sortable['_handle']">
						<template #default="{row}">
							<vxe-button type="text" v-for="(item,index) in mapperHandle[mapperIdHandle[row.id]]" v-if="index<2" class='oaeditorbtn' @click='runforHandleClick(row,index)'>{{item}}</vxe-button>
							
							<vxe-button type="text" class='oaeditorbtn' v-if='mapperIdHandle[row.id]!=null&&mapperHandle[mapperIdHandle[row.id]].length>2' @click="moreEditor($event,row)">...</vxe-button>
						</template>
					</vxe-column>
					
					
					<!-- 编辑模式操作结束 -->
					<vxe-column type='seq'  :width="width['id']||80" :title="title.find((item)=> item.field=='id').title||'序号'" :formatter="formatter['id']!=null?({cellValue})=>{return formatterInfo(cellValue,'id')}:''" fixed="left" v-if="editmode&&ignore.indexOf('id')==-1"  :sortable="sortable['id']!=null?sortable['id']:true" :filters="filter['id']!=null?filter['id'].info:[]" :filter-method="({value,row,column})=>{return judgeInfo('id',value,row)}" ></vxe-column>
					
					<vxe-column v-if='editmode' v-for="(nitem,nindex) in nowcol"  width='190' :filters="filter[nowcol[nindex]]!=null?filter[nowcol[nindex]].info:[]" :filter-method="({value,row,column})=>{return judgeInfo(nowcol[nindex],value,row)}">
						<template #header="{row}">
						  <vxe-select v-model='nowcol[nindex]' transfer>
							<vxe-option v-for="(item,index) in collist" :value="item" :label="index"></vxe-option>
						  </vxe-select>
						  <span v-if="nowcol[nindex]!=''" style='color:red'>{{nowcol[nindex]}}</span>
						  <vxe-button v-else type="text" @click='setFreeMapperHandle(nindex)'>添加自定义列</vxe-button>
						  <br/>
						  <vxe-button type="text" @click='nowcol.splice(nindex,1)'>删除</vxe-button>
						</template>
						
						<template #default="{row}">
						  <vxe-button type="text" @click='editEvent2(row,nowcol[nindex])'>{{!judgeHaveCondition2(row,nowcol[nindex])?'添加条件':mapperHandleEvent[row.id]['_condition'][nowcol[nindex]]}}</vxe-button>
						</template>
					</vxe-column>
					<vxe-column v-if='editmode' width='100'>
						<template #header="{row}">
						 <vxe-button status="primary" @click="nowcol.push('');" size="mini">添加</vxe-button>
						</template>
	
						<template #default="{row}">
						  <vxe-button type="text" @click='delMapperHandle(row)'>删除</vxe-button>
						</template>
					</vxe-column>
					<vxe-column  v-if='editmode' fixed="right" width="200">
						<template #header="{row}">
						 <vxe-button status="primary" @click="addMapperHandle()" size="mini">添加操作列</vxe-button>
						 <br/>
						 <span>(何种条件下显示该操作)</span>
						</template>
						<template #default="{row}">
							<vxe-button type="text" v-for="(item,index) in mapperHandle[row.id]" v-if="index<2" class='oaeditorbtn'  @click='runforHandleClick(row,index)'>{{item}}</vxe-button>
							<vxe-button type="text" class='oaeditorbtn' v-if='jsonLength(mapperHandle[row.id])>2' @click="moreEditor($event,row)">...</vxe-button>
							<vxe-button type="text" class='oaeditorbtn' style='background: #f1f1f1;' @click="addHandelBtn(row,jsonLength(mapperHandle[row.id]))">添加</vxe-button>
						</template>
					</vxe-column>
					<!-- 编辑模式操作结束 -->
					
					
				 </vxe-table>
				 <vxe-grid class="reverse-table phidden oa-vextablepage" v-bind="gridOptions"></vxe-grid>
				 <div class='oa-hivclass oa-vextablepage'>
					 <block length="3px"></block>
					 <!-- v-show="!isMobile" -->
					 <vxe-toolbar  class='mhidden' >
					   <template #buttons>
						 <vxe-button @click="insertEvent(-1)" v-show='showaddbtn'>新增</vxe-button>
						 <vxe-button @click="importDataEvent" v-show='showimportbtn'>导入</vxe-button>	
						 <vxe-button @click="exportDataEvent" v-show='showexportbtn'>导出</vxe-button>
						 <vxe-button @click="downTemplateEvent" v-show='showdowntemplatebtn'>下载模板</vxe-button>
					   </template>
					  
					 </vxe-toolbar>
					 <div class='oa-powwidth'></div>
					 <viv>
						 <block length="3px"></block>
						 
						 <vxe-pager 
							class='mhidden'
							 border
							 :background="true"
							 size="medium"
							 :loading="false"
							 :current-page="tablePage.currentPage"
							 :page-size="tablePage.pageSize"
							 :total="tablePage.totalResult"
							 :layouts="['Sizes', 'Total','PrevPage', 'JumpNumber', 'NextPage', 'FullJump']"
							 @page-change="handlePageChange"
							 >
						</vxe-pager>
						<vxe-pager
							class='phidden'
							 border
							 :background="true"
							 size="mini"
							 :loading="false"
							 :current-page="tablePage.currentPage"
							 :page-size="tablePage.pageSize"
							 :total="tablePage.totalResult"
							 :layouts="[ 'Total','PrevPage', 'JumpNumber', 'NextPage', 'FullJump']"
							 @page-change="handlePageChange"
							 >
						 </vxe-pager>
					 </viv>
					 
				 </div>
				
			</div>
			<pow></pow>
		</hiv>
		<vxe-modal ref="xModal" v-model="showEdit" title="填写操作属性" width="800" resize destroy-on-close>
		  <template #default>
			<vxe-form ref="xForm" :data="formData" :rules="formRules" title-align="right" title-width="100" @submit="submitEvent">
			  <vxe-form-item title="填写操作名称" span="24" title-align="left" title-width="200px" :title-prefix="{icon: 'fa fa-address-card-o'}"></vxe-form-item> 
			  <vxe-form-item title="操作名称" field="name" span="24" :item-render="{name: 'input', attrs: {placeholder: '请输入名称'}}"></vxe-form-item>
			  <vxe-form-item title="后置操作执行前操作JS" span="24" title-align="left" title-width="200px" :title-prefix="{message: '请填写必填项', icon: 'fa fa-info-circle'}"></vxe-form-item>
			  <vxe-form-item  title="事前JS" field="prejs" span="24" :title-suffix="{message: '', icon: 'fa fa-question-circle'}" :item-render="{name: 'textarea', attrs: {placeholder: 'return false时不执行该命令'}}"></vxe-form-item>
			  <vxe-form-item title="后置操作JSSQL" span="24" title-align="left" title-width="200px" :title-prefix="{message: '请填写必填项', icon: 'fa fa-info-circle'}"></vxe-form-item>
			  <vxe-form-item title="后置操作JSSQL" field="posthandle" span="24" :title-suffix="{message: '', icon: 'fa fa-question-circle'}" :item-render="{name: 'textarea', attrs: {placeholder: '如:return update(\`update \`+table+\` set state=1\`);'}}"></vxe-form-item>
			  <vxe-form-item title="后置操作执行后操作JS" span="24" title-align="left" title-width="200px" :title-prefix="{message: '请填写必填项', icon: 'fa fa-info-circle'}"></vxe-form-item>
			  <vxe-form-item  title="事后JS" field="postjs" span="24" :title-suffix="{message: '', icon: 'fa fa-question-circle'}" :item-render="{name: 'textarea', attrs: {placeholder: '如:if(data.result==\`true\`)alert(\`操作成功\`)'}}"></vxe-form-item>
			  
			  <vxe-form-item align="center" span="24">
				<template #default>
				  <vxe-button type="submit" status="primary">保存</vxe-button>
				  <vxe-button v-if='modaldelete' @click='deleteHandleCondtion()'>删除</vxe-button>
				  <vxe-button type="reset">重置</vxe-button>
				  <vxe-button @click="$refs.xModal.close()">取消</vxe-button>
				  <vxe-button v-if='!modaldelete' @click='addDeleteHandleCondtion()'>添加默认删除按钮</vxe-button>
				  <vxe-button v-if='!modaldelete' @click='addEditHandleCondtion()'>添加编辑按钮模板</vxe-button>
				</template>
			  </vxe-form-item>
			</vxe-form>
		  </template>
		</vxe-modal>
		<vxe-modal ref="xModal2" v-model="showEdit2" title="添加操作显示条件" width="800" resize destroy-on-close>
		  <template #default>
			<vxe-form ref="xForm2" :data="formData2" :rules="formRules2" title-align="right" title-width="100" @submit="submitEvent2">
			 <vxe-form-item title="判断条件" field="name" span="24" :item-render="{name: 'textarea', attrs: {placeholder: '如:{0}>=1 ,{0}将会自动编译为列名'}}"></vxe-form-item>
			  
			  <vxe-form-item align="center" span="24">
				<template #default>
				  <vxe-button type="submit" status="primary">保存</vxe-button>
				  <vxe-button v-if='modaldelete2' @click='deleteHandleCondtion2()'>删除</vxe-button>
				  <vxe-button type="reset">重置</vxe-button>
				  <vxe-button @click="$refs.xModal2.close()">取消</vxe-button>
				</template>
			  </vxe-form-item>
			</vxe-form>
		  </template>
		</vxe-modal>
            `),extendvue:{data:{height:null,gridOptions:{border:!1,showOverflow:!1,height:null,showHeader:!1,columns:[],data:[]},loading:!1,tablePage:{currentPage:1,pageSize:10,totalResult:0},tableData:[],tableHistory:[],title:[{field:"id",title:"序号"},{field:"_handle",title:"操作"}],width:{id:120},ignore:["_XID"],sortable:{id:!0},allalign:"center",filter:{},formatter:{},showhtml:{},mapperHandle:{},mapperIdHandle:{},showoamore:{},showoamore_pointer:{},registertable:"",postmode:!0,posturl:"#",params_makeeval:"var sql=`select * from ${this.registertable} ${this.getLimitCondition()} order by id asc ${this.postmode?'limit '+pagesize+' offset '+startid:''}`;",params_geteval:"{sql:sql,args:{}}",showaddbtn:!0,showimportbtn:!0,showexportbtn:!0,showdowntemplatebtn:!0,jumpaddhtml:"",editmode:_oaconfigable,nowcol:[],collist:{"请选择列":""},editData:[],showEdit:!1,formData:null,formRules:{name:[{required:!0,message:"请输入名称"},{min:1,max:8,message:"长度在 1 到 8 个字符"}],posthandle:[{required:!0,message:"后置操作不能为空"}]},selectRow:null,mapperHandleEvent:{},modaldelete:!1,showEdit2:!1,formData2:null,formRules2:{name:[{required:!0,message:"请输入判断条件"},{min:1,max:500,message:"长度在 1 到 500 个字符"}]},selectRow2:null,modaldelete2:!1,search:!1},computed:{isMobile(){return window.matchMedia("(max-width: 768px)").matches},rowname(){}},created(){var e=$(this.$options.el).children();if(null!=getOAInfo(e,"设置基础表单内容")&&setOAInfo(e,"加载基础表单内容",getOAInfo(e,"设置基础表单内容")),this.updateMapperHandle(),this.postmode)this.findList();else if(""!=this.posturl){const t=this;e=oa_serverip+"TokerServlet?method=autoquery";"#"!=this.posturl&&(e=this.posturl),$.post(e,this.getPostParams(),function(e){t.loadOffData(e.data)},"json").fail(function(){alert("请求服务器数据失败")})}},watch:{gridOptions:{deep:!0},tablePage:{deep:!0},ignore(){this.reverseTable(this.getReverseInfo(),this.tableData),this.saveOA()},title(){this.reverseTable(this.getReverseInfo(),this.tableData),this.saveOA()},height(){this.gridOptions.height=this.height,this.saveOA()},postmode(){this.postmode&&this.findList(),this.saveOA()},width(){this.$refs.xTable.refreshColumn(),this.saveOA()},sortable(){this.$refs.xTable.refreshColumn(),this.saveOA()},filter(){const e=this.$refs.xTable;for(var t in this.filter){var a=e.getColumnByField(t);e.setFilter(a,this.filter[t].info)}e.updateData(),this.saveOA()},editmode(){this.$refs.xTable.refreshColumn(),this.saveOA()},mapperHandle(){this.updateMapperHandle(),this.saveOA()},registertable(){if(this.editmode){const a=this;postoaregister("getmodelname",{0:a.registertable},0,function(e){for(var t in a.collist={},e.data)a.collist[e.data[t].alias]=e.data[t].name;a.$refs.xTable.refreshColumn(),a.saveOA()})}},nowcol(){var t,e=this.title,a=e.find(e=>"id"==e.field),i=e.find(e=>"_handle"==e.field),l=[{field:"id",title:a.title},{field:"_handle",title:i.title}];for(t in this.nowcol)if(""!=this.nowcol[t]){var o,n="";for(o in this.collist)if(this.collist[o]==this.nowcol[t]){n=o;break}var r=e.find(e=>e.field==this.nowcol[t]);null==r?l.push({field:this.nowcol[t],title:n}):l.push({field:this.nowcol[t],title:r.title})}for(o in this.$data.mapperHandleEvent)for(t in this.$data.mapperHandleEvent,this.$data.mapperHandleEvent[o]._condition)-1==this.nowcol.indexOf(t)&&delete this.$data.mapperHandleEvent[o]._condition[t];this.title=l,this.$refs.xTable.refreshColumn(),this.saveOA()},jumpaddhtml(){this.saveOA()},posturl(){this.saveOA()},showaddbtn(){this.saveOA()},showimportbtn(){this.saveOA()},showexportbtn(){this.saveOA()},showdowntemplatebtn(){this.saveOA()},params_geteval(){this.saveOA()},params_makeeval(){this.saveOA()},tableData(){for(var e in this.reverseTable(this.getReverseInfo(),this.tableData),this.tableData)this.setMapperHandleId(this.tableData[e])},tableHistory(){0==this.tableHistory.length&&(this.tableData=[]),this.search&&this.loadSearchPage(1,this.tablePage.pageSize)},search(){this.search?this.loadSearchPage(1,this.tablePage.pageSize):this.findList()},showhtml:{deep:!0}},methods:{resetTitle(){this.title=[{field:"id",title:"序号"},{field:"_handle",title:"操作"}]},filterChangeEvent({}){this.search||(this.$refs.xTable.clearFilter(),this.$message({message:"由于数据限制,筛选功能仅在搜索之后才能使用",type:"warning"}))},loadSearchPage(e,t){this.search&&(this.tablePage.currentPage=e,this.tablePage.pageSize=t,this.loading=!0,this.tablePage.totalResult=this.tableHistory.length,0!=this.tablePage.totalResult&&(0<this.tableHistory.length?this.tableData=this.tableHistory.slice((e-1)*t,e*t):this.tableData=[]),this.loading=!1)},loadOffData(e){this.tableHistory=e,this.postmode=!1,this.findList()},handlePageChange:function({currentPage:e,pageSize:t}){this.tablePage.currentPage=e,this.tablePage.pageSize=t,this.search?this.loadSearchPage(e,t):this.findList()},getPostParams(){var startid=(this.tablePage.currentPage-1)*this.tablePage.pageSize,endid=this.tablePage.currentPage*this.tablePage.pageSize,pagesize=this.tablePage.pageSize;return eval(this.params_makeeval),window.value=sql,sql=window.eval(function(e,t,a,i,l){if(i=window.String,0=="0".replace(0,i)){for(;t--;)l[i(t)]=a[t];a=[function(e){return l[e]||e}],i=function(){return"^$"},t=1}for(;t--;)a[t]&&(e=e.replace(new window.RegExp("\\b"+i(t)+"\\b","g"),a[t]));return e}("_AESEncrypt(value)",1,"".split("|"),0,{})),eval("("+this.params_geteval+")")},getLimitCondition(){return""},findList:function(){if(!this.editmode)if(this.postmode)if(""!=this.posturl){const a=this;this.loading=!0,setTimeout(()=>{var e=a.getPostParams();e._startid=(a.tablePage.currentPage-1)*a.tablePage.pageSize,e._endid=a.tablePage.currentPage*a.tablePage.pageSize;var t=oa_serverip+"TokerServlet?method=autoquery";"#"!=this.posturl&&(t=this.posturl),$.post(t,e,function(e){window.value="select count(*) from "+a.registertable;a.loading=!1,$.post(t,{sql:window.eval(function(e,t,a,i,l){if(i=window.String,0=="0".replace(0,i)){for(;t--;)l[i(t)]=a[t];a=[function(e){return l[e]||e}],i=function(){return"^$"},t=1}for(;t--;)a[t]&&(e=e.replace(new window.RegExp("\\b"+i(t)+"\\b","g"),a[t]));return e}("_AESEncrypt(value)",1,"".split("|"),0,{}))},function(e){a.tablePage.totalResult=e.data[0].count},"json"),a.tableData=e.data},"json").fail(function(){a.loading=!1,alert("请求服务器数据失败")})},10)}else console.log("服务器分页模式下，未设置请求服务器地址，操作失败。已设置为客户端分页模式"),this.postmode=!1;else this.search&&(this.loading=!0,this.tablePage.totalResult=this.tableHistory.length,0!=this.tablePage.totalResult&&(this.tableData=this.tableHistory.slice((this.tablePage.currentPage-1)*this.tablePage.pageSize,this.tablePage.currentPage*this.tablePage.pageSize)),this.loading=!1)},reverseTable(e,t){e=e.map(a=>{const i={col0:a.title};return t.forEach((e,t)=>{i["col"+(t+1)]=e[a.field]}),i});const a=[{field:"col0",fixed:"left",width:80}];t.forEach((e,t)=>{a.push({field:"col"+(t+1),minWidth:120})}),this.gridOptions.data=e,this.gridOptions.columns=a},getReverseInfo(){var e,t=[];for(e in this.title)-1==this.ignore.indexOf(this.title[e].field)&&("_handle"==this.title[e].field&&0==jsonLength(this.mapperIdHandle)||t.push(this.title[e]));return t},judgeInfo(id,value,row){return this.search?ture:eval(this.filter[id].compare)},exportDataEvent(){const t=this;this.loading=!0;var e=this.postmode;this.postmode=!1;var a=oa_serverip+"TokerServlet?method=autoquery";"#"!=this.posturl&&(a=this.posturl);var i,l=[];for(i in this.tableData[0])"_handle"!=i&&-1==this.ignore.indexOf(i)&&l.push({field:i});this.search?(t.$refs.xTable.exportData({filename:"导出数据",type:"csv",original:!0,data:this.tableHistory,columns:l}),t.loading=!1):$.post(a,this.getPostParams(),function(e){e=e.data;t.$refs.xTable.exportData({filename:"导出数据",type:"csv",original:!0,data:e,columns:l}),t.loading=!1},"json").fail(function(){alert("请求服务器数据失败"),t.loading=!1}),this.postmode=e},importDataEvent(){const i=this;this.$refs.xTable.importData({remote:!0,importMethod({file:e}){var t=new FileReader;if("undefined"==typeof FileReader)return layer.alert("你的浏览器暂不支持该功能",{title:"提示",skin:"layui-layer-molv"}),void e.setAttribute("disabled","disabled");t.readAsText(e),t.onload=function(e){var t,a=new CSV(this.result,{header:!0,cast:!1}).parse();for(t in a)a[t].devid=_devid;this.loading=!0,$.post(oa_serverip+"TokerServlet?method=changeinfo",{table:i.registertable,columns:JSON.stringify(a)},function(e){i.loading=!1,200==e.code?(alert("导入成功"),i.findList()):alert("导入失败")},"json").fail(function(e){alert("导入过程发生错误"),i.loading=!1})}}})},downTemplateEvent(){var e,t=[];for(e in this.tableData[0])"_handle"!=e&&-1==this.ignore.indexOf(e)&&t.push({field:e});this.$refs.xTable.exportData({filename:"导入模板",data:this.$refs.xTable.getCheckboxRecords(),original:!0,isFooter:!1,message:!1,columns:t})},formatterInfo(label,index){if(null!=this.formatter[index]&&null!=this.formatter[index].info){var fm_result,i;for(i in this.formatter[index].info)if(this.formatter[index].info[i].label==label){fm_result=this.formatter[index].info[i];break}return null!=fm_result?fm_result.value:""}if(null==this.formatter[index]||null==this.formatter[index].makeeval||null==this.formatter[index].geteval)return"";var mapper=this.formatter[index].info;return eval(this.formatter[index].makeeval),eval(this.formatter[index].geteval)},moreEditor(e,t){if(null!=this.showoamore[t.id]){if(!this.editmode)return void(this.showoamore[t.id]?(this.showoamore[t.id]=!1,$("#"+this.showoamore_pointer[t.id]).hide()):(this.showoamore[t.id]=!0,$("#"+this.showoamore_pointer[t.id]).show()));this.editmode&&$("#"+this.showoamore_pointer[t.id]).remove()}const a=this;var i=$(e.$event.target);(i=0==i.find("span").length?i.parent():i).parent().parent().css("position","relative"),i.parent().parent().css("overflow","visible");var l="morebtn_"+(new Date).valueOf(),e=$("<div id='{0}' style='position:absolute' class='oamorebtndiv'></div>".format(l)),o=$("<viv></viv>");o.css("width",i.parent().width);var n,r=this.editmode?t.id:this.mapperIdHandle[t.id];for(n in a.mapperHandle[r])n<2||o.append(`<vxe-button type="text" class="oatablemorebtn" @click='runforHandleClick(${n})' style="margin-left:0;">${a.mapperHandle[r][n]}</vxe-button>`);e.css("top",i.position().top+i.height()+4),e.css("left",i.position().left-18),e.css("z-index","1"),e.append(o),i.parent().after(e),a.showoamore[t.id]=!0,a.showoamore_pointer[t.id]=l,new Vue({el:"#"+l,methods:{runforHandleClick(e){a.runforHandleClick(t,e)}}}),i.blur(function(){setTimeout(()=>{a.showoamore[t.id]=!1,a.editmode?$("#"+a.showoamore_pointer[t.id]).remove():$("#"+a.showoamore_pointer[t.id]).hide()},100)})},runforHandleClick(row,index){if(this.editmode){this.editEvent(row,index);var eventhandle=this.mapperHandleEvent[row.id][this.mapperHandle[row.id][index]];return this.formData={name:this.mapperHandle[row.id][index],posthandle:eventhandle.posthandle,postjs:eventhandle.postjs,prejs:eventhandle.prejs},void(this.modaldelete=!0)}console.log(row);const that=this;eval("function runPrejs(){"+that.mapperHandleEvent[that.mapperIdHandle[row.id]][that.mapperHandle[that.mapperIdHandle[row.id]][index]].prejs+"}");var preresult=runPrejs(),userCode,userInfo;0!=preresult&&(userCode=null,null!=sessionStorage.getItem("userInfo")&&(userInfo=JSON.parse(sessionStorage.getItem("userInfo")),null!=userInfo.userCode&&(userCode=userInfo.userCode)),$.post(oa_serverip+"TokerServlet?method=oahandle",{pageid:getUrlParam("id"),eleid:getOAEleIndex($(that.$options.el).children(),_eleinfos),handleid:that.mapperIdHandle[row.id],btnname:that.mapperHandle[that.mapperIdHandle[row.id]][index],row:row,handleUserCode:userCode},function(data){200==data.code?(data=data.data,eval(that.mapperHandleEvent[that.mapperIdHandle[row.id]][that.mapperHandle[that.mapperIdHandle[row.id]][index]].postjs)):alert("操作失败")},"json").fail(function(){alert("处理过程发生错误")}))},insertEvent(){window.open(this.jumpaddhtml,"_self")},addMapperHandle(){this.editmode&&(this.mapperHandle[jsonLength(this.mapperHandle)]=[],this.updateMapperHandle())},setFreeMapperHandle(t){if(this.editmode){const a=this;showLayuiInput("请输入你要自定义列的信息",[{placeholder:"添加显示选项名称",name:"key"},{placeholder:"英文名称",name:"value"}],function(e){a.nowcol[t]=e.value,a.collist[e.key]=e.value,a.updateMapperHandle(),a.$refs.xTable.refreshColumn()})}},updateMapperHandle(){if(this.editmode){for(var t in this.mapperHandle)null==this.$data.editData.find(e=>e.id==t)&&this.$data.editData.push({id:t});for(t=this.editData.length-1;0<=t;t--){var e,a=!1;for(e in this.mapperHandle)if(e==this.editData[t].id){a=!0;break}a||this.$data.editData.splice(t,1)}}},delMapperHandle(e){this.editmode&&(delete this.$data.mapperHandle[e.id],delete this.$data.mapperHandleEvent[e.id],this.updateMapperHandle())},addHandelBtn(e,t){this.editmode&&this.editEvent(e,t)},editEvent(e,t){this.modaldelete=!1,this.formData={name:"",posthandle:"",postjs:"",prejs:""},this.selectRow=e,this.selectRow._select=t,this.showEdit=!0},submitEvent(){if(Object.assign(this.selectRow,deepCopy(this.formData)),-1==this.mapperHandle[this.selectRow.id].indexOf(this.selectRow.name)||this.modaldelete){if(null==this.mapperHandleEvent[this.selectRow.id]&&(this.mapperHandleEvent[this.selectRow.id]={}),this.mapperHandleEvent[this.selectRow.id][this.selectRow.name]={posthandle:this.selectRow.posthandle,postjs:this.selectRow.postjs,prejs:this.selectRow.prejs},this.modaldelete){var e=this.mapperHandle[this.selectRow.id].indexOf(this.selectRow.name);if(-1!=e&&e!=this.selectRow._select)return void alert("该条件下的操作名称重复，请重新输入另一个操作");this.mapperHandle[this.selectRow.id][this.selectRow._select]=this.selectRow.name}else this.mapperHandle[this.selectRow.id].push(this.selectRow.name);this.updateMapperHandle(),this.showEdit=!1,this.$data.formData=null,this.selectRow=null,this.$refs.xForm.reset()}else alert("该条件下的操作名称重复，请重新输入另一个操作")},deleteHandleCondtion(){var e=this.selectRow,t=this.mapperHandle[e.id][e._select];this.mapperHandle[e.id].splice(e._select,1),delete this.mapperHandleEvent[e.id][t],this.updateMapperHandle(),this.showEdit=!1},addDeleteHandleCondtion(){this.formData={name:"删除",posthandle:"return update(`delete from ${table} where id=${row.id}`);",postjs:"if(data.result=='1'){alert('删除成功');that.findList(); }\nelse{ alert(\"删除过程发生错误，删除失败\");}",prejs:'if(confirm("是否删除序号"+row.id+"的行")){return true}\nelse{return false;}\n'},this.submitEvent()},addEditHandleCondtion(){this.formData={name:"编辑",posthandle:" ",postjs:"",prejs:"window.open(`preview.html?id=编辑页面编号&"+_itemid+'=${row.id}`,"_self");\nreturn false;'},this.submitEvent()},editEvent2(e,t){""!=t?(this.judgeHaveCondition2(e,t)?(this.modaldelete2=!0,this.formData2={name:this.mapperHandleEvent[e.id]._condition[t]}):(this.modaldelete2=!1,this.formData2={name:""}),this.selectRow2=e,this.selectRow2._select=t,this.showEdit2=!0):alert("请选择列,再添加条件")},setMapperHandleId(row){var resultindex=-1,i;for(i in this.mapperHandleEvent){var result=!0;if(null!=this.mapperHandleEvent[i]._condition)for(var j in row)null!=this.mapperHandleEvent[i]._condition[j]&&(result&=eval(this.mapperHandleEvent[i]._condition[j]),console.log(`${this.mapperHandleEvent[i]._condition[j]}
											   ${i},${j}判断结果:${eval(this.mapperHandleEvent[i]._condition[j])}
								`));if(result){resultindex=i;break}}-1!=resultindex&&(this.mapperIdHandle[row.id]=resultindex)},submitEvent2(){Object.assign(this.selectRow2,deepCopy(this.formData2));var e=this.selectRow2,t=this.selectRow2._select;console.log("列名称:"+this.selectRow2._select),null==this.mapperHandleEvent[e.id]&&(this.mapperHandleEvent[e.id]={}),null==this.mapperHandleEvent[e.id]._condition&&(this.mapperHandleEvent[e.id]._condition={}),this.mapperHandleEvent[e.id]._condition[t]=this.selectRow2.name.format("row."+t),this.showEdit2=!1},deleteHandleCondtion2(){var e=this.selectRow2,t=this.selectRow2._select;this.judgeHaveCondition2(e,t)&&delete this.mapperHandleEvent[e.id]._condition[t],this.showEdit2=!1},judgeHaveCondition2(e,t){return null!=this.mapperHandleEvent[e.id]&&(null!=this.mapperHandleEvent[e.id]._condition&&null!=this.mapperHandleEvent[e.id]._condition[t])},saveOA(){var e=deepCopy(this.$data);delete e.editmode,setOAInfo($(this.$options.el).children(),"设置基础表单内容",JSON.stringify(e))}},updated(){this.saveOA()}},ignoretitle:["设置基础表单内容","加载基础表单内容"],cnotafter:!0,cnotbefore:!0,cnotin:!0},_oabaseclass["取消新增按钮"]={class:"_vextableaddbtn",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.showaddbtn=false;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.showaddbtn=true;
        `,register:[".oa-vexhivtable"]},_oabaseclass["取消导入按钮"]={class:"_vextableimportbtn",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.showimportbtn=false;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.showimportbtn=true;
        `,register:[".oa-vexhivtable"]},_oabaseclass["取消导出按钮"]={class:"_vextableexportbtn",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.showexportbtn=false;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.showexportbtn=true;
        `,register:[".oa-vexhivtable"]},_oabaseclass["取消下载模板按钮"]={class:"_vextabledowntemplatebtn",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.showdowntemplatebtn=false;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.showdowntemplatebtn=true;
           `,register:[".oa-vexhivtable"]},_oabaseclass["服务器分页模式"]={class:"_vextablepostmode",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.postmode=true;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.postmode=false;
           `,register:[".oa-vexhivtable"]},_haveoatype.push({name:"vexaddurl",title:"新增跳转页面网址",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"_elevue[el.attr('id')].$data.jumpaddhtml",seteval:"if(value!=null)_elevue[el.attr('id')].$data.jumpaddhtml=value;"}),_haveoatype.push({name:"vexposturl",title:"请求服务器地址",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"getOAVue(el).$data.posturl",seteval:"if(value!=null)getOAVue(el).$data.posturl=value;"}),_haveoatype.push({name:"vexparamsgeteval",title:"请求参数geteval",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"getOAVue(el).$data.params_geteval",seteval:"if(value!=null)getOAVue(el).$data.params_geteval=value;"}),_haveoatype.push({name:"vexparamsmakeeval",title:"请求参数makeeval",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"getOAVue(el).$data.params_makeeval",seteval:"if(value!=null)getOAVue(el).$data.params_makeeval=value;",make:"textarea",append:"style='height:150px;resize:none;'"}),_haveoatype.push({name:"vexregistertable",title:"绑定表格",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"getOAVue(el).$data.registertable",seteval:"if(value!=null)getOAVue(el).$data.registertable=value;"}),_haveoatype.push({name:"vexignorecol",title:"忽略列",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"JSON.stringify(getOAVue(el).$data.ignore)",seteval:"if(value!=null)getOAVue(el).$data.ignore=eval('('+value+')');",append:`placeholder='_XID必须忽略,如["_XID"]' style='resize:none;height:150px;'`,make:"textarea"}),_haveoatype.push({name:"vextitlemapper",title:"列标题",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"JSON.stringify(getOAVue(el).$data.title)",seteval:"if(value!=null){getOAVue(el).resetTitle();getOAVue(el).$set(getOAVue(el).$data,'title',eval('('+value+')'))};",append:`placeholder='如：[{"id":"编号"},{"_handle":"操作"}]' style='resize:none;height:150px;'`,make:"textarea"}),_haveoatype.push({name:"vexwidthmapper",title:"列宽度映射",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"JSON.stringify(getOAVue(el).$data.width)",seteval:"if(value!=null)getOAVue(el).$data.width=eval('('+value+')');",append:`placeholder='如：{"id":200}' style='resize:none;height:150px;'`,make:"textarea"}),_haveoatype.push({name:"vexsortmapper",title:"添加排序",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"JSON.stringify(getOAVue(el).$data.sortable)",seteval:"if(value!=null)getOAVue(el).$set(getOAVue(el).$data,'sortable',eval('('+value+')'));",append:`placeholder='如：{"id":true}' style='resize:none;height:150px;'`,make:"textarea"}),_haveoatype.push({name:"vexformattermapper",title:"格式化内容",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"JSON.stringify(getOAVue(el).$data.formatter)",seteval:"if(value!=null)getOAVue(el).$set(getOAVue(el).$data,'formatter',eval('('+value+')'));",append:`placeholder='如：{sex:{info:[{label:"1",value:"男"},{label:"0",value:"女"}]}}或者{sex:{ makeeval:"var rs=label+\\"后缀\\";",geteval:"rs"}}' style='resize:none;height:150px;'`,make:"textarea"}),_haveoatype.push({name:"vextablealign",title:"表格列文本对齐方式",ignore:[],only:[".oa-vexhivtable"],type:"样式",geteval:"getOAVue(el).$data.allalign",seteval:"if(value!=null)getOAVue(el).$data.allalign=value;",append:"placeholder='有left center right'"}),_haveoatype.push({name:"vextablefilter",title:"筛选功能",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"JSON.stringify(getOAVue(el).$data.filter)",seteval:"if(value!=null)getOAVue(el).$set(getOAVue(el).$data,'filter',eval('('+value+')'));",make:"textarea",append:`placeholder='如：{id:{info:[{label:"大于10008",value:10008}],compare:"row.id>=value"}}' style='resize:none;height:150px;'`}),_haveoatype.push({name:"vextableshowhtml",title:"显示原html格式",ignore:[],only:[".oa-vexhivtable"],type:"属性",geteval:"JSON.stringify(getOAVue(el).$data.showhtml)",seteval:"if(value!=null)getOAVue(el).$set(getOAVue(el).$data,'showhtml',eval('('+value+')'));",make:"textarea",append:"placeholder='如：{id:true}' style='resize:none;height:150px;'"})}),window.eval(function(e,t,a,i,l){if(0=="0".replace(0,i=function(e){return e.toString(36)})){for(;t--;)l[i(t)]=a[t];a=[function(e){return l[e]||e}],i=function(){return"[0-9a-k]"},t=1}for(;t--;)a[t]&&(e=e.replace(new window.RegExp("\\b"+i(t)+"\\b","g"),a[t]));return e}('a _AESEncrypt(2){1 3="b";1 4=0.5.6.8(3);1 c=0.5.6.8(2);1 d=0.e.encrypt(c,4,{7:0.7.f,g:0.h.i});j d.k()}a _AESDecrypt(2){1 3="b";1 4=0.5.6.8(3);1 9=0.e.9(2,4,{7:0.7.f,g:0.h.i});j 0.5.6.stringify(9).k()}',21,"CryptoJS|var|word|asekey|key|enc|Utf8|mode|parse|decrypt|function|abcdefgabcdefg12|srcs|encrypted|AES|ECB|padding|pad|Pkcs7|return|toString".split("|"),0,{})),$(function(){var e="图片上传框B",t="oauploadpicb",a="fileList";_oacomponent[e]={el:$(`<el-upload :action="window.oa_serverip+'TokerServlet?method=uploadfile'" :list-type="'picture-card'" class="${t}"
				:show-file-list="true" :file-list="fileList" :on-success="handleAvatarSuccess"
				:before-upload="beforeAvatarUpload" :auto-upload="true" :limit="multiplenum!=-1?multiplenum:null">


				<i slot="default" class="el-icon-plus"></i>
				<div slot="file" slot-scope="{file}">
					<img class="el-upload-list__item-thumbnail" :src="file.url" alt="">
					<span class="el-upload-list__item-actions">
						<span v-if="!disabled_check" class="el-upload-list__item-preview"
							@click="handlePictureCardPreview(file)">
							<i class="el-icon-zoom-in"></i>
						</span>
						<span v-if="!disabled_down" class="el-upload-list__item-delete" @click="handleDownload(file)">
							<i class="el-icon-download"></i>
						</span>
						<span v-if="!disabled_del" class="el-upload-list__item-delete" @click="handleRemove(file)">
							<i class="el-icon-delete"></i>
						</span>
					</span>
				</div>
			</el-upload>
			<el-dialog :visible.sync="dialogVisible">
				<img width="100%" :src="dialogImageUrl" alt="">
			</el-dialog>
        `),extendvue:{watch:{fileList(){this.fileList.length>=this.multiplenum&&-1!=this.multiplenum?$("#"+this.$el.id+" .el-upload").hide():$("#"+this.$el.id+" .el-upload").show(),this.updateShowName(),this.saveOA()},dialogImageUrl(){this.saveOA()},dialogVisible(){this.saveOA()},disabled_del(){this.saveOA()},disabled_down(){this.saveOA()},disabled_check(){this.saveOA()},multiplenum(){this.saveOA()},showname(){this.updateShowName(),this.saveOA()}},data(){return{fileList:[],dialogImageUrl:"",dialogVisible:!1,disabled_del:!1,disabled_down:!1,disabled_check:!1,multiplenum:1,showname:""}},created(){const e=this;var t=$(this.$options.el).children();null!=getOAInfo(t,"设置基础表单内容")&&setOAInfo(t,"加载基础表单内容",getOAInfo(t,"设置基础表单内容")),setTimeout(function(){e.updateShowName()},100)},methods:{saveOA(){var e=deepCopy(this.$data);setOAInfo($(this.$options.el).children(),"设置基础表单内容",JSON.stringify(e))},updateShowName(){var e;""!=this.showname&&null!=this.showname&&(0<this.fileList.length?(e=this.$el.id,$(`#${e} .show-uploadname`).remove(),$(`#${e} .el-upload-list--picture-card`).css("position","relative"),$(`#${e} .el-upload-list--picture-card`).append(`
									<div class='show-uploadname'>${this.showname}</div>
								`)):(e=this.$el.id,$(`#${e} .show-uploadname`).remove(),$(`#${e} .el-upload--picture-card`).css("position","relative"),$(`#${e} .el-upload--picture-card`).append(`
									<div class='show-uploadname'>${this.showname}</div>
								`),$(`#${e} .show-uploadname`).css("top","65%")))},handleRemove(e){if(confirm("确定是否要删除该图片"))for(var t in this.fileList)this.fileList[t].url==e.url&&this.fileList.splice(t,1)},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload(e){window.open(e.url,"_blank")},handleAvatarSuccess(e,t){this.fileList.push({name:e.name,url:oa_serverip+e.path})},beforeAvatarUpload(e){e=e.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e}}},post:`
            var tel=$("#"+tempid);
            tel.css({"padding":"5px","padding-bottom":"30px","overflow":"hidden"});
            registerPreForm(function(data,form){
                var elvue=getOAVue(tel);
                var result=null;
                if(elvue.$data.${a}.length>0){
                    result=JSON.stringify(elvue.$data.${a});
                }

                data.push({value:result,name:getOAInfo(tel,'标识名称')});
                if(tel.hasClass('${t+"required"}')){
                    if(getOAVue(tel).$data.${a}.length==0){
                        alert("请上传至少一张图片");
                        hideload();
                        return false;
                    }else{
                        return true;
                    }
                }
                else{
                    return true;
                }
            })
        `,ignoretitle:["文本内容"]},registerOAOnlyEffect("setvxetableinfo",e),registerOAOnlyEffect("setvxevueinfo",e),_oabaseclass["取消删除"]={class:t+"delete",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.disabled_del=true;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.disabled_del=false;
           `,register:["."+t]},_oabaseclass["取消下载"]={class:t+"cancel",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.disabled_down=true;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.disabled_down=false;
           `,register:["."+t]},_oabaseclass["取消查看"]={class:t+"check",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.disabled_check=true;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.disabled_check=false;
           `,register:["."+t]},_oabaseclass["必填"]={class:t+"required",addeval:"",removeeval:"",register:["."+t]},_haveoatype.push({name:t+"showname",title:"底部显示文字",ignore:[],only:["."+t],type:"属性",geteval:"_elevue[el.attr('id')].$data.showname",seteval:"if(value!=null)_elevue[el.attr('id')].$data.showname=value;"}),_haveoatype.push({name:t+"limitnum",title:"最多上传数",ignore:[],only:["."+t],type:"属性",geteval:"_elevue[el.attr('id')].$data.multiplenum",seteval:"if(value!=null)_elevue[el.attr('id')].$data.multiplenum=value;",append:"placeholder='-1表示不限制图片上传数'"}),registerOAExtraLm("."+t,["中文名字(WEB)","标识名称"],["pbsname"]),registerOAFormComponent(e,"."+t),_haveoatype.push({name:t+"value",title:"设置图片列表值",ignore:[],only:["."+t],type:"属性",geteval:"",seteval:`
            if(value!=null){
                getOAVue(el).$data.${a}=JSON.parse(value);
            }
        `}),registerOAJs(e,"."+t),registerOAOnlyEffect(t+"value",e),_mapperSetter[e]={},_mapperSetter[e].default="设置图片列表值"}),$(function(){_oacomponent["信息导航标题"]={define:[{parent:"ele_163694457910707342664812498216",id:"outter_164189026533007128709698864855",eleid:"ele_1641890265330009277515873284914",type:"横向布局","属性":{},"样式":{style:"display: flex;flex-direction: row;padding: var(--inlayout-distance);border-width: 1px;width: 100%;margin:10px 0;",bclass:"_hiv oa-element oa-select",width:"100%",height:"auto"},addtype:3,addposition:"ele_1640860590531"},{parent:"ele_1641890265330009277515873284914",id:"outter_1641890265330047641287384757613",eleid:"ele_164189026533005582224435334724",type:"基础Div","属性":{},"样式":{style:"padding: var(--inlayout-distance);\nfont-size: 18px;\nfont-family: PingFangSC, PingFangSC-Regular;\nfont-weight: 400;\ntext-align: left;\ncolor: #333333;\nline-height: 25px;",bclass:"_oa-div oa-element oa-select",text:"显示信息"},addtype:2,addposition:"ele_1641890265330009277515873284914"}]},registerOAFormComponent("信息导航标题",".oa-tiptitle")}),$(function(){_haveoatype.push({name:"bgsrc",title:"背景内容",only:[],ignore:[],type:"样式",seteval:"if(value!=null&&value!='')el.css('background-image','url(\"{0}\")'.format(value))",geteval:"el.css('background-image')",makeeval:'This.after(\'<button class="btn btn-default" onclick=\\\'setOAInfo($("#{0}"),"背景内容"," ");$("input[name=bgsrc]").val("");\\\'>清空</button>\'.format(el.attr(\'id\')))',append:" style='width:120px'"}),_haveoatype.push({name:"bgpsrc",title:"背景上传",only:[],ignore:[],type:"样式",seteval:"function _bgdownel(el){sendFile($('input[name=bgpsrc]')[0].files[0],function(res){ setOAInfo(el,'背景内容',oa_serverip + res.path);console.log(oa_serverip + res.path);})};if(value!=''&&value!=null)_bgdownel(el);",geteval:"''",makeeval:"This.attr('type','file')",update:["bgsrc"]}),_oafirstnotload.push("bgpsrc"),_haveoatype.push({name:"bgwidth",title:"背景宽高",only:[],ignore:[],type:"样式",seteval:"el.css('background-size','{0}'.format(value))",geteval:"el.css('background-size')",append:"placeholder='如(宽和高大小):100% auto'"}),_haveoatype.push({name:"bgrepeat",title:"背景平铺",ignore:[],only:[],type:"样式",make:"select",makeeval:"This.append('<option value=\"{0}\">{1}</option>'.format('no-repeat','平铺'));This.append('<option value=\"{0}\">{1}</option>'.format('repeat','重复'));This.append('<option value=\"{0}\">{1}</option>'.format('repeat-x','重复x'));This.append('<option value=\"{0}\">{1}</option>'.format('repeat-y','重复y'));",geteval:"el.css('background-repeat')",seteval:"el.css('background-repeat',value);"}),_haveoatype.push({name:"bgposition",title:"背景位置",only:[],ignore:[],type:"样式",seteval:"el.css('background-position','{0}'.format(value))",geteval:"el.css('background-position')",append:"placeholder='如(x和y):10px center'"})});var _lastdelayoatask=null,_taskqueue=[],_taskpointercall={};function delayPostOAList(e,t){_taskqueue.push(e),null!=t&&(_taskpointercall[e.attr("id")]=t),null!=_lastdelayoatask&&(clearTimeout(_lastdelayoatask),_lastdelayoatask=null),_lastdelayoatask=setTimeout(function(){for(;0!=_taskqueue.length;){var e=_taskqueue.pop(),t=e.attr("id");deleteReplay(e,_eleinfos),deleteReplay(e,_elemidinfos),null!=_taskpointercall[t]&&(_taskpointercall[t](),delete _taskpointercall[t])}},200)}function clearDelayRightNow(){for(null!=_lastdelayoatask&&(clearTimeout(_lastdelayoatask),_lastdelayoatask=null);0!=_taskqueue.length;){var e=_taskqueue.pop(),t=e.attr("id");deleteReplay(e,_eleinfos),deleteReplay(e,_elemidinfos),null!=_taskpointercall[t]&&(_taskpointercall[t](),delete _taskpointercall[t])}}var _oalistloader={};function isLogin(){return!!window.top._oaconfigable||_userInfo&&null!=_userInfo.role}function isInRoles(e){return!!window.top._oaconfigable||!(!isLogin()&&0!=e.length||-1==e.indexOf(_userInfo.role)&&0!=e.length)}function closeIfNotLogin(){isLogin()||_oaconfigable||(loadMsgPage("该页面仅能登录后访问，请登录后再访问该页面"),window.top.location.href=_jumpflagweb)}function closeIfNotRole(e){isInRoles(JSON.parse(e))||_oaconfigable||loadMsgPage("权限不足，不能查看该页面内容")}function loadMsgPage(e){$("#layout").empty(),loadOAPointer("layout",[{parent:"showfield",id:"outter_1638782078728",eleid:"ele_1638782078729",type:"纵向布局","属性":{tbchinesename:"",id:"ele_1638782078729",component:"纵向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_viv oa-element oa-layout oa-select",style:"display: flex; flex-direction: column; padding: var(--inlayout-distance); margin-top: var(--line-distance);",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:0,addposition:"addlayout"},{parent:"ele_1638782078729",id:"outter_1638782081711",eleid:"ele_1638782081712",type:"横向布局","属性":{tbchinesename:"",id:"ele_1638782081712",component:"横向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{width:1843,height:12,bclass:"_hiv oa-element oa-select",style:"display: flex; flex-direction: row; padding: var(--inlayout-distance);",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_1638782078729"},{parent:"ele_1638782081712",id:"outter_1638782088180",eleid:"ele_1638782088180",type:"弹簧","属性":{tbchinesename:"",id:"ele_1638782088180",component:"弹簧",addblayout:"横向布局",addalayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_pow oa-element oa-select",aconfigshow:"不做设置",powstyle:"1 1 0%",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_1638782081712"},{parent:"ele_1638782081712",id:"outter_1638782099007",eleid:"ele_1638782099008",type:"基础Div","属性":{tbchinesename:"",id:"ele_1638782099008",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{width:12,height:12,bclass:"_oa-div oa-element oa-select",style:"padding: var(--inlayout-distance); border-width: 1px;font-size:25px;font-weight:bold",aconfigshow:"不做设置",text:e,bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_1638782088180"},{parent:"ele_1638782081712",id:"outter_1638782105893",eleid:"ele_1638782105894",type:"弹簧","属性":{tbchinesename:""},"样式":{},addtype:3,addposition:"ele_1638782099008"}])}function showload(){$("#wxloads").show()}function hideload(){$("#wxloads").hide()}function registerOAFormComponent(e,t){_oaformregister.push(e),registerOAExtraLm(t,["更改组件"])}function randomColor(){for(var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],t="",a=0;a<6;a++)t+=e[Math.ceil(Math.random()*(e.length-1))];return"#"+t}function getUrlParam(e,t){if(null==t&&(t=!0),e==_oaid&&null!=sessionStorage.getItem(e)&&!t)return sessionStorage.getItem(e);t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(t);return null!=t?(e==_oaid&&sessionStorage.setItem(e,unescape(t[2])),unescape(t[2])):e==_oaid&&null!=sessionStorage.getItem(e)?sessionStorage.getItem(e):null}function isArray(e){return"number"==typeof e.length}function getSelect(e,t,a,i,l,o){for(var n="<select name='"+e+"' class='"+(i=null==i?"form-control":i)+"' style='"+l+"' "+o+">",r=0;r<t.length;r++)n+="<option value='"+a[r]+"'>"+t[r]+"</option>";return n+="</select>"}function getDiv(e,t){return'<div id="'+e+'" style="'+t+'"></div>'}function addDiv(e,t,a){$("#"+e).append('<div id="'+t+'" style="'+a+'"></div>')}function setDiv(e,t){document.write('<div id="'+e+'" style="'+t+'"></div>')}function addDivInfo(e,t){$("#"+e).append(t)}function setDivInfo(e,t){$("#"+e).html(t)}function getQueryString(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var i=t[a].split("=");if(i[0]==e)return i[1]}return!1}function copyText(e,t){var a=document.createElement("input");a.setAttribute("id","cp_hgz_input"),a.value=e,document.getElementsByTagName("body")[0].appendChild(a),document.getElementById("cp_hgz_input").select(),document.execCommand("copy"),document.getElementById("cp_hgz_input").remove(),t&&t(e)}function setCookie(e,t,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);i="expires="+i.toGMTString();document.cookie=e+"="+t+"; "+i}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){var l=a[i].trim();if(0==l.indexOf(t))return l.substring(t.length,l.length)}return""}function resetform(e){return $("#"+e)[0].reset(),!1}function setButtonCallback(e,t){$("#"+e).click(function(){t()})}$(function(){_oafirstnotload.push("listdata"),_haveoatype.push({name:"listdata",title:"列表变量值",ignore:[],only:[],type:"属性",geteval:"getOAInfo(el,'列表变量值')||''",seteval:`
            if((value||'')!=''&&!_oaconfigable){
                function pdelayset(el,pvalue,value){
                    loadCheckValid(function(){
                        setTimeout(function(){
                            var cel=el.children().eq(0).children().eq(0);
                            if(cel.length!=0){
                                var id=-1;
                                var father=findOAListFather(el);
                                if(father!=null)
                                   id=findOAValuePosition(el,father)-1;
                                cel.parent().hide();
                                var data=eval(value);
                                var copylayout=getLayoutReplayInfo(cel,_elemidinfos)
                                var ci=1;
                                
                                for(var pi in data){
                                    setTimeout(function(){
                                        addOALayoutByEle(el,copylayout,2)
                                        // deleteReplay(el.children().eq(ci).children().eq(0),_eleinfos);
                                        // deleteReplay(el.children().eq(ci++).children().eq(0),_elemidinfos);
                                        delayPostOAList(el.children().eq(ci++).children().eq(0));
                                    });
                                    // delayPostOAList(el.children().eq(bi).children().eq(0));
                                }
                                // delayPostOAList(cel,function(){cel.parent().remove()});
                                // deleteReplay(cel,_eleinfos);
                                // deleteReplay(cel,_elemidinfos);
                                // cel.parent().remove();
                            }
                        },50);
                    },pvalue,10);
                    
                }
                var pvalue=value.replace(/\\[.*?\\]/g,'');
                pdelayset(el,pvalue,value);
             }
        `,make:"textarea",makeeval:`
            if(findOAListFather(el)!=null){
                This.attr("placeholder",'不建议使用多层列表，如要使用需保证底层加载完毕的时候上层尚未加载完毕');
            }
        `,append:"style='height:80px;resize:none;'"}),_oafirstnotload.push("listvalue"),_haveoatype.push({name:"listvalue",title:"列表应用值",ignore:[],only:[],type:"属性",geteval:"getOAInfo(el,'列表应用值')||''",seteval:`
            if((value||'')!=''&&!_oaconfigable){
                var father=findOAListFather(el);
                if(father!=null){
                    var realvaluename=getOAInfo(father,'列表变量值');
                    var pvaluename=realvaluename.replace(/\\[.*?\\]/g,'');
               
                    function ptdelayset(el,value,pvaluename,realvaluename,father){
                        loadCheckValid(function(){
                            var id=-1;
                            var grandfather=findOAListFather(father);
                            if(grandfather!=null)
                                id=findOAValuePosition(father,grandfather)-1;
                            var data=eval(realvaluename);
                            id=findOAValuePosition(el,father)-1;
                            if(id>=0){
                                if(!value.trim().startsWith("{"))
                                    setOAInfo(el,"文本内容",eval(value));
                                else{
                                    eval(value.trim().substring(1,value.trim().length-1));
                                }
                            }
                        },pvaluename,10);
                    }
                    ptdelayset(el,value,pvaluename,realvaluename,father);
                }
            }
        `,exist:`
            (findOAListFather(el)!=null);
        `,make:"textarea",makeeval:"This.attr('placeholder','继承实际变量:'+getOAInfo(findOAListFather(el),'列表变量值')+',可用data表示当前变量,id表示当前变量的序号。用{}包裹起来的语法可以执行JS语句，否则将替换文本内容，不输值则仅发生重复')",append:"style='height:150px;resize:none;'"})}),$(function(){var e="懒加载图片组件",t="oacppicb";registerVueComponent(e,t,`<div> 
				 <el-image
				      style="width: 100%; height: 100%"
				      :src="src"
				      :fit="fit"
					  :lazy="lazy"></el-image>
			</div>`,{el:"#app",data(){return{lazy:!0,src:"",fit:"fill"}}},null,{ignoretitle:["文本内容","适应浮动宽"]}),_haveoatype.push({name:t+"ssrc",title:"图片内容b",only:["."+t],ignore:[],type:"属性",seteval:"if(value!=null)_elevue[el.attr('id')].$data.src=value;",geteval:"_elevue[el.attr('id')].$data.src",makeeval:'This.css(\'width\',\'110px\');This.after(\'<button class="btn btn-default" onclick=\\\'setOAInfo($("#{0}"),"图片内容b","");$("input[name='+t+"ssrc]\").val(\"\");\\'>清空</button>'.format(el.attr('id')))",append:"readonly"}),_haveoatype.push({name:t+"psrc",title:"图片上传b",only:["."+t],ignore:[],type:"属性",seteval:"function _downel(el){sendFile($('input[name="+t+"psrc]')[0].files[0],function(res){ setOAInfo(el,'图片内容b',oa_serverip + res.path);})};if(value!=''&&value!=null&&_oaconfigable)_downel(el);",geteval:"''",makeeval:"This.attr('type','file')",update:[t+"ssrc"]}),_oabaseclass["取消懒加载"]={class:t+"lazy",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.lazy=false;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.lazy=true;
           `,register:["."+t]},_haveoatype.push({name:t+"fillmode",title:"图片显示方式",ignore:[],only:["."+t],type:"属性",geteval:"_elevue[el.attr('id')].$data.fit",seteval:"if(value!=null)_elevue[el.attr('id')].$data.fit=value;",make:"select",makeeval:`
            This.append("<option value='{0}'>{1}</option>".format('fill',"填充满宽高"));
            This.append("<option value='{0}'>{1}</option>".format('contain',"内含"));
            This.append("<option value='{0}'>{1}</option>".format('cover',"覆盖"));
            This.append("<option value='{0}'>{1}</option>".format('none',"不设置"));
            This.append("<option value='{0}'>{1}</option>".format('scale-down',"缩放之下"));
        `}),registerOAJs(e,"."+t)}),$(function(){var e="tabs标签组件B",t="oatabb";registerVueComponent(e,t,`<div >
				<div style="margin-bottom: 10px;" v-if="_oaconfigable">
				  <el-button
				    size="small"
				    @click="addTab(editableTabsValue)"
				  >
				   添加标签
				  </el-button>
				  
				</div>
				<el-tabs style="width:100%;height:100%" v-model="editableTabsValue" :type="type" :closable="close" @tab-remove="removeTab">
				  <el-tab-pane
				    v-for="(item, index) in editableTabs"
				    :key="item.name"
				    :label="item.title"
				    :name="item.name"
								 :style="{height:height}"
				  >
								  <iframe :src='item.src'  frameborder='0' style='width:100%;height:100%;border: medium none;'></iframe>
				  </el-tab-pane>
				</el-tabs>
			</div>
			 `,{el:"#app",data(){return{editableTabsValue:"1",editableTabs:[{title:"未命名",name:"1",src:""}],tabIndex:1,height:"300px",close:!0,type:"border-card"}},watch:{tabIndex(){_oaconfigable&&(_popele.slideRight(0,null,"hide"),_popele.slideRight(0,null,"show"))}},methods:{addTab(e){var t=++this.tabIndex+"";this.editableTabs.push({title:"未命名",name:t,src:""}),this.editableTabsValue=t},removeTab(a){let i=this.editableTabs,l=this.editableTabsValue;l===a&&i.forEach((e,t)=>{e.name!==a||(t=i[t+1]||i[t-1])&&(l=t.name)}),this.editableTabsValue=l,this.editableTabs=i.filter(e=>e.name!==a)},openTab(e,t,a){if(a){for(var i=this.$data,l=-1,o=0;o<i.editableTabs.length;o++)if(i.editableTabs[o].src==t){l=o;break}a=0<=l&&(this.editableTabsValue=i.editableTabs[l].name,!0)}a||(a=++this.tabIndex+"",this.editableTabs.push({title:e,name:a,src:t}),this.editableTabsValue=a)}}},null,{ignoretitle:["文本内容"]}),_oabaseclass["取消可关闭"]={class:t+"close",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.close=false;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.close=true;
           `,register:["."+t]},_haveoatype.push({name:t+"type",title:"tabs风格类型",ignore:[],only:["."+t],type:"属性",geteval:"_elevue[el.attr('id')].$data.type",seteval:"if(value!=null)_elevue[el.attr('id')].$data.type=value;",make:"select",makeeval:`
            This.append("<option value='{0}'>{1}</option>".format('border-card',"卡片带边风格"));
            This.append("<option value='{0}'>{1}</option>".format('card',"卡片"));
        `}),_haveoatype.push({name:t+"height",title:"页面高度",ignore:[],only:["."+t],type:"属性",geteval:"_elevue[el.attr('id')].$data.height",seteval:"if(value!=null)_elevue[el.attr('id')].$data.height=value;"}),_haveoatype.push({name:t+"web",title:"显示网址",ignore:[],only:["."+t],type:"属性",geteval:`
        var vuedata=_elevue[el.attr('id')].$data;
        var index=-1;
        for(var ci=0;ci<vuedata.editableTabs.length;ci++){
            if(vuedata.editableTabs[ci].name==vuedata.editableTabsValue){
                index=ci;
                break;
            }
        }
        if(index>=0)vuedata.editableTabs[index].src
        else ''`,seteval:`
            if(value!=null){
                var vuedata=_elevue[el.attr('id')].$data;
                var index=-1;
                for(var ci=0;ci<vuedata.editableTabs.length;ci++){
                    if(vuedata.editableTabs[ci].name==vuedata.editableTabsValue){
                        index=ci;
                        break;
                    }
                }
                if(index>=0)vuedata.editableTabs[index].src=value
            }
        `}),_haveoatype.push({name:t+"title",title:"tab名称",ignore:[],only:["."+t],type:"属性",geteval:`
        var vuedata=_elevue[el.attr('id')].$data;
        var index=-1;
        for(var ci=0;ci<vuedata.editableTabs.length;ci++){
            if(vuedata.editableTabs[ci].name==vuedata.editableTabsValue){
                index=ci;
                break;
            }
        }
        if(index>=0)vuedata.editableTabs[index].title
        else ''`,seteval:`
            if(value!=null){
                var vuedata=_elevue[el.attr('id')].$data;
                var index=-1;
                for(var ci=0;ci<vuedata.editableTabs.length;ci++){
                    if(vuedata.editableTabs[ci].name==vuedata.editableTabsValue){
                        index=ci;
                        break;
                    }
                }
                if(index>=0)vuedata.editableTabs[index].title=value
            }
        `}),registerOAJs(e,"."+t)}),$(function(){_bsclassname="_appendinfo",_oabaseclass["点击使下一个上下隐藏"]={class:_bsclassname+"tbhide",addeval:`
            el.bind('click.test',function(){
                if($(this).oanext().hasClass("_clickTBShow")){
                    $(this).oanext().removeClass("_clickTBShow");
                    $(this).oanext().slideTop(100,null,true);
                }
                else{
                    $(this).oanext().addClass("_clickTBShow");
                    $(this).oanext().slideTop(100,null,false);
                }
            })
        `,removeeval:`
            el.unbind('click.test')
         `},_oabaseclass["点击使下一个左右隐藏"]={class:_bsclassname+"close",addeval:`
              el.bind('click.test1',function(){
                if($(this).oanext().hasClass("_clickLRShow")){
                    $(this).oanext().removeClass("_clickLRShow");
                    $(this).oanext().slideLeft(300,null,true);
                }
                else{
                    $(this).oanext().addClass("_clickLRShow");
                    $(this).oanext().slideLeft(300,null,false);
                }
            })
           
        `,removeeval:`
            el.unbind('click.test1')
         `},_oabaseclass["默认上下隐藏"]={class:_bsclassname+"dftbhide",addeval:`
            const wpel=el;
            setTimeout(function(){
                if(!_oaconfigable){
                    wpel.slideTop(0,null,false);
                    wpel.addClass('_clickTBShow');
                }
            },20)
        `,removeeval:`

           `},_oabaseclass["默认左右隐藏"]={class:_bsclassname+"dflrhide",addeval:`
            const wpel=el;
            setTimeout(function(){
                if(!_oaconfigable){
                    el.slideLeft(0,null,false);
                    el.addClass('_clickLRShow');
                }
             },20)
        `,removeeval:`
         `},_oabaseclass["鼠标显示手指"]={class:_bsclassname+"pointer",addeval:`
            el.css('cursor','pointer')
        `,removeeval:`
         `}}),$(function(){_bsclassname="_rdinput",_oabaseclass["设定生成随机码"]={class:_bsclassname+"rdcode",addeval:`
            setOAInfo(el,"文本内容",(new Date()).valueOf()+""+Math.floor(Math.random()*9000+1000));
        `,removeeval:`
         `,register:[".oa-input"]}}),$(function(){_bsclassname="_oalayoutreverse",_oabaseclass["逆布局"]={class:_bsclassname+"by",addeval:`
            if(el.is("._hiv")){
                el.css({"flex-direction":"row-reverse"});
            }
            else if(el.is("._viv")){
                el.css({"flex-direction":"column-reverse"});
            }
            else if(el.is("._wiv")){
                el.css({"flex-wrap":"wrap-reverse"});
            }
            setOAInfo(el,'整体样式',el.attr('style'));
        `,removeeval:`
            if(el.is("._hiv")){
                el.css({"flex-direction":"row"});
            }
            else if(el.is("._viv")){
                el.css({"flex-direction":"column"});
            }
            else if(el.is("._wiv")){
                el.css({"flex-wrap":"wrap"});
            }
            setOAInfo(el,'整体样式',el.attr('style'));
         `,register:["._hiv","._viv","_wiv"]},_oabaseclass["布局可换行"]={class:_bsclassname+"bywrap",addeval:`
            el.css({"flex-wrap":"wrap"});
            setOAInfo(el,'整体样式',el.attr('style'));
        `,removeeval:`
            if(!el.hasClass("${_bsclassname+"byrwrap"}")&&!el.hasClass("_oa-form")){
                 el.css("flex-wrap","nowrap");
                setOAInfo(el,'整体样式',el.attr('style'));
            }
         `,register:["._hiv","._viv"]},_oabaseclass["布局可逆换行"]={class:_bsclassname+"byrwrap",addeval:`
            el.css({"flex-wrap":"wrap-reverse"});
           setOAInfo(el,'整体样式',el.attr('style'));
        `,removeeval:`
            if(!el.hasClass("${_bsclassname+"bywrap"}")&&!el.hasClass("_oa-form")){
                el.css("flex-wrap","nowrap");
                setOAInfo(el,'整体样式',el.attr('style'));
            }
         `,register:["._hiv","._viv"]},_haveoatype.push({name:"justifycinwidth",title:"布局内全子元素宽",ignore:[],only:["._oa-global"],type:"样式",geteval:"getOAInfo(el,'布局内全子元素宽')||getComputedStyle(document.documentElement).getPropertyValue('--inform-width')",seteval:`
            if(value!=null&&value!=''){
                document.documentElement.style.setProperty('--inform-width', value);
            }`})}),"undefined"==typeof _jumpflagweb&&(_jumpflagweb="http://ebm.ruuuun.com/"),_userInfo=window.top.sessionStorage.getItem("userInfo"),_userInfo=null==_userInfo?{}:JSON.parse(_userInfo),$(function(){_haveoatype.push({name:"fname",title:"访问权限字典",ignore:[],type:"属性",geteval:"(el.attr(name)==null)?'全部':el.attr(name)",seteval:"el.attr(name,value);function thideinfo(el,value){setTimeout(function(){if(!_oaconfigable){\n                if(value!='全部'&&value!=null&&JSON.parse(value).indexOf(_userInfo.role)==-1)\n                {\n                    el.remove();\n                }\n            }},0)};thideinfo(el,value);"}),_oabaseclass["当前页面仅登录可访问"]={class:"_onlylogin",addeval:"closeIfNotLogin()",removeeval:"",register:["._oa-global"]},_oabaseclass["设置为全局配置块"]={class:"_oa-global",addeval:"",removeeval:"",register:["div"]},_haveoatype.push({name:"jumpwebset",title:"权限跳转网址",ignore:[],only:["._oa-global"],type:"属性",geteval:"getOAInfo(el,'权限跳转网址')||_jumpflagweb",seteval:`
        if(value!=null&&value!=''){
            _jumpflagweb=value;
        }
    `}),_haveoatype.push({name:"pageneedflag",title:"页面所需访问权限",ignore:[],only:["._oa-global"],type:"属性",geteval:"getOAInfo(el,'页面所需访问权限')||'[]'",seteval:`
        if(value!=null&&value!=''){
            closeIfNotRole(value);
        }
    `})}),$(function(){_haveoatype.push({name:"tbchinesename",title:"中文名字(WEB)",ignore:[],only:["input","select","textarea"],type:"属性",geteval:`
            (function(el){
            var bqm=getOAInfo(el,'标识名称')||getOAInfo(el,'虚拟标签名称');
                if(_oaconfigable&&bqm!=null&&bqm!='')
                postoaregister("getmodelcnname",{0:tname,1:bqm},0,function(data){
                    if(data.data!=null&&data.data.length>0){
                        $('input[name=tbchinesename]').val(data.data[0].alias);
                    }
                });
                return "";
            })(el)
        `,seteval:`
            if(_oaconfigable)
            {
                const vts=value;
                if(vts!=null&&vts!='')
                 postoaregister("setmodelcnname",{0:vts,1:tname,2:getOAInfo(el,'标识名称')},1,function(data){
                });
            }
        `})}),$("body").append('<div class="wxload" id="wxloads" hidden><div class="wxloader" title="2"><svg version="1.1" id="wxloader-1"  x="0px" y="0px" width="100px" height="100px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><path fill="#000" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite" /></path></svg><div class="wxload-msg"> 加载中,请稍后....</div></div></div>'),_oaformregister=[],_postinputtype={},$(function(){for(var e in _oacomponent["输入框"]={el:$("<input class='oa-input' autocomplete='new-complete' type='text'/>"),notin:["._pow"],post:"$('#'+tempid).parent().css('position','relative');"},registerOAJs("输入框",".oa-input"),_haveoatype.push({name:"placeholder",title:"提示文字",ignore:[],only:[".oa-input","textarea"],type:"属性",geteval:"el.attr(name)",seteval:"el.attr(name,value)"}),_haveoatype)if("text"==_haveoatype[e].name){_haveoatype[e].ignore.push("input");break}registerOAJs("输入框","textarea"),_haveoatype.push({name:"coltype",title:"数据类型",ignore:[],only:["input","textarea","select"],type:"属性",make:"select",makeeval:"This.append('<option value=\"{0}\">{1}</option>'.format('text','文本'));This.append('<option value=\"{0}\">{1}</option>'.format('timestamp','日期'));This.append('<option value=\"{0}\">{1}</option>'.format('real','浮点数'));This.append('<option value=\"{0}\">{1}</option>'.format('integer','数字'));",geteval:"el.attr(name)",seteval:"el.attr(name,value);_postinputtype[el.attr('name')]=value"}),_haveoatype.push({name:"changelayout",title:"更改组件",ignore:["._pow"],only:["input","select","textarea",".oa-uploadpic",".oa-formnumber",".oa-formradio"],type:"属性",geteval:"'选择框'",seteval:"",make:"select",makeeval:"            This.append('<option value=\"{0}\">{0}</option>'.format('选择框'));            This.append('<option value=\"{0}\">{0}</option>'.format('输入框'));            This.append('<option value=\"{0}\">{0}</option>'.format('地图输入框'));            This.append('<option value=\"{0}\">{0}</option>'.format('文本框'));            This.append('<option value=\"{0}\">{0}</option>'.format('图片上传组'));            This.append('<option value=\"{0}\">{0}</option>'.format('数值调节框'));            This.append('<option value=\"{0}\">{0}</option>'.format('单选选项组'));            for(var i in _oaformregister){This.append('<option value=\"{0}\">{0}</option>'.format(_oaformregister[i]));}            This.after('<button class=\"btn btn-primary btnchangelayout\" id=\"btnchangelayout\">更改</button>');            setTimeout(function(){                $(\".btnchangelayout\").click(function(){                    if(_oacomponent[$('select[name=changelayout]').val()]!=null){                        if(confirm('确定是更改类型，更改完类型将会清空所有原属性')){                            fakeOAChange($('.oa-select'),$('select[name=changelayout]').val());                        }                    }                    else{layer.msg('更改失败，查无此组件');}                });            },0);",append:"style='width:30%'",notaddchange:!0}),_haveoatype.push({name:"val",title:"文本内容",ignore:[],only:["input","textarea"],type:"属性",geteval:"el.val()",seteval:"el.val(value)"}),_haveoatype.push({name:"name",title:"标识名称",ignore:[],only:["input","select","textarea"],type:"属性",geteval:"el.attr(name)",seteval:`
        if(value!=null){
            if(value=='_autopointeraliasname_'){
                el.attr(name,"");
                showLayuiInput("请输入你要自定义标签名称",[{placeholder:"自定义选项值",name:"value"}],
                    function(data){
                        setOAInfo(el,"标识名称",data.value);
                        el.attr(name,data.value);
                })
            }
            else{
                el.attr(name,value)
            }
        }
    `,make:"select",makeeval:`
        function addOnThis(This){
            This.append('<option value="_autopointeraliasname_">自定义列名</option>')
             postoaregister("getmodelname",{0:tname},0,function(data){
                var result=data.data;
                Vue.nextTick(function(){
                    for(var i in result){
                       $('select[name=name]').append('<option value="{1}">{0}</option>'.format(result[i].alias,result[i].name));
                    }
                    $('select[name=name]').val(getOAInfo(el,'标识名称'));
                });
               
            })
        }
        addOnThis(This);
        This.after("{{name}}");
    `,append:"style='width:130px' v-model='name'"}),_haveoatype.push({name:"editset",title:"编辑时",ignore:[],only:["input","select","textarea"],type:"属性",make:"select",makeeval:"This.append('<option value=\"{0}\">{1}</option>'.format('','无'));This.append('<option value=\"{0}\">{1}</option>'.format('write','可编辑'));This.append('<option value=\"{0}\">{1}</option>'.format('read','仅可读'));This.append('<option value=\"{0}\">{1}</option>'.format('disabled','不可用'));This.append('<option value=\"{0}\">{1}</option>'.format('hidden','隐藏'));This.append('<option value=\"{0}\">{1}</option>'.format('remove','移除'));",geteval:"getOAInfo(el,'编辑时')||''",seteval:"if(getUrlParam(_itemid)!=null&&value!=null){function delaysedit(el,value){setTimeout(()=>{if(value=='write'){el.removeAttr('readonly');el.removeAttr('disabled');el.removeAttr('hidden');}else if(value=='read'){el.removeAttr('disabled');el.removeAttr('hidden');el.attr('readonly','readonly');}else if(value=='disabled'){el.removeAttr('readonly');el.removeAttr('hidden');el.attr('disabled','disabled');}else if(value=='hidden'){el.removeAttr('readonly');el.removeAttr('disabled');el.attr('hidden','hidden');el.css('display','none');}else if(value=='remove'){el.remove();} },10);};delaysedit(el,value);}"}),_haveoatype.push({name:"type",title:"类型",ignore:[],only:["input"],type:"属性",geteval:"el.attr(name)",seteval:"el.attr(name,value)"}),_oainputbaseclass={"必填":"required","电子邮件验证":"email","手机号码验证":"isMobile","有区号电话号码验证":"telephone","身份证验证":"idCard","邮政编码验证":"isZipCode","区号验证":"ac","合法字符验证":"stringCheck","纯中文验证":"chinese","全非中文验证":"nochinese","年龄验证":"age","无区号电话号验证":"noactel","整数验证":"digits","数字验证":"number","信用卡号验证":"creditcard","日期验证":"date","网址验证":"url"},_haveoatype.push({name:"oainputconfigclass",title:"输入限制",ignore:[],only:["input","select","textarea"],type:"属性",geteval:"",seteval:"             for(var i in value){                     if(!el.hasClass(value[i])){                         el.addClass(value[i]);                     }              }         ",make:"select",makeeval:"\t\t\t\t     ptoaclachange=function(a){\t\t\t\t         var value=a.multipleSelect('getSelects');\t\t\t\t         for(var i in value){\t\t\t\t             if(!el.hasClass(value[i])){\t\t\t\t                 el.addClass(value[i]);\t\t\t\t                 el.show();\t\t\t\t             }\t\t\t\t          }\t\t\t\t          for(var i in _oainputbaseclass){\t\t\t\t             if(value.indexOf(_oainputbaseclass[i])==-1){\t\t\t\t                 el.removeClass(_oainputbaseclass[i]);\t\t\t\t             }\t\t\t\t          }\t\t\t\t          setOAInfo(el,'样式类',el.attr('class'));\t\t\t\t      };\t\t\t\t     function ptoabasedelay(){\t\t\t\t          setTimeout(function(){\t\t\t\t             var This=$('*[name=oainputconfigclass]'); \t\t\t\t             for(var i in _oainputbaseclass){\t\t\t\t                 This.append('<option value=\"{0}\">{1}</option>'.format(_oainputbaseclass[i],i));\t\t\t\t             }            This.multipleSelect({\n                //控件宽度\n                width: 180,\n                //全选字体样式\n                selectAllText:'全选',\n                // 支持在一行中显示多个选项\n                multiple: true,\n                multipleWidth: 180,\n                //placeholder\n                placeholder: \"请选择\",            onClick:function(){ptoaclachange(This);}\n            });This.multipleSelect('setSelects', ((el.attr('class')!=null)?el.attr('class').split(' '):[]));This.multipleSelect('refresh');},10)};ptoabasedelay()",append:"style='width:30%' multiple='multiple' "}),_haveoatype.push({name:"bginputsrc",title:"右侧图标",only:["input","select"],ignore:[],type:"属性",seteval:"function _bginputdownel(el){sendFile($('input[name=bginputsrc]')[0].files[0],function(res){   setOAInfo(el,'背景内容',oa_serverip+res.path);   setOAInfo(el,'背景平铺','no-repeat');   setOAInfo(el,'背景位置','calc(100% - 20px) 50%');   setOAInfo(el,'背景宽高','15px auto');})};if(value!=null&&value!='')_bginputdownel(el);",geteval:"''",makeeval:"This.attr('type','file')",update:["bgsrc"]}),_haveoatype.push({name:"dateinputtype",title:"设为时间类型",ignore:[],only:[".oa-input"],type:"属性",make:"select",makeeval:"This.append('<option value=\"{0}\">{1}</option>'.format('','无'));This.append('<option value=\"{0}\">{1}</option>'.format('year','年'));This.append('<option value=\"{0}\">{1}</option>'.format('month','月'));This.append('<option value=\"{0}\">{1}</option>'.format('date','仅日期'));This.append('<option value=\"{0}\">{1}</option>'.format('time','仅时间'));This.append('<option value=\"{0}\">{1}</option>'.format('datetime','日期时间'));",geteval:"(el.attr(name)==null?'':el.attr(name))",seteval:"if(!(value==null||value=='')){   var g_reload=false;   if(!(el.attr(name)==null||el.attr(name)==''||el.attr(name)==' ')){g_reload=true;}\n   setOAInfo(el,'背景内容','data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTdweCIgaGVpZ2h0PSIxN3B4IiB2aWV3Qm94PSIwIDAgMTcgMTciIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+6Lev5b6EXzY5MzE8L3RpdGxlPgogICAgPGcgaWQ9IueuoeeQhuezu+e7nyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuaVsOaNrueuoeeQhi0tLeiuvuWkh+aVsOaNri0tLeafpeivou+8iOS/ruaUueOAgeWkjeeUqOaWsOWinumhtemdouaooeadv++8iS0jIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTMxNy4wMDAwMDAsIC0zNjYuMDAwMDAwKSIgZmlsbD0iIzk5OTk5OSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPGcgaWQ9IuWGheWuueWMuiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzIwLjAwMDAwMCwgMTkwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9Iue8lue7hC03IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOS40OTI0MTcsIDEwMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iXzIwMTkuMDUtMjAyMC4wNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTExLjAwMDAwMCwgNjIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00NTkuODg4MDE2LDI4LjAyODkyNjYgTDQ0OS41MjczNDYsMjguMDE1NzI3NyBDNDQ4LjAyMDk4MiwyNy44NzE2NTQ3IDQ0Ni44NzEwNDksMjYuNjIwNzQ1MSA0NDYuODY5MjQ5LDI1LjEyNDIxOTQgTDQ0Ni44NjkyNDksMTYuMjk3OTA2NyBDNDQ2Ljg3MTM1MSwxNC42OTQ2OTU2IDQ0OC4xODU0MTMsMTMuMzk1NzAwNCA0NDkuODA2Njk1LDEzLjM5NDE0MjIgTDQ1OS44ODgwMTYsMTMuMzk0MTQyMiBDNDYxLjUwOTE0MywxMy4zOTU3MDE0IDQ2Mi44MjI5MzIsMTQuNjk0ODQ4MSA0NjIuODI0NTA5LDE2LjI5NzkwNjcgTDQ2Mi44MjQ1MDksMjUuMTE5NTA1NSBDNDYyLjgyNTU2MywyNi43MjQ1NTc2IDQ2MS41MTExNTgsMjguMDI2ODQ1MiA0NTkuODg4MDE2LDI4LjAyODkyNjYgTDQ1OS44ODgwMTYsMjguMDI4OTI2NiBaIE00NDkuODA3NjQ4LDE0LjU3ODI3NDcgQzQ0OC44NDY3NTQsMTQuNTc4Nzk0MyA0NDguMDY3Nzc5LDE1LjM0ODY2NTMgNDQ4LjA2NjcyNywxNi4yOTg4NDk1IEw0NDguMDY2NzI3LDI1LjEyNTE2MjIgQzQ0OC4wNjc3NzgsMjYuMDc1NDk5MiA0NDguODQ2NiwyNi44NDU2NDA1IDQ0OS44MDc2NDgsMjYuODQ2Njc5NyBMNDU5Ljg4ODAxNiwyNi44NDY2Nzk3IEM0NjAuODQ4OTEsMjYuODQ1NjM5NiA0NjEuNjI3NDU4LDI2LjA3NTM0NjcgNDYxLjYyNzk4MywyNS4xMjUxNjIyIEw0NjEuNjI3OTgzLDE2LjI5NzkwNjcgQzQ2MS42MjY5MzIsMTUuMzQ4MDkwMyA0NjAuODQ4NTM4LDE0LjU3ODM3MTIgNDU5Ljg4ODAxNiwxNC41NzczMzIgTDQ0OS44MDc2NDgsMTQuNTc3MzMyIEw0NDkuODA3NjQ4LDE0LjU3ODI3NDcgWiBNNDU4LjA1MzY2MiwxNi4yNzUyOCBDNDU3Ljg0MjAxOSwxNi4yNzUyOCA0NTcuNjM5MDQ0LDE2LjE5MjE0MjEgNDU3LjQ4OTM5LDE2LjA0NDE1NTcgQzQ1Ny4zMzk3MzUsMTUuODk2MTY5NCA0NTcuMjU1NjYxLDE1LjY5NTQ1NjggNDU3LjI1NTY2MSwxNS40ODYxNzI1IEw0NTcuMjU1NjYxLDEyLjc5MDc2MjYgQzQ1Ny4yNzA1MjEsMTIuMzY1ODE5MiA0NTcuNjIzMTk1LDEyLjAyODkyNjYgNDU4LjA1MzE4NSwxMi4wMjg5MjY2IEM0NTguNDgzMTc1LDEyLjAyODkyNjYgNDU4LjgzNTg0OSwxMi4zNjU4MTkyIDQ1OC44NTA3MSwxMi43OTA3NjI2IEw0NTguODUwNzEsMTUuNDg5MDAwOSBDNDU4Ljg1MDcxLDE1LjkyNDQ0NSA0NTguNDk0MDEzLDE2LjI3NzU4ODEgNDU4LjA1MzY2MiwxNi4yNzgxMDgzIEw0NTguMDUzNjYyLDE2LjI3NTI4IFogTTQ1MS40NjM3MTUsMTYuMjc1MjggQzQ1MS4yNTIwNzIsMTYuMjc1MjggNDUxLjA0OTA5NywxNi4xOTIxNDIxIDQ1MC44OTk0NDMsMTYuMDQ0MTU1NyBDNDUwLjc0OTc4OSwxNS44OTYxNjk0IDQ1MC42NjU3MTQsMTUuNjk1NDU2OCA0NTAuNjY1NzE0LDE1LjQ4NjE3MjUgTDQ1MC42NjU3MTQsMTIuNzkwNzYyNiBDNDUwLjY4MDU3NCwxMi4zNjU4MTkyIDQ1MS4wMzMyNDksMTIuMDI4OTI2NiA0NTEuNDYzMjM5LDEyLjAyODkyNjYgQzQ1MS44OTMyMjgsMTIuMDI4OTI2NiA0NTIuMjQ1OTAzLDEyLjM2NTgxOTIgNDUyLjI2MDc2MywxMi43OTA3NjI2IEw0NTIuMjYwNzYzLDE1LjQ4OTAwMDkgQzQ1Mi4yNjA3NjMsMTUuOTI0NDQ1IDQ1MS45MDQwNjcsMTYuMjc3NTg4MSA0NTEuNDYzNzE1LDE2LjI3ODEwODMgTDQ1MS40NjM3MTUsMTYuMjc1MjggWiBNNDU1LjIzNDQzOCwyNC44NTQ1ODQxIEw0NTQuNDcxNzEzLDI0Ljg1NDU4NDEgQzQ1NC4xODAyMDksMjQuODY0NTUyMSA0NTMuOTA2NDI4LDI0LjcxNjQ1NzEgNDUzLjc1NzY4OCwyNC40NjgzNDk2IEM0NTMuNjA4OTQ4LDI0LjIyMDI0MiA0NTMuNjA4OTQ4LDIzLjkxMTY1NDEgNDUzLjc1NzY4OCwyMy42NjM1NDY2IEM0NTMuOTA2NDI4LDIzLjQxNTQzOSA0NTQuMTgwMjA5LDIzLjI2NzM0NCA0NTQuNDcxNzEzLDIzLjI3NzMxMiBMNDU1LjIzNDQzOCwyMy4yNzczMTIgQzQ1NS42NjQxNzEsMjMuMjkyMDA2OCA0NTYuMDA0ODYxLDIzLjY0MDc1MDYgNDU2LjAwNDg2MSwyNC4wNjU5NDgxIEM0NTYuMDA0ODYxLDI0LjQ5MTE0NTUgNDU1LjY2NDE3MSwyNC44Mzk4ODkzIDQ1NS4yMzQ0MzgsMjQuODU0NTg0MSBMNDU1LjIzNDQzOCwyNC44NTQ1ODQxIFogTTQ2Mi4wNDM2NjksMTkuMDM1NzQxOCBMNDQ4LjEyMzkzMiwxOS4wMzU3NDE4IEM0NDcuNjk0MTk5LDE5LjAyMTA0NyA0NDcuMzUzNTA5LDE4LjY3MjMwMzIgNDQ3LjM1MzUwOSwxOC4yNDcxMDU3IEM0NDcuMzUzNTA5LDE3LjgyMTkwODMgNDQ3LjY5NDE5OSwxNy40NzMxNjQ1IDQ0OC4xMjM5MzIsMTcuNDU4NDY5NyBMNDYyLjA0MzY2OSwxNy40NTg0Njk3IEM0NjIuMzM1MTczLDE3LjQ0ODUwMTcgNDYyLjYwODk1NCwxNy41OTY1OTY3IDQ2Mi43NTc2OTQsMTcuODQ0NzA0MiBDNDYyLjkwNjQzNCwxOC4wOTI4MTE4IDQ2Mi45MDY0MzQsMTguNDAxMzk5NyA0NjIuNzU3Njk0LDE4LjY0OTUwNzMgQzQ2Mi42MDg5NTQsMTguODk3NjE0OCA0NjIuMzM1MTczLDE5LjA0NTcwOTggNDYyLjA0MzY2OSwxOS4wMzU3NDE4IFogTTQ1MS42NzQ0MTgsMjIuMzc1MDcwOSBMNDUwLjkxMTY5MywyMi4zNzUwNzA5IEM0NTAuNDgxOTYsMjIuMzYwMzc2MSA0NTAuMTQxMjcsMjIuMDExNjMyMyA0NTAuMTQxMjcsMjEuNTg2NDM0OSBDNDUwLjE0MTI3LDIxLjE2MTIzNzUgNDUwLjQ4MTk2LDIwLjgxMjQ5MzYgNDUwLjkxMTY5MywyMC43OTc3OTg5IEw0NTEuNjc0NDE4LDIwLjc5Nzc5ODkgQzQ1Mi4xMDQxNTEsMjAuODEyNDkzNiA0NTIuNDQ0ODQxLDIxLjE2MTIzNzUgNDUyLjQ0NDg0MSwyMS41ODY0MzQ5IEM0NTIuNDQ0ODQxLDIyLjAxMTYzMjMgNDUyLjEwNDE1MSwyMi4zNjAzNzYxIDQ1MS42NzQ0MTgsMjIuMzc1MDcwOSBMNDUxLjY3NDQxOCwyMi4zNzUwNzA5IFogTTQ1NS4yMzM0ODUsMjIuMzc1MDcwOSBMNDU0LjQ3MDc2LDIyLjM3NTA3MDkgQzQ1NC4xNzkyNTUsMjIuMzg1MDM5IDQ1My45MDU0NzUsMjIuMjM2OTQ0IDQ1My43NTY3MzUsMjEuOTg4ODM2NCBDNDUzLjYwNzk5NSwyMS43NDA3Mjg4IDQ1My42MDc5OTUsMjEuNDMyMTQwOSA0NTMuNzU2NzM1LDIxLjE4NDAzMzQgQzQ1My45MDU0NzUsMjAuOTM1OTI1OCA0NTQuMTc5MjU1LDIwLjc4NzgzMDggNDU0LjQ3MDc2LDIwLjc5Nzc5ODkgTDQ1NS4yMzM0ODUsMjAuNzk3Nzk4OSBDNDU1LjY2MzIxOCwyMC44MTI0OTM2IDQ1Ni4wMDM5MDgsMjEuMTYxMjM3NSA0NTYuMDAzOTA4LDIxLjU4NjQzNDkgQzQ1Ni4wMDM5MDgsMjIuMDExNjMyMyA0NTUuNjYzMjE4LDIyLjM2MDM3NjEgNDU1LjIzMzQ4NSwyMi4zNzUwNzA5IEw0NTUuMjMzNDg1LDIyLjM3NTA3MDkgWiBNNDU4Ljc4MzAxOCwyMi4zNzUwNzA5IEw0NTguMDIwMjkzLDIyLjM3NTA3MDkgQzQ1Ny43Mjg3ODgsMjIuMzg1MDM5IDQ1Ny40NTUwMDgsMjIuMjM2OTQ0IDQ1Ny4zMDYyNjcsMjEuOTg4ODM2NCBDNDU3LjE1NzUyNywyMS43NDA3Mjg4IDQ1Ny4xNTc1MjcsMjEuNDMyMTQwOSA0NTcuMzA2MjY3LDIxLjE4NDAzMzQgQzQ1Ny40NTUwMDgsMjAuOTM1OTI1OCA0NTcuNzI4Nzg4LDIwLjc4NzgzMDggNDU4LjAyMDI5MywyMC43OTc3OTg5IEw0NTguNzgzMDE4LDIwLjc5Nzc5ODkgQzQ1OS4yMTI3NTEsMjAuODEyNDkzNiA0NTkuNTUzNDQsMjEuMTYxMjM3NSA0NTkuNTUzNDQsMjEuNTg2NDM0OSBDNDU5LjU1MzQ0LDIyLjAxMTYzMjMgNDU5LjIxMjc1MSwyMi4zNjAzNzYxIDQ1OC43ODMwMTgsMjIuMzc1MDcwOSBMNDU4Ljc4MzAxOCwyMi4zNzUwNzA5IFogTTQ1MS42NzQ0MTgsMjQuODUzNjQxMyBMNDUwLjkxMTY5MywyNC44NTM2NDEzIEM0NTAuNDgxOTYsMjQuODM4OTQ2NSA0NTAuMTQxMjcsMjQuNDkwMjAyNyA0NTAuMTQxMjcsMjQuMDY1MDA1MyBDNDUwLjE0MTI3LDIzLjYzOTgwNzggNDUwLjQ4MTk2LDIzLjI5MTA2NCA0NTAuOTExNjkzLDIzLjI3NjM2OTMgTDQ1MS42NzQ0MTgsMjMuMjc2MzY5MyBDNDUyLjEwNDE1MSwyMy4yOTEwNjQgNDUyLjQ0NDg0MSwyMy42Mzk4MDc4IDQ1Mi40NDQ4NDEsMjQuMDY1MDA1MyBDNDUyLjQ0NDg0MSwyNC40OTAyMDI3IDQ1Mi4xMDQxNTEsMjQuODM4OTQ2NSA0NTEuNjc0NDE4LDI0Ljg1MzY0MTMgTDQ1MS42NzQ0MTgsMjQuODUzNjQxMyBaIE00NTguNzgzMDE4LDI0Ljg1MzY0MTMgTDQ1OC4wMjAyOTMsMjQuODUzNjQxMyBDNDU3LjcyODc4OCwyNC44NjM2MDk0IDQ1Ny40NTUwMDgsMjQuNzE1NTE0NCA0NTcuMzA2MjY3LDI0LjQ2NzQwNjggQzQ1Ny4xNTc1MjcsMjQuMjE5Mjk5MiA0NTcuMTU3NTI3LDIzLjkxMDcxMTMgNDU3LjMwNjI2NywyMy42NjI2MDM4IEM0NTcuNDU1MDA4LDIzLjQxNDQ5NjIgNDU3LjcyODc4OCwyMy4yNjY0MDEyIDQ1OC4wMjAyOTMsMjMuMjc2MzY5MyBMNDU4Ljc4MzAxOCwyMy4yNzYzNjkzIEM0NTkuMjEyNzUxLDIzLjI5MTA2NCA0NTkuNTUzNDQsMjMuNjM5ODA3OCA0NTkuNTUzNDQsMjQuMDY1MDA1MyBDNDU5LjU1MzQ0LDI0LjQ5MDIwMjcgNDU5LjIxMjc1MSwyNC44Mzg5NDY1IDQ1OC43ODMwMTgsMjQuODUzNjQxMyBMNDU4Ljc4MzAxOCwyNC44NTM2NDEzIFoiIGlkPSLot6/lvoRfNjkzMSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+');   setOAInfo(el,'背景平铺','no-repeat');   setOAInfo(el,'背景位置','calc(100% - 20px) 50%');   setOAInfo(el,'背景宽高','15px auto');   try{   function setdatevalue(el,value){layui.use('laydate', function(){\n    var laydate = layui.laydate;\n       laydate.render({\n        elem: '#'+el.attr('id')\n        ,type: value\n       });   });   }setdatevalue(el,value);   }   catch(e){}\n   if(g_reload&&_oaconfigable){alert('请保存页面后重新加载才能查看修改日期效果');}\n}else{   setOAInfo(el,'背景内容',' ');};if(value!=null)el.attr(name,value);"}),_oafirstnotload.push("dateinputtype"),_oabaseclass["输入框必填小红星"]={class:"required",addeval:'el.after(\'<span class="redstarr-require" style="position:absolute;left:calc(0.9375vw + 5px);top:27px;color:red">*</span>\')',removeeval:"el.parent().children('.redstarr-require').remove();",register:["input","select",".oa-formstyle"]},_oabaseclass["仅可读"]={class:"_inputreadonly",addeval:"el.attr('readonly','readonly');",removeeval:"el.removeAttr('readonly');"},_oabaseclass["不可用"]={class:"_inputdisabled",addeval:"el.attr('disabled','disabled');",removeeval:"el.removeAttr('disabled');"},_oabaseclass["隐藏"]={class:"_inputhidden",addeval:"if(!_oaconfigable)el.attr('hidden','hidden');",removeeval:"el.removeAttr('hidden');"},_oabaseclass["输入框搜索图标"]={class:"_ipsearch",addeval:'el.after(\'<span class="glyphicon glyphicon-search" aria-hidden="true" style="position:absolute;right:calc(0.9375vw + 20px);top:25px;"></span>\')',removeeval:"el.parent().children('.glyphicon-search').remove();",register:["input","select",".oa-formstyle"]},_oabaseclass["输入框下拉图标"]={class:"_ipdownarror",addeval:'el.after(\'<span class="glyphicon glyphicon-menu-down" aria-hidden="true" style="position:absolute;right:calc(0.9375vw + 20px);top:25px;"></span>\')',removeeval:"el.parent().children('.glyphicon-menu-down').remove();",register:["input","select",".oa-formstyle"]},_oabaseclass["输入框上拉图标"]={class:"_ipuparror",addeval:'el.after(\'<span class="glyphicon glyphicon-menu-up" aria-hidden="true" style="position:absolute;right:calc(0.9375vw + 20px);top:25px;"></span>\')',removeeval:"el.parent().children('.glyphicon-menu-up').remove();",register:["input","select",".oa-formstyle"]},_oabaseclass["输入框电话图标"]={class:"_iptelphone",addeval:'el.after(\'<span class="glyphicon glyphicon-earphone" aria-hidden="true" style="position:absolute;right:calc(0.9375vw + 20px);top:25px;"></span>\')',removeeval:"el.parent().children('.glyphicon-earphone').remove();",register:["input","select",".oa-formstyle"]},_oabaseclass["输入框手机图标"]={class:"_ipphone",addeval:'el.after(\'<span class="glyphicon glyphicon-phone" aria-hidden="true" style="position:absolute;right:calc(0.9375vw + 20px);top:25px;"></span>\')',removeeval:"el.parent().children('.glyphicon-phone').remove();",register:["input","select",".oa-formstyle"]},_oabaseclass["输入框编辑图标"]={class:"_ipedit",addeval:'el.after(\'<span class="glyphicon glyphicon-edit" aria-hidden="true" style="position:absolute;right:calc(0.9375vw + 20px);top:25px;"></span>\')',removeeval:"el.parent().children('.glyphicon-edit').remove();",register:["input","select",".oa-formstyle"]},_oabaseclass["输入框定位图标"]={class:"_ipmapmarker",addeval:'el.after(\'<span class="glyphicon glyphicon-map-marker" aria-hidden="true" style="position:absolute;right:calc(0.9375vw + 20px);top:25px;"></span>\')',removeeval:"el.parent().children('.glyphicon-map-marker').remove();",register:["input","select",".oa-formstyle"]},_oabaseclass["输入框图片图标"]={class:"_ippicture",addeval:'el.after(\'<span class="glyphicon glyphicon-picture" aria-hidden="true" style="position:absolute;right:calc(0.9375vw + 20px);top:25px;"></span>\')',removeeval:"el.parent().children('.glyphicon-picture').remove();",register:["input","select",".oa-formstyle"]},_oabaseclass["输入框信封图标"]={class:"_ipemail",addeval:'el.after(\'<span class="glyphicon glyphicon-envelope" aria-hidden="true" style="position:absolute;right:calc(0.9375vw + 20px);top:25px;"></span>\')',removeeval:"el.parent().children('.glyphicon-envelope').remove();",register:["input","select",".oa-formstyle"]},_oabaseclass["输入框日历图标"]={class:"_ipcalendar",addeval:'el.after(\'<span class="glyphicon glyphicon-calendar" aria-hidden="true" style="position:absolute;right:calc(0.9375vw + 20px);top:25px;"></span>\')',removeeval:"el.parent().children('.glyphicon-calendar').remove();",register:["input","select",".oa-formstyle"]},_oacomponent["文本框"]={el:$("<textarea class='oa-textarea'></textarea>"),notin:["._pow"]},_oacomponent["数值调节框"]={define:[{parent:"ele_163696813183407324357066093807",id:"outter_1639205279853007335707735037356",eleid:"ele_16392052798530262043813034468",type:"横向布局","属性":{contentinfo:"{}",oacomjs:"if(getUrlParam(_itemid)!=null&&This.find(\"input\").attr('editset')=='remvoe'){\n    This.remove();\n}\nelse if(getUrlParam(_itemid)!=null&&This.find(\"input\").attr('editset')=='hidden'){\n    This.hide();\n}\nelse {\n    This.find(\"input\").change(\n        function(){\n            if($(this).val()==''||parseFloat($(this).val())<parseFloat(This.attr(\"minfnumber\")))$(this).val((($(this).oaparent().attr('typefnumber')=='整数')?parseInt(This.attr(\"minfnumber\")):parseFloat(This.attr(\"minfnumber\")).toFixed(2)))\n            if(parseFloat($(this).val())>parseFloat(This.attr(\"maxfnumber\")))$(this).val((($(this).oaparent().attr('typefnumber')=='整数')?parseInt(This.attr(\"maxfnumber\")):parseFloat(This.attr(\"maxfnumber\")).toFixed(2)))\n        })\n}",id:"ele_16392052798530262043813034468",component:"横向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",minfnumber:"0",maxfnumber:"100",stepfnumber:"1",fname:"全部",suitwivwidth:"0",typefnumber:"整数"},"样式":{bclass:"_hiv oa-formstyle oa-formnumber oa-element required vflowcenter oa-select",style:"display: flex; flex-direction: row; border-width: 1px;align-items:center;",width:571,height:40,aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163697366183902831559214478936"},{parent:"ele_16392052798530262043813034468",id:"outter_163920527985303690798163128233",eleid:"ele_163920527985307052326021202244",type:"弹簧","属性":{contentinfo:"{}"},"样式":{bclass:"_pow oa-element oa-select"},addtype:2,addposition:"ele_16392052798530262043813034468"},{parent:"ele_16392052798530262043813034468",id:"outter_1639205279853044217816253135767",eleid:"ele_163920527985304852556640519117",type:"基础Div","属性":{contentinfo:"{}",oacomjs:"if(getUrlParam(_itemid)==null||(This.oanext().attr('editset')||'write')=='write')\nThis.click(function() {\n    if ($(this).oanext().val() == null || $(this).oanext().val() == '') $(this).oanext().val($(this).oaparent().attr('minfnumber'));\n    var mvalue=parseFloat($(this).oanext().val()) - parseFloat($(this).oaparent().attr('stepfnumber'));\n    if(mvalue<parseFloat($(this).oaparent().attr('minfnumber'))) mvalue=parseFloat($(this).oaparent().attr('minfnumber'));\n    if(parseFloat($(this).oaparent().attr('minfnumber'))<parseFloat($(this).oanext().val()))$(this).oanext().val((($(this).oaparent().attr('typefnumber')=='整数')?parseInt(mvalue):mvalue.toFixed(2)));\n});",id:"ele_163920527985304852556640519117",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element oa-select",style:" border-width: 1px; margin: 0px; width: 22px; height: 22px;background:white;\ntext-align:center;padding:1px;user-select:none;cursor:pointer;",width:22,height:"22",text:"-",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163920527985307052326021202244"},{parent:"ele_16392052798530262043813034468",id:"outter_163920527985303110322153265168",eleid:"ele_163920527985306676850776978265",type:"输入框","属性":{contentinfo:"{}",val:"0",type:"number",coltype:"integer",placeholder:"数字",id:"ele_163920527985306676850776978265",component:"输入框",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",editset:"write",bginputsrc:"",dateinputtype:"",fname:"全部",suitwivwidth:"0",name:""},"样式":{bclass:"oa-input oa-element valid oa-select",style:"min-width: 0px; width: 50px; padding: 0px; max-width: 100px; border: 1px;margin-left:10px;margin-right:0px;text-align:center;",bgsrc:" ",width:50,height:40,aconfigshow:"不做设置",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163920527985304852556640519117"},{parent:"ele_16392052798530262043813034468",id:"outter_163920527985308359068535805441",eleid:"ele_163920527985308649464440522086",type:"基础Div","属性":{contentinfo:"{}",oacomjs:"if(getUrlParam(_itemid)==null||(This.oaprev().attr('editset')||'write')=='write')\nThis.click(function() {\n    if ($(this).oaprev().val() == null || $(this).oaprev().val() == '') $(this).oaprev().val($(this).oaparent().attr('minfnumber'));\n    var mvalue=parseFloat($(this).oaprev().val()) + parseFloat($(this).oaparent().attr('stepfnumber'));\n    if(mvalue>parseFloat($(this).oaparent().attr('maxfnumber'))) mvalue=parseFloat($(this).oaparent().attr('maxfnumber'));\n    if(parseFloat($(this).oaparent().attr('maxfnumber'))>parseFloat($(this).oaprev().val()))$(this).oaprev().val((($(this).oaparent().attr('typefnumber')=='整数')?parseInt(mvalue):mvalue.toFixed(2)));\n});",id:"ele_163920527985308649464440522086",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element oa-select",width:22,style:"border-width: 1px; width: 22px; height: 22px;text-align:center;background:white;padding-top:1px;user-select:none;cursor:pointer;",height:"22",text:"+",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163920527985306676850776978265"},{parent:"ele_16392052798530262043813034468",id:"outter_163920527985304171048582006751",eleid:"ele_163920527985306267024548977533",type:"基础Div","属性":{contentinfo:"{}",oacomjs:"This.parent().css('position','relative');",id:"ele_163920527985306267024548977533",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element oa-select",style:"padding: var(--inlayout-distance); border-width: 1px;color:#999999;padding-right:40px;",text:"提示信息",width:103,height:31,aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:1,addposition:"ele_163920527985307052326021202244"}]},_haveoatype.push({name:"minfnumber",title:"最小数值",ignore:[],only:[".oa-formnumber"],type:"属性",geteval:"el.attr(name)||(el.attr(name,'0')?0:0)",seteval:"el.attr(name,value)"}),_haveoatype.push({name:"maxfnumber",title:"最大数值",ignore:[],only:[".oa-formnumber"],type:"属性",geteval:"el.attr(name)||(el.attr(name,'100')?100:100)",seteval:"el.attr(name,value)"}),_haveoatype.push({name:"stepfnumber",title:"步进数值",ignore:[],only:[".oa-formnumber"],type:"属性",geteval:"el.attr(name)||(el.attr(name,'1')?1:1)",seteval:"el.attr(name,value)"}),_haveoatype.push({name:"typefnumber",title:"数值类型",ignore:[],only:[".oa-formnumber"],type:"属性",geteval:"el.attr(name)||el.attr(name,'整数')||'整数'",seteval:"el.attr(name,value)",make:"select",makeeval:"This.append(\"<option value='{0}'>{0}</option>\".format('整数'));This.append(\"<option value='{0}'>{0}</option>\".format('浮点数'));"}),_oacomponent["地图输入框"]={define:[{parent:"ele_1636017798305024498453892669114",id:"outter_1637223515626",eleid:"ele_1637223515626",type:"输入框","属性":{oacomjs:'_oaloadmarker=loadMapMarkerComponent("_oaloadmarker",This.attr("id"));',id:"ele_1637223515626",component:"输入框",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",val:"",editset:"write",type:"text",bginputsrc:"",dateinputtype:"",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"oa-input oa-element valid _ipmapmarker oa-select",bgsrc:" ",width:571,height:40,style:'background-image: url(""); border-width: 1px;width:1171px;max-width:92vw;min-width:200px;',aconfigshow:"不做设置",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:1,addposition:"ele_163601779830503135886526038978"}],cnotin:!0,cnotafter:!0,cnotbefore:!0}});var _scrolltype=1;function registerOnScroll(e,t,a,i,l){_registerOnScrollEvent.push(e),_registerOnScrollEventParams.push({min:t,max:a,type:i,inrange:l})}function getTopScrollValue(){var e=(0==_scrolltype?getNowTop:getElementTop)();return e/window.innerHeight}function getBottomScrollValue(){var e=(0==_scrolltype?getNowTop:getElementTop)();return e/window.innerHeight}function getObjcetTopValue(e){return e.offset().top/window.innerHeight}function getObjcetBottomValue(e){return(e.offset().top+e.height())/window.innerHeight}function getObjectTop(e){return e.offset().top}function getObjectBottom(e){return e.offset().top+e.height()}function getUpperTopObjectValue(e,t){return(e.offset().top-t)/window.innerHeight}function getDownTopObjectValue(e,t){return(e.offset().top+t)/window.innerHeight}function getUpperBottomObjectValue(e,t){return(e.offset().top+e.height()-t)/window.innerHeight}function getDownBottomObjectValue(e,t){return(e.offset().top+e.height()+t)/window.innerHeight}function getUpperObjectValueTop(e,t){return(e.offset().top-t)/window.innerHeight}function getDownObjectValueTop(e,t){return(e.offset().top+t)/window.innerHeight}function getUpperTop(e,t){return(e*window.innerHeight-t)/window.innerHeight}function getDownTop(e,t){return(e*window.innerHeight+t)/window.innerHeight}function getPxUpperOpcity(e,t,a,i){return e+t*a+(i=null==i?"px":i)}function getPxDownOpcity(e,t,a,i){return e-t*a+(i=null==i?"px":i)}function getNowTop(){return document.body.scrollTop}function getElementTop(){return document.documentElement.scrollTop}function getClass(e){return Object.prototype.toString.call(e).slice(8,-1)}function deepCopy(e){var t,a,i=getClass(e);if("Object"==i)t={};else{if("Array"!=i)return e;t=[]}for(a in e){var l=e[a];"Object"==getClass(l)||"Array"==getClass(l)?t[a]=deepCopy(l):t[a]=l}return t}function format(a,e){return 1===arguments.length?function(){var e=$.makeArray(arguments);return e.unshift(a),$.validator.format.apply(this,e)}:((e=2<arguments.length&&e.constructor!==Array?$.makeArray(arguments).slice(1):e).constructor!==Array&&(e=[e]),$.each(e,function(e,t){a=a.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})}),a)}function replaceFirst(e,t,a){return e.replace(t,a)}function replaceAll(str,regstr,replacestr){return str.replace(eval("/"+regstr+"/g"),replacestr)}function getRegStrs(str,regstr){for(var reg=eval("/"+regstr+"/g"),resulta=[];null!=(result=reg.exec(str));)resulta.push(result);return resulta}function isSuitReg(str,regstr){var reg=eval("/^"+regstr+"$/");return reg.test(str)}function windowUp(e,t){for(var a=e[0],i=0,l=1;l<e.length;l++)null==e[l]?++i>=t?e[l]=null:e[l]=a:(a=e[l],i=0);return e}function windowSum(e,t){if(null==e||0==e.length)return[];var a=[],i=[];i.push(e[0]),a.push(e[0]);for(var l=1;l<e.length;l++){var o=e[l];i.length<=t?a.push(a[l-1]+o):(a.push(a[l-1]+o-i[0]),i.shift()),i.push(o)}return a}function windowUpArray(e,t,a){for(var i=e[0][t],l=0,o=1;o<e.length;o++)null==e[o][t]?++l>=a?e[o][t]=null:e[o][t]=i:(i=e[o][t],l=0);return e}function windowSumArray(e,t,a){if(null==e||0==e.length)return[];var i=[],l=[];l.push(e[0][t]),i.push(e[0][t]);for(var o=1;o<e.length;o++){var n=e[o][t];l.length<=a?(i.push(i[o-1]+n),e[o][t]=i[o]):(i.push(i[o-1]+n-l[0]),e[o][t]=i[o],l.shift()),l.push(n)}return e}function autojoin_timeinfo(e,t,a){for(var i=new moment(e[0][t],a),l=new moment(e[e[0].length-1][t],a),i=i.valueOf()/1e3,o=l.valueOf()/1e3,n=0,r=e[0].length,s=i;s<o;s++)if(s<new moment(e[n+1][t],a).valueOf()/1e3){n+=1;for(var d=0;d<r;d++)d!=t?e[n].splice(d,0,null):e[n].splice(d,0,moment(1e3*s).format(a))}else n+=1;return e}function sort(e,t){return t?e.sort(function(e,t){return e-t}):e.sort(function(e,t){return t-e})}function getFormJson(e){var t,a=$("#"+e).serializeArray(),i={};for(t in a)i[a[t].name]=a[t].value;return i}function addJsonobject(e,t){var a,i={};for(a in e)i[a]=e[a];for(a in t)i[a]=t[a];return i}function formatJsonarray(array,formatstr){var result=[],isToObj=isSuitReg(formatstr,"\\s*(\\{|\\[)[\\s\\S]*");if(isToObj)for(var i in array){var This=array[i];result.push(eval("("+formatstr+")"))}else{var fstr=formatstr.split(","),i,i;for(i in fstr)result.push([]);for(i in array){var This=array[i],istr;for(istr in fstr)result[istr].push(eval("("+fstr[istr]+")"))}}return result}function postHandle(e,t,a,i,l,o){$.post(e,t,function(e){null!=e.msg&&(null!=o&&!o||alert(e.msg)),200==e.code?null!=a&&a(e):null!=i&&i(e)},"json").fail(function(e){null!=l&&l(e)})}function showLayuiInput(e,t,a){layer.prompt({title:e,success:function(e){e=$("input",e);e.prop("placeholder",t[0].placeholder),e.prop("name",t[0].name),e.prop("autocomplete","new-complete")},formType:0,btn:["确定","取消"]},function(e,t){$(".btn-refresh").trigger("click"),parent.$(".btn-refresh").trigger("click"),layer.close(t),$(".btn-refresh").trigger("click"),parent.$(".btn-refresh").trigger("click"),a(function(e){var t,a={};for(t in e)a[e[t].name]=e[t].value;return a}($(".layui-layer-content").find("input")))});for(var i=1;i<t.length;i++)$(".layui-layer-content").append("<br/><input type='text' name='{0}' autocomplete='new-complete' class='layui-layer-input' value='' placeholder='{1}' >".format(t[i].name,t[i].placeholder))}function createRunPop(e){var t=$('<div id="runpop"></div>');return t.css({position:"absolute",right:"0px",left:"auto",height:"100vh",top:"0px","border-left":"1px solid #555",width:"400px",background:"white","Box-shadow":" 0 0 2px 4px #555"}),$("#"+e).append(t),t}function showRunPop(e,t){var a,i;null!=t&&(a="popinfo"+(new Date).valueOf(),i=$("<div id='"+a+"'></div>"),e.html(i),i.html(t),new Vue({el:"#"+a})),e.slideLeft(0)}function closeRunPop(e){e.slideRight(0)}_registerOnScrollEvent=[],_registerOnScrollEventParams=[],$(window).scroll(function(a){for(var i in _registerOnScrollEvent){var l=(0==_scrolltype?getNowTop:getElementTop)(),o=l,n=window.innerHeight,l=_registerOnScrollEventParams[i].max*n-_registerOnScrollEventParams[i].min*n,n=o-_registerOnScrollEventParams[i].min*n;let e=[1,0,1];_registerOnScrollEventParams[i].type&&(e=[0,1,-1]);let t=-1;n>=-_registerOnScrollEventParams[i].inrange&&-_registerOnScrollEventParams[i].inrange<=l-n&&(t=n<l?e[0]-n/l*e[2]:e[1],1<t&&(t=1),t<0&&(t=0),_registerOnScrollEvent[i](t,o,l,n,a))}}),$(function(){$.fn.extend({preventScroll:function(a){$(this).bind("mousewheel",function(e){var t=e.originalEvent.wheelDelta&&(0<e.originalEvent.wheelDelta?1:-1)||e.originalEvent.detail&&(0<e.originalEvent.detail?-1:1);return a(e,t)})},allowScroll:function(){$(this).unbind("mousewheel")},hasEvent:function(e){var t=jQuery._data(this[0],"events");return!(!t||!t[e])},leftInParent:function(){return $(this).position().left/$(this).parent().width()*100},topInParent:function(){return $(this).position().top/$(this).parent().height()*100}})}),Date.prototype.format=function(e){var t,a={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(t in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[t]:("00"+a[t]).substr((""+a[t]).length)));return e},String.prototype.format=function(e){var t=this;if(0<arguments.length)if(1==arguments.length&&"object"==typeof e)for(var a in e)null!=e[a]&&(i=new RegExp("({"+a+"})","g"),t=t.replace(i,e[a]));else for(var i,l=0;l<arguments.length;l++)null!=arguments[l]&&(i=new RegExp("({)"+l+"(})","g"),t=t.replace(i,arguments[l]));return t},window.alert=function(e){layer.alert(e)},jQuery.fn.slideRight=function(e,t){this.animate({width:"hide",paddingLeft:"hide",paddingRight:"hide",marginLeft:"hide",marginRight:"hide"},e,t)},jQuery.fn.slideLeft=function(e,t){this.animate({width:"show",paddingLeft:"show",paddingRight:"show",marginLeft:"show",marginRight:"show"},e,t)};var addmodal=0;function setModal(e){return addmodal++,document.write('\t\t<div class="modal fade" id="myModal'+addmodal+'" tabindex="-1" role="dialog"\t\t\taria-labelledby="myModalLabel" aria-hidden="true">\t\t\t<div class="modal-dialog">\t\t\t\t<div class="modal-content">\t\t\t\t\t<div class="modal-header">\t\t\t\t\t\t<button type="button" class="close" data-dismiss="modal"\t\t\t\t\t\t\taria-hidden="true">&times;</button>\t\t\t\t\t\t<h4 class="modal-title" id="myModalLabel'+addmodal+'">'+e+'</h4>\t\t\t\t\t</div>\t\t\t\t\t<div class="modal-body" >\t\t\t\t\t\t<div style="padding: 10px 100px 10px;">\t\t\t\t\t\t    <form class="bs-example bs-example-form" role="form" id="formModal'+addmodal+'">\t\t\t\t\t\t    </form>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="modal-footer">\t\t\t\t\t\t<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>\t\t\t\t\t\t<button type="button" class="btn btn-primary" id="myModalButton'+addmodal+'">确定</button>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t</div>'),addmodal}function addModal(e,t){return addmodal++,$("#"+e).append('\t\t<div class="modal fade" id="myModal'+addmodal+'" tabindex="-1" role="dialog"\t\t\taria-labelledby="myModalLabel" aria-hidden="true">\t\t\t<div class="modal-dialog">\t\t\t\t<div class="modal-content">\t\t\t\t\t<div class="modal-header">\t\t\t\t\t\t<button type="button" class="close" data-dismiss="modal"\t\t\t\t\t\t\taria-hidden="true">&times;</button>\t\t\t\t\t\t<h4 class="modal-title" id="myModalLabel'+addmodal+'">'+t+'</h4>\t\t\t\t\t</div>\t\t\t\t\t<div class="modal-body" >\t\t\t\t\t\t<div style="padding: 10px 100px 10px;">\t\t\t\t\t\t    <form class="bs-example bs-example-form" role="form" id="formModal'+addmodal+'">\t\t\t\t\t\t    </form>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="modal-footer">\t\t\t\t\t\t<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>\t\t\t\t\t\t<button type="button" class="btn btn-primary" id="myModalButton'+addmodal+'">确定</button>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t</div>'),addmodal}function showModal(e){$("#myModal"+e).modal("show")}function hideModal(e){$("#myModal"+e).modal("hide")}function setModalCallback(e,t){$("#myModalButton"+e).click(function(){hideModal(e),t()})}function getModalInfo(e){return $("#formModal"+e).serialize()}function addModalInput(e,t){$("#formModal"+e).append(t)}function getModalFormId(e){return"formModal"+e}function getModalId(e){return"myModal"+e}var addform=0;function addForm(e,t){return addform++,$("#"+e).append('<form class="bs-example bs-example-form" role="form" id="formSet'+addform+'" style="'+t+'"></form>'),addform}function addFormInput(e,t){$("#formSet"+e).append(t)}function addFormDiv(e,t){return $("#formSet"+e).append('<div id="'+t+'"></div>'),t}function getFormId(e){return"formSet"+e}function getFormInfo(e){return $("#formSet"+e).serialize()}var addlayout=0,addlayoutmaxsub={},addlayoutmaxsize={};function addLayout(e,t,a){addlayout++,$("#"+e).append('<div class="row clearfix" id="bootlayout'+addlayout+'"   '+(null==a?"":'style="'+a+'"')+"></div>");var i,l=t.split(" ");for(i in l)$("#bootlayout"+addlayout).append('<div class="col-md-'+l[i]+' column" id="bootlayout'+addlayout+"-sub"+i+'"></div>'),addlayoutmaxsub[addlayout]=i,null==addlayoutmaxsize[addlayout]&&(addlayoutmaxsize[addlayout]=0),addlayoutmaxsize[addlayout]=parseInt(l[i])+addlayoutmaxsize[addlayout];return addlayout}function addLayoutSub(e,t){return addlayoutmaxsub[e]=parseInt(addlayoutmaxsub[e])+1,addlayoutmaxsize[e]=parseInt(t)+addlayoutmaxsize[e],$("#bootlayout"+e).append('<div class="col-md-'+t+' column" id="bootlayout'+e+"-sub"+addlayoutmaxsub[e]+'"></div>'),e}function getLayoutSize(e){return parseInt(addlayoutmaxsub[e])+1}function getLayoutLength(e){return addlayoutmaxsize[e]}function addLayoutInfo(e,t,a){$("#bootlayout"+e+"-sub"+t).append(a)}function getLayoutId(e,t){return"bootlayout"+e+"-sub"+t}var tabcontent=0;function setTabContent(e){return tabcontent++,document.write('<div id="myTabContent'+tabcontent+'" class="tab-content"></div>'),tabcontent}function getTabContentId(e){return"myTabContent"+e}var subtabcontent={};function addTabContentInfo(e,t){return null==subtabcontent[e]&&(subtabcontent[e]=0),subtabcontent[e]=subtabcontent[e]+1,1==subtabcontent[e]?$("#myTabContent"+e).append('<div class="tab-pane fade in active" id="subtabcontent_'+e+"_"+subtabcontent[e]+'">'+t+"</div>"):$("#myTabContent"+e).append('<div class="tab-pane fade" id="subtabcontent_'+e+"_"+subtabcontent[e]+'">'+t+"</div>"),"_"+e+"_"+subtabcontent[e]}function getSubTabContentId(e){return"subtabcontent"+e}function addSubTabContentInfo(e,t){$("#subtabcontent"+e).append(t)}var addtab=0;function addTab(e,t){addtab++;e=$("#"+e);return e.append('<ul id="myTab'+addtab+'" class="nav nav-tabs" style="'+t+'">'),e.append("</ul>"),addtab}function addPill(e,t){addtab++;e=$("#"+e);return e.append('<ul id="myTab'+addtab+'" class="nav nav-pills" style="'+t+'">'),e.append("</ul>"),addtab}function addTabLabel(e,t,a,i){0==i?$("#myTab"+e).append('<li class="active"><a href="#'+a+'" data-toggle="tab">'+t+"</a></li>"):1==i&&$("#myTab"+e).append('<li><a href="#'+a+'" data-toggle="tab">'+t+"</a></li>")}function addPillLabel(e,t,a,i){0==i?$("#myTab"+e).append('<li class="active"><a href="#'+a+'" data-toggle="pill">'+t+"</a></li>"):1==i&&$("#myTab"+e).append('<li><a href="#'+a+'" data-toggle="pill">'+t+"</a></li>")}function openTab(e,t){$("#myTab"+e+" li:eq("+t+") a").tab("show")}function openPill(e,t){$("#myTab"+e+" li:eq("+t+") a").tab("show")}function getTabId(e){return"myTab"+e}function getPillId(e){return"myTab"+e}function getInput(e,t,a,i,l,o,n){return'<div class="input-group"  '+(null==l?"":'style="'+l+'"')+'  > <span class="input-group-addon" style="min-width:100px;">'+t+'</span><input type="text" class="form-control" placeholder="'+a+'"  name="'+e+'" '+(null==i?"":'value="'+i+'"')+"  "+(null==o?"":o)+"  "+(null==n?"":n)+"  ></div><br>"}function getInputM(e,t,a){return'<div class="input-group"  '+(null==a?"":'style="'+a+'"')+'  > <span class="input-group-addon" style="min-width:100px;">'+e+"</span>"+t+"</div><br>"}var addbutton=0,_layoutvue;function addBootButton(e,t,a){return addbutton++,$("#"+e).append('<button id="bbtn'+addbutton+'" type="button" class="btn btn-primary" '+(null==a?"":'style="'+a+'"')+" >"+t+"</button>"),addbutton}function setBootButtonCallback(e,t){$("#bbtn"+e).click(function(){t()})}function getBootButtonId(e){return"bbtn"+e}function getButton(e,t,a,i,l){return null==l&&(l=""),null==a||0==a?'<button id="'+e+'" '+l+' type="button" class="btn btn-default" '+(null==i?"":'style="'+i+'"')+" >"+t+"</button>":1==a?'<button id="'+e+'" '+l+' type="button" class="btn btn-primary" '+(null==i?"":'style="'+i+'"')+" >"+t+"</button>":2==a?'<button id="'+e+'" '+l+' type="button" class="btn btn-success" '+(null==i?"":'style="'+i+'"')+" >"+t+"</button>":3==a?'<button id="'+e+'" '+l+' type="button" class="btn btn-info" '+(null==i?"":'style="'+i+'"')+" >"+t+"</button>":4==a?'<button id="'+e+'" '+l+' type="button" class="btn btn-warning" '+(null==i?"":'style="'+i+'"')+" >"+t+"</button>":5==a?'<button id="'+e+'" '+l+' type="button" class="btn btn-danger" '+(null==i?"":'style="'+i+'"')+" >"+t+"</button>":6==a?'<button id="'+e+'" '+l+' type="button" class="btn btn-link" '+(null==i?"":'style="'+i+'"')+" >"+t+"</button>":void 0}var _elepop={},popvue;function loadOA(e){_layoutvue=e,$("#"+e.$el.id+" .oa-element").each(function(){$(this).click(function(){_oaconfigable&&($(".oa-select").removeClass("oa-select"),$(this).addClass("oa-select"),window.event.stopPropagation())})}),createOAPop(e.$el.id)}function oa_click(e,t){t=null==t?"":"#"+t,_elepop[$(t+" .oa-element").attr("id")]=e,$(t+" .oa-element").click(function(){_oaconfigable&&(e($(this)),"undefined"!=typeof clickedCtrlEvent&&clickedCtrlEvent($(this).attr("id")))})}function showOAElePop(e){var t;_oaconfigable&&null!=e&&0!=e.length&&($(".oa-select").removeClass("oa-select"),e.addClass("oa-select"),t=e.attr("id"),_elepop[t](e),"undefined"!=typeof clickedCtrlEvent&&clickedCtrlEvent(t))}var _popvuelist={},_popele,_popid,_oamodalAdd,_oaaddpid;function register_popid(e){_popid=e}function createOAPop(id){var runpop;return null==_popele&&(runpop=$('<div id="runpop"></div>'),runpop.css({left:"auto","min-height":"100vh",top:"0px",right:"0px","border-left":"1px solid #999",width:"400px",background:"white","Box-shadow":" 0 0 7px 8px #aaa"}),(null==_popid?$("#"+id):$("#"+_popid)).append(runpop),_popele=runpop),oa_click(function(el){var eleinfoid="ele"+(new Date).valueOf(),eleinfo=$('<viv id="'+eleinfoid+'"></viv>'),elinfo=getOAEleInfo(el,_eleinfos),k,eletemp,i;for(k in eleinfo.append("<block length='30px'></block>"),eleinfo.append("<hiv><pow></pow><div class='line' style='width:96%'></div> <pow></pow></hiv>"),eleinfo.append("<block length='10px'></block>"),eleinfo.append("<hiv><pow></pow><div style='width:96%'><span class='oa-title'>操作</span></div> <pow></pow></hiv>"),eleinfo.append("<block length='20px'></block>"),eleinfo.append("<hiv><pow></pow><hiv style='max-width:90%'><pow></pow><input type='button' @click='copylayout()' value='复制布局'><input type='button' @click='loadlayout()' value='加载内布局'><input type='button' @click='loadleftlayout()' value='前'><input type='button' @click='loadrightlayout()' value='后'><input type='button' @click='loadchangelayout()' value='换'><input type='button' @click='del()' value='删除'><input type='button' @click='restore()' value='还原'><input type='button' @click='refreshlayout()' value='刷新'></hiv><pow></pow><hiv>"),eleinfo.append("<block length='30px'></block>"),_oatitle){for(i in eleinfo.append("<block length='20px'></block>"),eleinfo.append("<hiv><pow></pow><div class='line' style='width:96%'></div> <pow></pow></hiv>"),eleinfo.append("<block length='10px'></block>"),eleinfo.append("<hiv><pow></pow><div style='width:96%'><span class='oa-title'>"+_oatitle[k]+"</span></div> <pow></pow></hiv>"),_haveoatype)if(_haveoatype[i].type==_oatitle[k]&&!judgeOAIgnore(el,_haveoatype,i)){var name=_haveoatype[i].name,type=_haveoatype[i].type,title=_haveoatype[i].title,ignore=_haveoatype[i].ignore,append=_haveoatype[i].append,only=_haveoatype[i].only,make=_haveoatype[i].make,makeeval=_haveoatype[i].makeeval,geteval=_haveoatype[i].geteval,seteval=_haveoatype[i].seteval,formatmk,addchange,This;if(-1==_oabasetitle.indexOf(_haveoatype[i].title)){if(null!=_oacomponent[elinfo.type]&&null!=_oacomponent[elinfo.type].onlytitle&&-1==_oacomponent[elinfo.type].onlytitle.indexOf(_haveoatype[i].title))continue;if(null!=_oacomponent[elinfo.type]&&null!=_oacomponent[elinfo.type].ignoretitle&&-1!=_oacomponent[elinfo.type].ignoretitle.indexOf(_haveoatype[i].title))continue}judgeOAOnly(el,_haveoatype,i)&&(null!=_haveoatype[i].exist&&!eval(_haveoatype[i].exist)||(eleinfo.append("<block length='30px'></block>"),eletemp=$("<hiv></hiv>"),eletemp.append("<pow></pow>"),eletemp.append("<span class='oa-label'>"+_haveoatype[i].title+":</span>"),eletemp.append("<block length='20px'></block>"),formatmk="input",null==make&&(make=formatmk),addchange="@input='change($event,\""+_haveoatype[i].name+"\")' ",_haveoatype[i].notaddchange&&(addchange=""),This=$(("<{0} name='"+_haveoatype[i].name+"' type='text' class='oa-lm-input' autocomplete='new-complete'  v-model='"+_haveoatype[i].name+"' "+addchange+_haveoatype[i].append+"></{1}>").format(make,make)),eletemp.append(This),null!=makeeval&&eval(makeeval),eletemp.append("<pow></pow>"),eleinfo.append(eletemp)))}}eleinfo.append("<block length='30px'></block>"),showOAPop(eleinfo,el)},id),_popele.slideRight(0),runpop}function isJSON(t){if("string"==typeof t)try{var e=JSON.parse(t);return!("object"!=typeof e||!e)}catch(e){return console.log("error："+t+"!!!"+e),!1}console.log("It is not a string!")}function judgeOAOnly(e,t,a){if(null!=t[a].only){for(var i in _haveclass=!1,t[a].only)if(e.hasClass(t[a].only[i].substring(1,t[a].only[i].length))){_haveclass=!0;break}if(-1==t[a].only.indexOf("#"+e.attr("id"))&&-1==t[a].only.indexOf(e.prop("nodeName").toLowerCase())&&!_haveclass&&0<t[a].only.length)return!1}return!0}function judgeOAIgnore(e,t,a){if(-1!=t[a].ignore.indexOf("#"+e.attr("id"))||-1!=t[a].ignore.indexOf(e.prop("nodeName").toLowerCase()))return!0;var i,l=!1;for(i in t[a].ignore)if(e.hasClass(t[a].ignore[i].substring(1,t[a].ignore[i].length))){l=!0;break}return!!l}function showOAPop(html,el){if(null!=html){var timestamp="popinfo"+(new Date).valueOf(),popinfo=$("<div id='"+timestamp+"'></div>");_popele.html(popinfo),popinfo.html(html),_popid_eleid[timestamp]=el.attr("id"),_popid_eleid["#"+timestamp]=el.attr("id");var method_temp={change:function(ev,name){try{var value=ev.target.value,i;for(i in _haveoatype)if(!judgeOAIgnore(el,_haveoatype,i)&&judgeOAOnly(el,_haveoatype,i)&&_haveoatype[i].name==name){var type=_haveoatype[i].type;eval(_haveoatype[i].seteval);var staticid=_oastaticdata.indexOf(name);if(setOAEleOne(el,_eleinfos,_haveoatype[i].type,_haveoatype[i].name,value),setOAEleOne(el,_elemidinfos,_haveoatype[i].type,_haveoatype[i].name,value),null!=_haveoatype[i].update)for(var w=0;w<_haveoatype[i].update.length;w++){var ink=-1,k;for(k in _haveoatype)if(_haveoatype[k].name==_haveoatype[i].update[w]){ink=k;break}-1!=ink&&setOAEleOne(el,_eleinfos,_haveoatype[ink].type,_haveoatype[ink].name,eval(_haveoatype[ink].geteval)),setOAEleOne(el,_elemidinfos,_haveoatype[ink].type,_haveoatype[ink].name,eval(_haveoatype[ink].geteval))}break}this[name]=ev.target.value}catch(e){console.error(e)}},restore:function(){confirm("是否还原元素{0}，注意：该元素下的所有子元素将会被还原至未修改状态".format(el.attr("id")))&&(recordOAHandle(),restoreOACompenent(el,!0)),alert("还原元素")},del:function(){confirm("是否删除元素{0}，注意：该元素下的所有子元素将会被删除".format(el.attr("id")))&&(recordOAHandle(),console.log("删除前a:"+JSON.stringify(_eleinfos)),deleteReplay(el,_eleinfos),console.log("删除ha:"+JSON.stringify(_eleinfos)),console.log("删除前b:"+JSON.stringify(_elemidinfos)),deleteReplay(el,_elemidinfos),console.log("删除hb:"+JSON.stringify(_elemidinfos)),el.parent().remove(),_popele.slideRight(0),alert("删除元素"))},copylayout:function(){copyText(JSON.stringify(getLayoutReplayInfo(el,_elemidinfos))),alert("复制元素布局至粘贴板")},loadlayout:function(e){data=prompt("请粘贴元素内布局JSON数据"),null!=data||isJSON(data)?(recordOAHandle(),addOALayoutInEle($("#"+el.attr("id")),JSON.parse(data)),alert("载入元素布局")):null!=data&&alert("布局信息错误已取消载入")},loadleftlayout:function(e){data=prompt("请粘贴元素前布局JSON数据"),null!=data||isJSON(data)?(recordOAHandle(),addOALayoutByEle($("#"+el.attr("id")),JSON.parse(data),1),alert("载入元素布局")):null!=data&&alert("布局信息错误已取消载入")},loadrightlayout:function(e){data=prompt("请粘贴元素后布局JSON数据"),null!=data||isJSON(data)?(recordOAHandle(),addOALayoutByEle($("#"+el.attr("id")),JSON.parse(data),3),alert("载入元素布局")):null!=data&&alert("布局信息错误已取消载入")},loadchangelayout(){data=prompt("请粘贴元素欲更换此元素布局的JSON数据"),null!=data||isJSON(data)?(recordOAHandle(),addOALayoutByEle($("#"+el.attr("id")),JSON.parse(data),3),deleteReplay(el,_eleinfos),deleteReplay(el,_elemidinfos),el.parent().remove(),alert("更换元素布局")):null!=data&&alert("布局信息错误已取消载入")},refreshlayout(){refreshOAEle(el)}},addMethod={},i;for(i in _haveoatype)judgeOAIgnore(el,_haveoatype,i)||judgeOAOnly(el,_haveoatype,i)&&_haveoatype[i].extendmethod&&Object.assign(addMethod,_haveoatype[i].extendmethod);Object.assign(method_temp,addMethod),popvue=new Vue({el:"#"+timestamp,data:function(){var datatemp={},eleind=getOAEleIndex(el,_eleinfos),name,type;if(-1==eleind)for(var i in _haveoatype){function delaySet(el,_haveoatype,i,delay){setTimeout(function(){setOAEleOne(el,_eleinfos,_haveoatype[i].type,_haveoatype[i].name,eval(_haveoatype[i].geteval))},delay)}judgeOAIgnore(el,_haveoatype,i)||judgeOAOnly(el,_haveoatype,i)&&(name=_haveoatype[i].name,type=_haveoatype[i].type,datatemp[name]=eval(_haveoatype[i].geteval),null==_haveoatype[i].delay?setOAEleOne(el,_eleinfos,_haveoatype[i].type,_haveoatype[i].name,eval(_haveoatype[i].geteval)):delaySet(el,_haveoatype,i,_haveoatype[i].delay))}else{var eleinfo=_eleinfos[eleind],i,i,name,type;for(i in _oatitle)for(var j in eleinfo[_oatitle[i]]){var staticid=_oastaticdata.indexOf(j);if(-1!=staticid)datatemp[j]=eleinfo[_oatitle[i]][j];else{var wid=-1,w;for(w in _haveoatype)if(-1==_oastaticdata.indexOf(_haveoatype[w].name)&&_haveoatype[w].name==j){var wid=w,name=j;datatemp[j]=eval(_haveoatype[wid].geteval);break}}}for(i in _haveoatype){judgeOAIgnore(el,_haveoatype,i)||judgeOAOnly(el,_haveoatype,i)&&(name=_haveoatype[i].name,type=_haveoatype[i].type,null==datatemp[name]&&(datatemp[name]=eval(_haveoatype[i].geteval),setOAEleOne(el,_eleinfos,_haveoatype[i].type,_haveoatype[i].name,eval(_haveoatype[i].geteval))))}}return datatemp},mounted:function(){},methods:method_temp})}_popvuelist[popvue.$data.id]=popvue,$("#runpop").unbind("click"),$("#runpop").click(function(){window.event.stopPropagation()}),_popele.slideLeft(0)}function closeOAPop(){_popele.slideRight(0)}function makeOAModal(t){_oaaddpid=t;var a=setModal("添加布局");return addModalInput(a,getInputM("添加布局",getSelect("layout",["横向布局","纵向布局","浮动布局"],["横向布局","纵向布局","浮动布局"]))),_oamodalAdd=$("#"+t).clone(!0),setModalCallback(a,function(){var e=getFormJson(getModalFormId(a)),e=addOALayout($("#"+t),e.layout,0);$("#"+e).css("height",""),$("#"+e).css("marginTop","var(--line-distance)"),$("#"+e).addClass("oa-layout")}),a}function loadLayout(t){$(function(){var e;null==t?((e=document.body).innerHTML="<div id='_thlayout_MXFTWCG'>"+e.innerHTML+"</div>",new Vue({el:"#_thlayout_MXFTWCG"})):new Vue({el:"#"+t})})}function loadLayoutClass(e){$(function(){new Vue({el:"."+e})})}function loadCheckValid(callback,vari,checktime){if("undefined"==eval("typeof "+vari))return null==checktime&&(checktime=100),void setTimeout(function(){loadCheckValid(callback,vari,checktime)},checktime);callback()}function registerOACss(e){_registeroacssloadtype.append(e)}function loadOAPreview_init(t,a){_oaconfigable=!1,$(function(){_confirmeleinfos=a;var e=new Vue({el:"#"+t});register_popid("popid"),loadOA(e),loadOAPointer(t,a),_confirmpointer[t]=a})}function loadOAPreview(t){_oaconfigable=!1,$(function(){null!=getUrlParam(_oaid)?postoaregister("getoapageinfo",{0:getUrlParam(_oaid)},0,function(e){0!=e.data.length?(talias=e.data[0].alias,tname=e.data[0].table,tid=e.data[0].tid,document.title=talias,_oajs=JSON.parse(e.data[0].jsload),_oasubmit=JSON.parse(e.data[0].condition),loadOAPreview_init(t,JSON.parse(e.data[0].config)),setTimeout(()=>{loadEditor()},600)):(alert("未找到指定页面配置，请保存后再预览"),window.close())},function(e){alert("加载错误，可能是在线服务器未启动或者未连接网络")}):(alert("请指定页面id"),window.close())})}jQuery.fn.slideRight=function(e,t,a){this.animate({width:a=a?"show":"hide",paddingLeft:a,paddingRight:a,marginLeft:a,marginRight:a},e,t)},jQuery.fn.slideLeft=function(e,t,a){this.animate({width:a=a||void 0===a?"show":"hide",paddingLeft:a,paddingRight:a,marginLeft:a,marginRight:a},e,t)},jQuery.fn.slideTop=function(e,t,a){this.animate({height:a=a?"show":"hide",paddingTop:a,paddingBottom:a,marginTop:a,marginBottom:a},e,t)},jQuery.fn.slideBottom=function(e,t,a){this.animate({height:a=a||void 0===a?"show":"hide",paddingTop:a,paddingBottom:a,marginTop:a,marginBottom:a},e,t)},$(document).click(function(){closeOAPop(),$(".oa-select").removeClass("oa-select")}),$(function(){Vue.component("hiv",{template:"<div :style='{display: display,\"flex-direction\": direction}' class='_hiv'><slot></slot></div>",props:{},data:function(){return{display:"flex",direction:"row"}}}),Vue.component("viv",{template:"<div :style='{display: display,\"flex-direction\": direction}' class='_viv'><slot></slot></div>",props:{},data:function(){return{display:"flex",direction:"column"}}}),Vue.component("rhiv",{template:"<div :style='{display: display,\"flex-direction\": direction}' class='_rhiv'><slot></slot></div>",props:{},data:function(){return{display:"flex",direction:"row-reverse"}}}),Vue.component("rviv",{template:"<div :style='{display: display,\"flex-direction\": direction}'  class='_rviv'><slot></slot></div>",props:{},data:function(){return{display:"flex",direction:"column-reverse"}}}),Vue.component("wiv",{template:'<div :style=\'{display: display,"flex-direction":direction,"flex-wrap":wrap,"justify-content":mode,"align-content":vmode}\' class=\'_wiv\'><slot></slot></div>',props:{mode:{type:String,default:"space-between"},vmode:{type:String,default:"space-between"},direction:{type:String,default:"row"}},data:function(){return{display:"flex",wrap:"wrap"}}}),Vue.component("rwiv",{template:'<div :style=\'{display: display,"flex-direction":direction,"flex-wrap":wrap,"justify-content":mode,"align-content":vmode}\' class=\'_wiv\'><slot></slot></div>',props:{mode:{type:String,default:"space-between"},vmode:{type:String,default:"space-between"},direction:{type:String,default:"row"}},data:function(){return{display:"flex",wrap:"wrap-reverse"}}}),Vue.component("pow",{template:"<div ref='pow' class='_pow' :style=\"{width:this.width,height:this.height,'flex':this.flex}\"><slot></slot></div>",props:{length:{type:String,default:"100%"},flex:{type:String,default:"1.0"}},data:function(){return{height:"100%",width:"100%",run:!1}},created:function(){1==parseInt(Vue.version[0])&&(this.$data.run||(this.$data.run=!0,-1!=this.$parent.$el.className.indexOf("_viv")?(this.$data.width="0%",this.$data.height=this.length):-1!=this.$parent.$el.className.indexOf("_hiv")&&(this.$data.height="0%",this.$data.width=this.length)))},mounted:function(){1<parseInt(Vue.version[0])&&(this.$data.run||(this.$data.run=!0,-1!=this.$parent.$el.className.indexOf("_viv")?(this.$data.width="0%",this.$data.height=this.length):-1!=this.$parent.$el.className.indexOf("_hiv")&&(this.$data.height="0%",this.$data.width=this.length)))}}),Vue.component("block",{template:"<div ref='block' class='_block' :style='{width:width,height:height,\"flex-shrink\":this[\"flex-shrink\"]}'><slot></slot></div>",props:{length:{type:String,default:"100%"}},data:function(){return{height:"100%",width:"100%","flex-shrink":0,run:!1}},created:function(){1==parseInt(Vue.version[0])&&(this.$data.run||(this.$data.run=!0,-1!=this.$parent.$el.className.indexOf("_viv")||-1!=this.$parent.$el.className.indexOf("_rviv")?(this.$data.width="0%",this.$data.height=this.length):-1==this.$parent.$el.className.indexOf("_hiv")&&-1==this.$parent.$el.className.indexOf("_rhiv")&&-1==this.$parent.$el.className.indexOf("_wiv")&&-1==this.$parent.$el.className.indexOf("_rwiv")||(this.$data.height="0%",this.$data.width=this.length)))},mounted:function(){1<parseInt(Vue.version[0])&&(this.$data.run||(this.$data.run=!0,-1!=this.$parent.$el.className.indexOf("_viv")||-1!=this.$parent.$el.className.indexOf("_rviv")?(this.$data.width="0%",this.$data.height=this.length):-1==this.$parent.$el.className.indexOf("_hiv")&&-1==this.$parent.$el.className.indexOf("_rhiv")&&-1==this.$parent.$el.className.indexOf("_rwiv")&&-1==this.$parent.$el.className.indexOf("_wiv")||(this.$data.height="0%",this.$data.width=this.length)))}})}),$(function(){_oacomponent["按钮"]={el:$("<button  class='_oabtn'></button>"),notin:["._pow","._oa-form"]},_haveoatype.push({name:"onclick",title:"点击事件",ignore:[],only:["._oabtn"],type:"属性",geteval:"el.attr(name)",seteval:"el.attr(name,value)"}),registerOAJs("按钮","button")}),$(function(){_haveoatype.push({name:"justifyc",title:"流间隙",ignore:[],only:["._wiv","._hiv","._viv","._oa-form"],type:"样式",geteval:"el.css('justify-content')",seteval:"el.css('justify-content',value);setOAInfo(el,'整体样式',el.attr('style'));",make:"select",makeeval:`
        This.append('<option value="flex-start">起始布局</option>');
        This.append('<option value="flex-end">临终布局</option>');
        This.append('<option value="center">中间布局</option>');
        This.append('<option value="space-evenly">平均</option>');
        This.append('<option value="space-between">临界平均</option>');
        This.append('<option value="space-around">间隙临界平均</option>')`}),_haveoatype.push({name:"align",title:"换行上下间隙",ignore:[],only:["._wiv","._hiv","._viv","._oa-form"],type:"样式",geteval:"el.css('align-content')",seteval:"el.css('align-content',value);setOAInfo(el,'整体样式',el.attr('style'));",make:"select",makeeval:`
        This.append('<option value="flex-start">起始布局</option>');
        This.append('<option value="flex-end">临终布局</option>');
        This.append('<option value="center">中间布局</option>');
        This.append('<option value="space-evenly">上下平均</option>');
        This.append('<option value="space-between">上下临界平均</option>');
        This.append('<option value="space-around">上下间隙临界平均</option>')`,exist:`
            el.css("flex-wrap")!='nowrap'
        `}),_haveoatype.push({name:"alignit",title:"垂直流间隙",ignore:[],only:["._hiv","._viv"],type:"样式",geteval:"el.css('align-items')",seteval:"el.css('align-items',value);setOAInfo(el,'整体样式',el.attr('style'));",make:"select",makeeval:`
        This.append('<option value="flex-start">起始布局</option>');
        This.append('<option value="flex-end">临终布局</option>');
        This.append('<option value="center">中间布局</option>');
        This.append('<option value="space-evenly">平均</option>');
        This.append('<option value="space-between">临界平均</option>');
        This.append('<option value="space-around">间隙临界平均</option>')
    `})}),_oasubmit={},$(function(){_oacomponent["纯表单"]={el:$("<form method='post' action='#' onsubmit='return false;' style='padding:5px;' class='_oa-form'></form>"),notin:["._pow","._oabtn"],cnotin:!0,cnotafter:!0,cnotbefore:!0,onlytitle:["提交方式","提交地址","整体样式","提交前js","提交成功后js","提交失败后js","提交错误后js","流间隙","换行上下间隙"],post:"$('#'+tempid).validate({\n    foucsInVaild:true,    submitHandler:function(form){\n       var cform = $(form);\n   // 1.基本参数设置\nvar options = {\n    type: cform.attr(\"method\"),     // 设置表单提交方式\n    url: cform.attr(\"action\")!='#'?cform.attr(\"action\"):oa_tablesubmit,    // 设置表单提交URL,默认为表单Form上action的路径\n    dataType: 'json',    // 返回数据类型\n    beforeSubmit: function(formData, jqForm, option){    // 表单提交之前的回调函数，一般用户表单验证\n        // formData: 数组对象,提交表单时,Form插件会以Ajax方式自动提交这些数据,格式Json数组,形如[{name:userName, value:admin},{name:passWord, value:123}]\n        // jqForm: jQuery对象,，封装了表单的元素\n        // options: options对象\n       var _cfthrough=_changeFormData(formData,cform);       if(_cfthrough!=null&&!_cfthrough)return _cfthrough;        var str = $.param(formData);    // name=admin&passWord=123\n        var dom = jqForm[0];    // 将jqForm转换为DOM对象\n        var name = dom.name.value;    // 访问jqForm的DOM元素\n        /* 表单提交前的操作 */\n        return true;  // 只要不返回false,表单都会提交\n    },\n    success: function(responseText, statusText, xhr, $form){    // 成功后的回调函数(返回数据由responseText获得)\n        var This=$('#'+tempid);       var data=responseText.data;        if (responseText.code == 200) {\n            //alert(\"操作成功!\" + responseText.msg);\n            /* 成功后的操作 */\n            _loadeditinfo=getFormJson(tempid);\n            if(_oasubmit.presuccess!=null)\n                eval(_oasubmit.presuccess)\n            if(responseText.data!=null){\n                sbdata=responseText.data;\n                if(sbdata.condition){\n                    if(_oasubmit.postjs!=null)\n                        eval(_oasubmit.postjs);\n                }\n                else{\n                    if(_oasubmit.conditionjs!=null)\n                        eval(_oasubmit.conditionjs);\n                }\n            }\n\n         eval(getOAInfo(This,'提交成功后js'));        } else {\n            // alert(\"操作失败!\" + responseText.msg);    // 成功访问地址，并成功返回数据，由于不符合业务逻辑的失败\n            if(_oasubmit.prefail!=null)\n                eval(_oasubmit.prefail)\n\n             eval(getOAInfo(This,'提交失败后js'));        }\n        hideload();    },\n    error: function(xhr, status, err) {\n        //alert(\"操作失败!\");    // 访问地址失败，或发生异常没有正常返回\n            if(_oasubmit.preerror!=null)\n                eval(_oasubmit.preerror)\n              hideload();              var This=$('#'+tempid);eval(getOAInfo(This,'提交错误后js'));    },\n    clearForm: false,    // 成功提交后，清除表单填写内容\n    resetForm: (getUrlParam(_itemid)==null?true:false)    // 成功提交后，重置表单填写内容\n};       showload();       cform.ajaxSubmit(options);    },\n    errorPlacement:function(error,el){\n       var pel=el; while(pel.next().length>0)pel=pel.next();       var spinit=$('<span style=\\'position:absolute;right:60px;color:red;top:20px;\\'></span>');       spinit.append(error);       pel.after(spinit);\n    }\n});"},_haveoatype.push({name:"method",title:"提交方式",ignore:[],only:["._oa-form"],type:"属性",geteval:"el.attr(name)",seteval:"el.attr(name,value)",make:"select",makeeval:"This.append('<option value=\"post\">post</option>');This.append('<option value=\"get\">get</option>');"}),_haveoatype.push({name:"postfjs",title:"加载后js",ignore:[],only:["._oa-form"],type:"属性",geteval:"getOAInfo(el,'加载后js')||''",seteval:"",make:"textarea",append:"style='resize:none;height:150px'"}),_haveoatype.push({name:"presubfjs",title:"提交前js",ignore:[],only:["._oa-form"],type:"属性",geteval:"getOAInfo(el,'提交前js')||''",seteval:"",make:"textarea",append:"style='resize:none;height:150px'"}),_haveoatype.push({name:"postsubfjs",title:"提交成功后js",ignore:[],only:["._oa-form"],type:"属性",geteval:"getOAInfo(el,'提交成功后js')||''",seteval:"",make:"textarea",append:"style='resize:none;height:150px'"}),_haveoatype.push({name:"failsubfjs",title:"提交失败后js",ignore:[],only:["._oa-form"],type:"属性",geteval:"getOAInfo(el,'提交失败后js')||''",seteval:"",make:"textarea",append:"style='resize:none;height:150px'"}),_haveoatype.push({name:"errorsubfjs",title:"提交错误后js",ignore:[],only:["._oa-form"],type:"属性",geteval:"getOAInfo(el,'提交错误后js')||''",seteval:"",make:"textarea",append:"style='resize:none;height:150px'"}),_oacomponent["提交表单按钮组"]={el:$("<div class='_oa-sbform'><hiv><pow></pow><button style='height:40px;width:100px;background: #f1f1f1;border-radius: 5px;border-width:0;font-size: 14px;font-weight: 800;text-align: center;color: rgba(153,153,153,1);line-height: 20px;' onclick='resetFormValue();return false;' form='#'>重置</button><div style='width:20px'></div><button style='height:40px;width:100px;background: #1488e0;border-radius: 5px;border-width:0;font-size: 14px;font-weight: 800;text-align: center;color: #ffffff;line-height: 20px;' form='#'>提交</button><pow></pow></hiv></div>"),notin:["._pow","._oabtn"],ignoretitle:["文本内容"],cnotafter:!0,cnotin:!0,cnotbefore:!0},_haveoatype.push({name:"form",title:"目标表单id",ignore:[],only:["._oa-sbform"],type:"属性",make:"select",makeeval:"                            $('form').each(function(){                            if($(this).hasClass('_oa-form'))                                This.append('<option value=\"'+$(this).attr('id')+'\">'+$(this).attr('id')+'</option>');                            })",geteval:"el.children().eq(0).children().eq(3).attr(name)",seteval:"el.children().eq(0).children().eq(1).attr('onclick','document.getElementById(\"'+value+'\").reset();resetFormValue();return false;');el.children().eq(0).children().eq(3).attr(name,value)"}),_oacomponent["表单组"]={define:[{parent:"ele_1636944574137",id:"outter_1636944579108046581152848226104",eleid:"ele_163694457910706293997607369812",type:"纵向布局","属性":{addlayout:"纯表单",id:"ele_163694457910706293997607369812",component:"纵向布局",addblayout:"横向布局",addalayout:"横向布局",val:"",fname:"全部",editset:"write",bginputsrc:"",dateinputtype:"",psrc:"",suitwivwidth:"0",contentinfo:"{}"},"样式":{width:1891,height:132,bclass:"_viv oa-element oa-select",style:"display: flex; flex-direction: column; padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:"",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_1636944574137"},{parent:"ele_163694457910706293997607369812",id:"outter_163694457910808801719950271032",eleid:"ele_163694457910707342664812498216",type:"纯表单","属性":{addlayout:"输入框",id:"ele_163694457910707342664812498216",component:"纯表单",addblayout:"横向布局",addalayout:"横向布局",val:"",method:"post",fname:"全部",tpaction:"pointer",editset:"write",bginputsrc:"",dateinputtype:"",psrc:"",suitwivwidth:"0",contentinfo:"{}"},"样式":{style:"padding: 5px; border-width: 1px;display:flex;flex-wrap:wrap;",width:1879,height:66,bclass:"_oa-form oa-element oa-select",aconfigshow:"不做设置",text:"",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:"",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_163694457910706293997607369812"},{parent:"ele_163694457910707342664812498216",id:"outter_163694457910807759040786451394",eleid:"ele_163694457910804168630629880046",type:"基础Div","属性":{fname:"全部",id:"ele_163694457910804168630629880046",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",val:""},"样式":{width:586,style:"padding: var(--inlayout-distance); width: 30.5vw; height: 40px;max-width:30.5vw;margin:11px 15px;line-height:28px;",height:"40",bclass:"_oa-div oa-element btn btn-default oa-select _oafkbtn oa-configshow",text:"添加输入框",aconfigshow:"仅配置可见",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:""},addtype:2,addposition:"ele_163694457910707342664812498216"},{parent:"ele_163694457910707342664812498216",id:"outter_1636944579108028539155395037397",eleid:"ele_163694457910709865074038153125",type:"横向布局","属性":{fname:"全部",oacomjs:"",id:"ele_163694457910709865074038153125",component:"横向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",val:"",editset:"write",bginputsrc:"",dateinputtype:"",psrc:"",suitwivwidth:"0",contentinfo:"{}"},"样式":{width:"100%",height:76,aconfigshow:"仅配置可见",bclass:"_hiv oa-element oa-configshow oa-select",powstyle:"0 1 auto",justifyc:"normal",align:"normal",style:"display: flex; flex-direction: row; padding: var(--inlayout-distance); width: 100%; height: 76px; flex: 0 1 auto; place-content: normal; border-width: 1px;",bgsrc:"",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:1,addposition:"ele_163694457910707342664812498216"},{parent:"ele_163694457910709865074038153125",id:"outter_1636944579108035330354524164265",eleid:"ele_1636944579107004522172216247733",type:"基础Div","属性":{fname:"全部",id:"ele_1636944579107004522172216247733",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",val:""},"样式":{text:"此表编号：",width:82,height:32,bclass:"_oa-div oa-element oa-select",style:"padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:""},addtype:2,addposition:"ele_163694457910709865074038153125"},{parent:"ele_163694457910709865074038153125",id:"outter_163694457910801949883046865326",eleid:"ele_163694457910704603576076944893",type:"基础Div","属性":{fname:"全部",id:"ele_163694457910704603576076944893",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",val:"",oacomjs:'var formw=This.oaparent().oanext();\nvar txt=formw.attr("id");\nThis.html(txt);'},"样式":{width:272,height:32,bclass:"_oa-div oa-element oa-select",style:"padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",text:"ele_163559496720307066373033731648",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:""},addtype:3,addposition:"ele_1636944579107004522172216247733"},{parent:"ele_163694457910709865074038153125",id:"outter_163694457910805352274927628387",eleid:"ele_163694457910704678185030508266",type:"弹簧","属性":{fname:"全部",id:"ele_163694457910704678185030508266",component:"弹簧",addblayout:"横向布局",addalayout:"横向布局",val:""},"样式":{bclass:"_pow oa-element oa-select",aconfigshow:"不做设置",powstyle:"1 1 0%",justifyc:"normal",align:"normal",bgsrc:""},addtype:3,addposition:"ele_163694457910704603576076944893"},{parent:"ele_163694457910709865074038153125",id:"outter_163694457910801965499570345548",eleid:"ele_1636944579107015719761426783174",type:"输入框","属性":{fname:"全部",id:"ele_1636944579107015719761426783174",component:"输入框",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",val:"#",type:"text",editset:"write",bginputsrc:"",dateinputtype:"",psrc:"",suitwivwidth:"0",contentinfo:"{}"},"样式":{width:"15vw",height:42,bclass:"oa-input oa-element oa-select",style:"width: 15vw; height: 42px; border-width: 1px;",aconfigshow:"不做设置",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:" ",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163694457910704678185030508266"},{parent:"ele_163694457910709865074038153125",id:"outter_163694457910808933264660998548",eleid:"ele_1636944579107021662407020708496",type:"基础Div","属性":{fname:"全部",id:"ele_1636944579107021662407020708496",oacomjs:'_showLayoutBorder=true;\n_fakeoasubmit2=null;\nfunction _changeShowMode(){\nif(_showLayoutBorder){\n\t\t\t\n_fakeoasubmit=_oasubmit;\t\nif(_fakeoasubmit2!=null){\nloadSelectCondition(_fakeoasubmit2);\n}else{\n_oasubmit={\n    "pre": "",\n    "prefail": "alert(\\"提交失败\\");",\n    "presuccess": "alert(\\"提交成功\\");",\n    "preerror": "alert(\\"提交过程发生错误\\");",\n    "postjs": "",\n    "conditionjs": "",\n    "select": {\n        "sql": [],\n        "condition": []\n    },\n    "post": {\n        "sql": [],\n        "condition": []\n    }\n}\nloadSelectCondition(_oasubmit);\n}\t\n_showLayoutBorder=false;\n\t\t\t\t\tshowOALayout(_showLayoutBorder);\n\n\t\t\t\t}\n\t\t\t\telse{\n_fakeoasubmit2=_oasubmit;\n_oasubmit=_fakeoasubmit;\tloadSelectCondition(_fakeoasubmit);\t\t\t\t_showLayoutBorder=true;\n\t\t\t\t\tshowOALayout(_showLayoutBorder);\n\t\t\t\t}\n}\nif(_oaconfigable)\nsetInterval(function(){\nshowOALayout(_showLayoutBorder);\nif(_showLayoutBorder){\n$(".advhide").show()}\nelse{\n$(".advhide").hide();\n}\n},100);\nThis.oanext().click(function(){\n_changeShowMode();\n})\n',component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",val:"",editset:"write",bginputsrc:"",dateinputtype:"",psrc:"",suitwivwidth:"0"},"样式":{text:"(当请求地址为#表示请求OA服务器)",width:231,height:32,bclass:"_oa-div oa-element oa-select",style:"padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:"",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_1636944579107015719761426783174"},{parent:"ele_163694457910709865074038153125",id:"outter_163694457910800444074511930348",eleid:"ele_163694457910808657914776895694",type:"按钮","属性":{fname:"全部",id:"ele_163694457910808657914776895694",component:"按钮",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",val:"",editset:"write",bginputsrc:"",dateinputtype:"",psrc:"",suitwivwidth:"0",contentinfo:"{}"},"样式":{text:"简洁/高级模式",width:102,height:40,bclass:"_oabtn oa-element oa-select",style:"border-width: 1px;",aconfigshow:"不做设置",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:"",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_1636944579107021662407020708496"},{parent:"ele_163694457910709865074038153125",id:"outter_163694457910803619127161575777",eleid:"ele_163694457910803912891968689485",type:"基础Div","属性":{fname:"全部",id:"ele_163694457910803912891968689485",oacomjs:'var formw=This.oaparent().oanext();\nformw.attr("action",This.oanext().val());\n\nThis.oanext().change(function(){\nvar ft=$(this).oaparent().oanext();\nft.attr("action",$(this).val());\n\nsetOAInfo($(this),"文本内容",$(this).val());\n});',component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",val:"",editset:"write",bginputsrc:"",dateinputtype:"",psrc:"",suitwivwidth:"0",contentinfo:"{}"},"样式":{text:"表单请求地址：",width:110,height:32,bclass:"_oa-div oa-element oa-select",style:"padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:"",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:1,addposition:"ele_1636944579107015719761426783174"},{parent:"ele_163694457910709865074038153125",id:"outter_1636944579108009480941818053079",eleid:"ele_163694457910809117091465561356",type:"基础Div","属性":{fname:"全部",oacomjs:'This.oaparent().oanext().find("._oafkbtn").unbind("click");\nThis.oaparent().oanext().find("._oafkbtn").removeClass("oa-element");\nThis.oaparent().oanext().find("._oafkbtn").addClass("oa-configshow");\nThis.oaparent().oanext().find("._oafkbtn").click(function(){\naddOAInfo($(this),"输入框",1);\n});',id:"ele_163694457910809117091465561356",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",val:""},"样式":{text:"【表单控制器】",width:110,height:32,bclass:"_oa-div oa-element oa-select",style:"padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:""},addtype:1,addposition:"ele_1636944579107004522172216247733"},{parent:"ele_163694457910706293997607369812",id:"outter_1636944579108020627224128435295",eleid:"ele_16369445791070404699024192978",type:"横向布局","属性":{addlayout:"提交表单组",id:"ele_16369445791070404699024192978",component:"横向布局",addblayout:"横向布局",addalayout:"横向布局",val:"",fname:"全部",oacomjs:'var formid=This.oaprev().attr("id");\nsetOAInfo(This.find("._oa-sbform"),"目标表单id",formid);'},"样式":{width:1479,height:54,bclass:"_hiv oa-element oa-select",style:"display: flex; flex-direction: row; padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:""},addtype:3,addposition:"ele_163694457910707342664812498216"},{parent:"ele_16369445791070404699024192978",id:"outter_16369445791080058146236721237976",eleid:"ele_163694457910802532048301015266",type:"提交表单按钮组","属性":{form:"ele_163694457910707342664812498216",addblayout:"弹簧",addalayout:"弹簧",id:"ele_163694457910802532048301015266",component:"提交表单按钮组",addlayout:"横向布局",val:"addlayout",fname:"全部"},"样式":{width:222,height:42,bclass:"_oa-sbform oa-element oa-select",style:"border-width: 1px;",aconfigshow:"不做设置",text:"重置提交",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgsrc:""},addtype:2,addposition:"ele_16369445791070404699024192978"},{parent:"ele_16369445791070404699024192978",id:"outter_163694457910801353208145326521",eleid:"ele_163694457910800331157177601622",type:"弹簧","属性":{id:"ele_163694457910800331157177601622",component:"弹簧",addblayout:"横向布局",addalayout:"横向布局",val:"",fname:"全部"},"样式":{bclass:"_pow oa-element oa-select",aconfigshow:"不做设置",powstyle:"1 1 0%",justifyc:"normal",align:"normal",bgsrc:""},addtype:1,addposition:"ele_163694457910802532048301015266"},{parent:"ele_16369445791070404699024192978",id:"outter_1636944579108040709833153857544",eleid:"ele_163694457910806432505937978212",type:"弹簧","属性":{fname:"全部",id:"ele_163694457910806432505937978212",component:"弹簧",addblayout:"横向布局",addalayout:"横向布局",val:""},"样式":{bclass:"_pow oa-element oa-select",aconfigshow:"不做设置",powstyle:"1 1 0%",justifyc:"normal",align:"normal",bgsrc:""},addtype:3,addposition:"ele_163694457910802532048301015266"}]},_oabaseclass["绑定父级表单"]={class:"_registerform",addeval:"el.click(function(){el.oaparent().oaparent().find('form').submit()})",removeeval:"",register:["button"]},_oabaseclass["绑定父级表单重置"]={class:"_registerformreset",addeval:"el.click(function(){el.oaparent().oaparent().find('form')[0].reset();resetFormValue();})",removeeval:"",register:["button"]}}),loadCheckValid(function(){$.extend($.validator.messages,{required:"必填",remote:"请修正该字段",email:"电子邮件格式不正确",url:"网址格式不正确",date:"日期格式不正确",dateISO:"请输入合法的日期 (ISO).",number:"请输入数字",digits:"只能输入整数",creditcard:"请输入合法的信用卡号",equalTo:"请再次输入相同的值",accept:"请输入拥有合法后缀名的字符",maxlength:$.validator.format("请输入一个 长度最多是 {0} 的字符"),minlength:$.validator.format("请输入一个 长度最少是 {0} 的字符"),rangelength:$.validator.format("请输入 一个长度介于 {0} 和 {1} 之间的字符"),range:$.validator.format("请输入一个介于 {0} 和 {1} 之间的值"),max:$.validator.format("请输入一个最大为{0} 的值"),min:$.validator.format("请输入一个最小为{0} 的值")}),jQuery.validator.addMethod("mail",function(e,t){return this.optional(t)||/^[a-z0-9._%-]+@([a-z0-9-]+.)+[a-z]{2,4}$/.test(e)},"邮箱格式不对"),jQuery.validator.addMethod("telephone",function(e,t){return this.optional(t)||/^0d{2,3}-d{7,8}$/.test(e)},"电话格式如：0371-68787027"),jQuery.validator.addMethod("ac",function(e,t){return this.optional(t)||/^0d{2,3}$/.test(e)},"区号如：010或0371"),jQuery.validator.addMethod("noactel",function(e,t){return this.optional(t)||/^d{7,8}$/.test(e)},"电话格式如：68787027"),jQuery.validator.addMethod("phone",function(e,t){return this.optional(t)||/^1[3|4|5|7|8]d{9}$/.test(e)},"手机格式不对"),jQuery.validator.addMethod("age",function(e,t){return this.optional(t)||/^(?:[1-9][0-9]?|1[01][0-9]|120)$/.test(e)},"不能超过120岁"),jQuery.validator.addMethod("fax",function(e,t){return this.optional(t)||/^(d{3,4})?[-]?d{7,8}$/.test(e)},"传真格式如：0371-68787027"),jQuery.validator.addMethod("equalTo2",function(e,t){var a=!0,t=$(t).attr("data-rule-equalto2");return a=e===$(t).val()?!1:a},"不能和原始密码相同"),jQuery.validator.addMethod("gt",function(e,t){var a=!1;return a=$(t).data("gt")<e&&""!=e?!0:a},"不能小于0或为空"),jQuery.validator.addMethod("nochinese",function(e,t){return this.optional(t)||/^[u4E00-u9FFF]+$/.test(e)},"输入信息不能包含中文字符"),jQuery.validator.addMethod("chinese",function(e,t){return this.optional(t)||/^[^u4E00-u9FFF]+$/.test(e)},"请输入纯中文字符"),jQuery.validator.addMethod("idCard",function(e,t){return this.optional(t)||/^[1-9]d{7}((0d)|(1[0-2]))(([0|1|2]d)|3[0-1])d{3}$/.test(e)||/^[1-9]d{5}[1-9]d{3}((0d)|(1[0-2]))(([0|1|2]d)|3[0-1])d{3}([0-9]|X)$/.test(e)},"请输入正确的身份证"),jQuery.validator.addMethod("stringCheck",function(e,t){return this.optional(t)||/^[u0391-uFFE5w]+$/.test(e)},"只能包括中文字、英文字母、数字和下划线"),jQuery.validator.addMethod("byteRangeLength",function(e,t,a){for(var i=e.length,l=0;l<e.length;l++)127<e.charCodeAt(l)&&i++;return this.optional(t)||i>=a[0]&&i<=a[1]},"请确保输入的值在3-15个字节之间(一个中文字算2个字节)"),jQuery.validator.addMethod("isIdCard",function(e,t){return this.optional(t)||isIdCardNo(e)},"请正确输入您的身份证号码"),jQuery.validator.addMethod("isMobile",function(e,t){var a=e.length;return this.optional(t)||11==a&&/^[1][3-8]+\d{9}/.test(e)},"请正确填写您的手机号码"),jQuery.validator.addMethod("isTel",function(e,t){return this.optional(t)||/^d{3,4}-?d{7,9}$/.test(e)},"请正确填写您的电话号码"),jQuery.validator.addMethod("isPhone",function(e,t){e.length;return this.optional(t)||/^d{3,4}-?d{7,9}$/.test(e)||/^(((13[0-9]{1})|(15[0-9]{1}))+d{8})$/.test(e)},"请正确填写您的联系电话"),jQuery.validator.addMethod("isZipCode",function(e,t){return this.optional(t)||/^[0-9]{6}$/.test(e)},"请正确填写您的邮政编码")},"$.validator",100),_cssloadtype=$("<style></style>"),$("head").append(_cssloadtype),_registeroacssloadtype=$("<style></style>"),$("head").append(_registeroacssloadtype),$(function(){_oacomponent["图片组件"]={el:$("<img style='min-width:calc(var(--inlayout-distance) * 2);min-height:calc(var(--inlayout-distance) * 2);' class='_oa-img'/>"),notin:["._pow"],ignoretitle:["文本内容"]},_haveoatype.push({name:"ssrc",title:"图片内容",only:["._oa-img"],ignore:[],type:"属性",seteval:"el.attr('src',value)",geteval:"el.attr('src')",makeeval:'This.after(\'<button class="btn btn-default" onclick=\\\'setOAInfo($("#{0}"),"图片内容","");$("input[name=ssrc]").val("");\\\'>清空</button>\'.format(el.attr(\'id\')))',append:"readonly"}),_haveoatype.push({name:"psrc",title:"图片上传",only:["._oa-img"],ignore:[],type:"属性",seteval:"function _downel(el){sendFile($('input[name=psrc]')[0].files[0],function(res){ setOAInfo(el,'图片内容',oa_serverip + res.path);})};if(value!=''&&value!=null)_downel(el);",geteval:"''",makeeval:"This.attr('type','file')",update:["ssrc"]}),_oafirstnotload.push("psrc"),registerOAJs("图片组件","._oa-img"),_oacomponent["图片上传组子图"]={define:[{parent:"ele_1636622577110038896537377258444",id:"outter_163662259622100959511652802556",eleid:"ele_163662259622109102410418803712",type:"基础Div","属性":{contentinfo:"{}",oacomjs:"",id:"ele_163662259622109102410418803712",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",val:"",editset:"write",bginputsrc:"",dateinputtype:"",fname:"全部",psrc:"",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element oa-bgljt oa-select",style:"padding: var(--inlayout-distance); border-width: 1px; margin: 0px 15px 0px 0px; width: 133px; height: 113px;border:1px solid #f1f1f1;",width:118,height:"6vw ",bgsrc:"",bgrepeat:"no-repeat",bgposition:"center center",bgwidth:"100% 100%",aconfigshow:"不做设置",text:"",powstyle:"0 1 auto",justifyc:"center",align:"normal",bgpsrc:""},addtype:2,addposition:"ele_1636622577110038896537377258444"}],cnotin:!0,cnotafter:!0,cnotbefore:!0},_oacomponent["图片上传组"]={define:[{parent:"ele_1636606685729015361455835670523",id:"outter_1636825148102004301232100305086",eleid:"ele_163682514810202515948491182691",type:"浮动布局","属性":{contentinfo:"{}",suitwivwidth:"1",id:"ele_163682514810202515948491182691",component:"浮动布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",val:"",editset:"write",bginputsrc:"",dateinputtype:"",fname:"全部",psrc:"",oacomjs:'var upload=This.find(".oa-pictureupload");\nupload.unbind(\'click\');\nupload.click(function(){\nThis.oaparent().oaparent().find("input[type=file]")[0].click();\n}\n)',ssrc:"record_picture",pbsname:"record_picture"},"样式":{bclass:"_wiv oa-element oa-uploadpic oa-select",align:"flex-start",justifyc:"flex-start",bgsrc:" ",width:1608,height:12,style:'display: flex; flex-flow: row wrap; place-content: flex-start; padding: var(--inlayout-distance); background-image: url(""); width: 1608px; border-width: 1px;',aconfigshow:"不做设置",powstyle:"0 1 auto",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163682425815508189542196711259"},{parent:"ele_163682514810202515948491182691",id:"outter_163682514810204656027259450657",eleid:"ele_1636825148102049654315393361825",type:"横向布局","属性":{contentinfo:"{}",oacomjs:'//移入移出添加鼠标光标改变\nThis.hover(function(){\n$(this).css("cursor","pointer");\n},function(){\n$(this).css("cursor","none");})\n\n\n',id:"ele_1636825148102049654315393361825",component:"横向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",val:"",editset:"write",bginputsrc:"",dateinputtype:"",fname:"全部",psrc:"",suitwivwidth:"0"},"样式":{bclass:"_hiv oa-pictureupload oa-element oa-select",width:118,style:"display: flex; flex-direction: row; padding: var(--inlayout-distance); border-width: 1px; width: 133px; height: 113px;border:1px solid #f1f1f1;",height:"6vw",bgsrc:" ",aconfigshow:"不做设置",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_163682514810202515948491182691"},{parent:"ele_1636825148102049654315393361825",id:"outter_163682514810206850043629905724",eleid:"ele_1636825148102042577109258873613",type:"弹簧","属性":{contentinfo:"{}"},"样式":{bclass:"_pow oa-element oa-select",bgsrc:" "},addtype:2,addposition:"ele_1636825148102049654315393361825"},{parent:"ele_1636825148102049654315393361825",id:"outter_163682514810205649690967046803",eleid:"ele_163682514810207365859371835384",type:"纵向布局","属性":{contentinfo:"{}",id:"ele_163682514810207365859371835384",component:"纵向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",val:"",editset:"write",bginputsrc:"",dateinputtype:"",fname:"全部",psrc:"",suitwivwidth:"0"},"样式":{bclass:"_viv oa-element oa-select",height:"100%",width:38,bgsrc:" ",aconfigshow:"不做设置",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%",style:'display: flex; flex-direction: column; padding: var(--inlayout-distance); width: 38px; height: 100%; flex: 0 1 auto; place-content: normal; background-image: url(""); background-size: auto; background-repeat: repeat; background-position: 0% 0%; border-width: 1px;'},addtype:3,addposition:"ele_1636825148102042577109258873613"},{parent:"ele_163682514810207365859371835384",id:"outter_163682514810201489311577132022",eleid:"ele_163682514810209089489247984988",type:"弹簧","属性":{contentinfo:"{}"},"样式":{bclass:"_pow oa-element oa-select",bgsrc:" "},addtype:2,addposition:"ele_163682514810207365859371835384"},{parent:"ele_163682514810207365859371835384",id:"outter_163682514810206959450266597704",eleid:"ele_163682514810203894996901916514",type:"基础Div","属性":{contentinfo:"{}",oacomjs:"_rcupload={}\nvar picele=This.oaparent().oaparent();\nvar _te=picele.oaparent().find('textarea');\n//添加前图片组件操作\n_addPrePic=function(a){\n    readImg(a,function(data){\n        console.log(\"组件添加子图\");\n\n        addOAInfo(picele,\"图片上传组子图\",1);\n        deleteReplay(picele.oaprev(),_eleinfos);\n        deleteReplay(picele.oaprev(),_elemidinfos);\n        picele.oaprev().css('background-image','url('+data+')');\n\n        if(_rcupload[_te.attr('id')]==null){\n            _rcupload[_te.attr('id')]={};\n        }\n        _rcupload[_te.attr('id')][picele.oaprev().attr(\"id\")]=data;\n        _te.val(JSON.stringify(_rcupload[_te.attr('id')]));\n        var pThis=picele.oaprev();\n        pThis.hover(function(){\n            $(this).html('<div class=\"oa-ljtsvg\"></div>');\n        },function(){\n            $(this).html('');\n        })\n        pThis.unbind('click');\n        pThis.click(function(){\n            if(confirm(\"是否删除该图片\")){\n                if(_rcupload[_te.attr('id')]!=null)\n                    delete _rcupload[_te.attr('id')][pThis.attr(\"id\")];\n                _te.val(JSON.stringify(_rcupload[_te.attr('id')]));\n                pThis.parent().remove();\n            }\n        })\n\n    });\n}\nfunction delteAllPicUpload(a){\n\n    if(getUrlParam(_itemid)==null){\n        if(_rcupload[_te.attr('id')]!=null)\n        {\n            for(var i in _rcupload[_te.attr('id')]){\n                delete _rcupload[_te.attr('id')][i];\n                if(picele.oaprev().length!=0)\n                    picele.oaprev().parent().remove();\n            }\n        }\n    }\n}\npicele.oaparent().oaparent().submit(function(){\n    delteAllPicUpload($(this).find('.oa-uploadpic textarea'));\n})\nThis.html('<span class=\"glyphicon glyphicon-plus\" aria-hidden=\"true\" style=\"\"></span>');\nThis.oaparent().oaparent().oaparent().oaparent().after('<a href=\"javascript:void(0)\"><input type=\"file\" style=\"position: absolute !important;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);\" onchange=\"_addPrePic(this)\"></a>')\n",id:"ele_163682514810203894996901916514",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",val:"",editset:"write",bginputsrc:"",dateinputtype:"",fname:"全部",psrc:"",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element oa-select",bgsrc:" ",width:"",height:29,aconfigshow:"不做设置",text:"",powstyle:"0 1 auto",justifyc:"normal",align:"normal",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%",style:'padding: var(--inlayout-distance); height: 29px; flex: 0 1 auto; place-content: normal; background-image: url(""); background-size: auto; background-repeat: repeat; background-position: 0% 0%; border-width: 1px;'},addtype:3,addposition:"ele_163682514810209089489247984988"},{parent:"ele_163682514810207365859371835384",id:"outter_163682514810208695075859166685",eleid:"ele_1636825148102009005365793681963",type:"弹簧","属性":{contentinfo:"{}"},"样式":{bgsrc:" "},addtype:3,addposition:"ele_163682514810203894996901916514"},{parent:"ele_1636825148102049654315393361825",id:"outter_163682514810200037764815027696574",eleid:"ele_163682514810208358444699282497",type:"弹簧","属性":{contentinfo:"{}"},"样式":{bgsrc:" "},addtype:3,addposition:"ele_163682514810207365859371835384"},{parent:"ele_163682514810202515948491182691",id:"outter_1636825250448",eleid:"ele_1636825250448",type:"横向布局","属性":{contentinfo:"{}",suitwivwidth:"1",id:"ele_1636825250448",component:"横向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部"},"样式":{bclass:"_hiv oa-element oa-select _viv",width:1801,height:65,style:"display: flex; flex-direction: row; padding: var(--inlayout-distance); width: 1801px; border-width: 1px;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:1,addposition:"ele_1636825148102049654315393361825"},{parent:"ele_1636825250448",id:"outter_1636825266868",eleid:"ele_1636825266869",type:"基础Div","属性":{contentinfo:"{}",id:"ele_1636825266869",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{width:12,height:12,bclass:"_oa-div oa-element oa-select",style:"padding: var(--inlayout-distance);",aconfigshow:"不做设置",text:"照片信息",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_1636825250448"},{parent:"ele_163682514810202515948491182691",id:"outter_163682514810202606301503474766",eleid:"ele_16368251481020030306197670137536",type:"纵向布局","属性":{contentinfo:"{}",suitwivwidth:"1",oacomjs:'This.find("textarea").attr("readonly","readonly");\nThis.find("textarea").hide();',id:"ele_16368251481020030306197670137536",component:"纵向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部"},"样式":{bclass:"_viv oa-element oa-configshow oa-select",aconfigshow:"仅配置可见",width:1384,height:96,style:"display: flex; flex-direction: column; padding: var(--inlayout-distance); width: 1384px; border-width: 1px;",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_163682514810202515948491182691"},{parent:"ele_16368251481020030306197670137536",id:"outter_163682514810207571504751372979",eleid:"ele_16368251481020040701425521404655",type:"横向布局","属性":{contentinfo:"{}",id:"ele_16368251481020040701425521404655",component:"横向布局",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_hiv oa-element oa-select",width:1789,height:74,style:"display: flex; flex-direction: row; padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:2,addposition:"ele_16368251481020030306197670137536"},{parent:"ele_16368251481020040701425521404655",id:"outter_163682514810205900665616553546",eleid:"ele_163682514810204698185277799014",type:"弹簧","属性":{contentinfo:"{}"},"样式":{bclass:"_pow oa-element oa-select"},addtype:2,addposition:"ele_16368251481020040701425521404655"},{parent:"ele_16368251481020040701425521404655",id:"outter_163682514810208907742140944142",eleid:"ele_163682514810208467168411866066",type:"基础Div","属性":{contentinfo:"{}",id:"ele_163682514810208467168411866066",component:"基础Div",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",fname:"全部",suitwivwidth:"0"},"样式":{bclass:"_oa-div oa-element oa-select",text:"记录添加图片的信息，仅编辑模式可见，控制器。（上传组件的标识必须唯一）",width:250,height:31,style:"padding: var(--inlayout-distance); border-width: 1px;",aconfigshow:"不做设置",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_163682514810204698185277799014"},{parent:"ele_16368251481020040701425521404655",id:"outter_163682514810204820349255492209",eleid:"ele_163682514810206067536199610255",type:"弹簧","属性":{contentinfo:"{}"},"样式":{bclass:"_pow oa-element oa-select"},addtype:3,addposition:"ele_163682514810208467168411866066"},{parent:"ele_16368251481020030306197670137536",id:"outter_163682514810207977469355501545",eleid:"ele_1636825148102034968862037605764",type:"文本框","属性":{contentinfo:"{}",suitwivwidth:"0",name:"record_picture",id:"ele_1636825148102034968862037605764",component:"文本框",addblayout:"横向布局",addalayout:"横向布局",addlayout:"横向布局",changelayout:"选择框",val:"",editset:"write",fname:"全部"},"样式":{bclass:"oa-textarea oa-element valid oa-select oa-pictextarea",height:60,width:"100%",style:"width: 100%; height: 60px; border-width: 1px;",aconfigshow:"不做设置",text:"",bgsrc:"none",bgpsrc:"",bgwidth:"auto",bgrepeat:"repeat",bgposition:"0% 0%"},addtype:3,addposition:"ele_16368251481020040701425521404655"}]},_haveoatype.push({name:"pbsname",title:"标识名称",ignore:[],only:[".oa-uploadpic"],type:"属性",geteval:"getOAInfo(el,'标识名称')||''",seteval:`
        if(value!=null){
            if(value=='_autopointeraliasname_'){
                setOAInfoDelay(el,"el.find('textarea')",'标识名称','');
                showLayuiInput("请输入你要自定义标签名称",[{placeholder:"自定义选项值",name:"value"}],
                    function(data){
                        setOAInfoDelay(el,"el.find('textarea')",'标识名称',data.value)
                })
            }
            else{
                setOAInfoDelay(el,"el.find('textarea')",'标识名称',value)
            }
        }
    `,make:"select",makeeval:`
        function addOnThis(This){
            This.append('<option value="_autopointeraliasname_">自定义列名</option>')
             postoaregister("getmodelname",{0:tname},0,function(data){
                var result=data.data;
                Vue.nextTick(function(){
                    for(var i in result){
                       $('select[name=pbsname]').append('<option value="{1}">{0}</option>'.format(result[i].alias,result[i].name));
                    }
                    $('select[name=pbsname]').val(getOAInfo(el,'标识名称'));
                });
               
            })
        }
        addOnThis(This);
        This.after("{{pbsname}}");
    `,append:"style='width:130px' v-model='pbsname'"}),_haveoatype.push({name:"picload",title:"图片加载",only:["textarea"],ignore:[],type:"属性",seteval:'console.log(\'already load picload\');if(el.hasClass("oa-pictextarea")){\n    var picinfo=JSON.parse(value);\n    var This=el.oaparent().oaparent();\n    var pointer=This.find(".oa-pictureupload");\n    while(pointer.oaprev().length!=0){\n        if(!pointer.oaprev().hasClass("_viv"))\n            pointer.oaprev().parent().remove();\n        else break;\n    }\n    var _te=el;\n    for(var j in picinfo){\n        addOAInfo(pointer,"图片上传组子图",1);\n        deleteReplay(pointer.oaprev(),_eleinfos);\n        deleteReplay(pointer.oaprev(),_elemidinfos);\n        // setOAInfo(pointer.oaprev(),"背景内容",\'url(\'+picinfo[j]+\')\');\n'+"        pointer.oaprev().css('background-image','url('+picinfo[j]+')');\n        if(_rcupload[_te.attr('id')]==null){\n            _rcupload[_te.attr('id')]={};\n        }\n        _rcupload[_te.attr('id')][pointer.oaprev().attr(\"id\")]=picinfo[j];\n        _te.val(JSON.stringify(_rcupload[_te.attr('id')]));\n        var pThis=pointer.oaprev();\n        pThis.hover(function(){\n            $(this).html('<div class=\"oa-ljtsvg\"></div>');\n        },function(){\n            $(this).html('');\n        })\n        pThis.unbind('click');\n        pThis.click(function(){\n            if(confirm(\"是否删除该图片\")){\n                if(_rcupload[_te.attr('id')]!=null)\n                    delete _rcupload[_te.attr('id')][$(this).attr(\"id\")];\n                _te.val(JSON.stringify(_rcupload[_te.attr('id')]));\n                $(this).parent().remove();\n            }\n        })\n    }\n}else{\n    setOAInfo(el,\"文本内容\",value);\n}",geteval:""}),registerOAOnlyEffect("picload","文本框")}),_confirmpointer={};var oa_serverip="http://101.201.79.14:8081/ReOA/",dimip="http://101.201.79.14:8081/DIM/",_devid=32,_modelid="addmodel_24_OA自生成表(oaautocreate)_535",_oapreformregister=[],_itemid="itemid",_oaid="id",_mapperSetter={"输入框":{default:"文本内容"},"选择框":"设置内容","文本框":{default:"文本内容",".oa-pictextarea":"图片加载"},"横向布局":{default:"",".oa-formradio":"设置单选真"}};function registerPreForm(e){_oapreformregister.push(e)}var oa_tablesubmit=oa_serverip+"TokerServlet?method=oainsert";function _changeFormData(formData,jqform){for(var i in _oapreformregister)if(null!=_oapreformregister[i]){var el=jqform,This=jqform,ptempresult=_oapreformregister[i](formData,jqform);if(0==ptempresult)return hideload(),!1}var presubmit=getOAInfo(jqform,"提交前js");if(null!=presubmit){var el=jqform,This=jqform,ptempresult=eval(presubmit);if(0==ptempresult)return hideload(),!1}if("#"==jqform.attr("action")){for(var i in null!=getUrlParam(_itemid)&&formData.push({name:"id",value:getUrlParam(_itemid),type:"integer"}),formData.push({name:"devid",value:_devid,type:"integer"}),formData)"id"!=formData[i].name&&"devid"!=formData[i].name&&(formData[i].type=null!=_postinputtype[formData[i].name]?_postinputtype[formData[i].name]:"text");formData.push({name:"_oapagecols",value:JSON.stringify(formData),type:"text"}),formData.push({name:"_oapageid",value:getUrlParam(_oaid),type:"text"})}}function postoaregister(e,t,a,i,l){var o,n={};for(o in t)n[o]=t[o];$.post(oa_serverip+"/TokerServlet?method=oaregister",{init:e,args:t,type:a},function(e){i&&i(e)},"json").fail(function(e){l&&l(e)})}$(function(){_oacomponent["下拉多选框"]={el:$(` <el-cascader
                v-model="datavalue"
		        :placeholder="placeholder"
		        :options="options"
		        :props="{ multiple: multiple,expandTrigger: hover?'hover':'click',checkStrictly:strict }"
		        filterable
				class='oa-treeselect' :clearable="clear" @change="handleChange" @focus="clickEvent"></el-cascader>
        `),extendvue:{watch:{datavalue(){this.saveOA()},online(){this.loadOnline(),this.saveOA()},value(){this.loadOnline(),this.saveOA()},hover(){this.saveOA()},multiple(){this.saveOA()},placeholder(){this.saveOA()},options(){this.online||this.saveOA()},strict(){this.saveOA()},clear(){this.saveOA()},handleevent(){this.saveOA()},clickevent(){this.saveOA()},afterevent(){this.saveOA()}},data(){return{datavalue:[],options:[],value:"",multiple:!0,online:!0,hover:!0,strict:!1,placeholder:"",pointermapper:{},clear:!1,handleevent:"",clickevent:"",afterevent:""}},created(){const t=this;var e=$(this.$options.el).children();null!=getOAInfo(e,"设置基础表单内容")&&setOAInfo(e,"加载基础表单内容",getOAInfo(e,"设置基础表单内容")),setTimeout(function(){var e=t.value;t.value="",t.value=e},20)},methods:{loadOnline(){if(this.online){const that=this;window.value=this.value;var info=window.eval(function(e,t,a,i,l){if(i=window.String,0=="0".replace(0,i)){for(;t--;)l[i(t)]=a[t];a=[function(e){return l[e]||e}],i=function(){return"^$"},t=1}for(;t--;)a[t]&&(e=e.replace(new window.RegExp("\\b"+i(t)+"\\b","g"),a[t]));return e}("_AESEncrypt(value)",1,"".split("|"),0,{}));$.post(oa_serverip+"TokerServlet?method=autoquery",{sql:info,args:[]},function(pdata){var This=$(that.$options.el).children(),el=This;that.findList(pdata.data,"id","father","label","value"),setTimeout(function(){eval(that.afterevent)},500)},"json")}},loadAfterEvent(){const that=this;var This=$(that.$options.el).children(),el=This;setTimeout(function(){console.log("事后加载操作"),eval(that.afterevent)},500)},findList(e,t,a,i,l){var o,n={},r={};for(o in this.options=[],e=deepCopy(e))e[o].children=[],n[e[o][t]]=e[o],r[e[o][a]]=e[o];for(o in e)null==r[e[o][t]]&&(e[o].children=null);for(o in e)null!=n[e[o][a]]?e[o][a]!=e[o][t]&&n[e[o][a]].children.push({label:e[o][i],value:e[o][l],children:e[o].children}):this.options.push({label:e[o][i],value:e[o][l],children:e[o].children});this.pointermapper=n},saveOA(){var e=deepCopy(this.$data),t=$(this.$options.el).children();this.online&&(e.datavalue.length=0,delete e.pointermapper,delete e.options),setOAInfo(t,"设置基础表单内容",JSON.stringify(e))},setSelectValue(e){if(null!=e){var t,a=[];if(isJSON(e))for(t in i=JSON.parse(e))a.push(this.getToSelectValue(i[t]));else var i=e,a=this.getToSelectValue(i);this.datavalue=a}},getToSelectValue(e){for(var t=[e+""];null!=this.pointermapper[e]&&null!=this.pointermapper[e].father&&""!=this.pointermapper[e].father&&"-1"!=(e=this.pointermapper[e].father);)t.unshift(e+"");return t},handleChange(data){var el=$(this.$options.el).children(),This=el;eval(this.handleevent)},clickEvent(){var el=$(this.$options.el).children(),This=el;eval(this.clickevent)}}},post:`
            var tel=$("#"+tempid);
            registerPreForm(function(data,form){
                var elvue=getOAVue(tel);
                var result=null;
                if(!elvue.$data.multiple&&elvue.$data.datavalue.length>0){
                    result=elvue.$data.datavalue[elvue.$data.datavalue.length-1];
                }
                else if(elvue.$data.multiple&&elvue.$data.datavalue.length>0){
                    result={};
                    for(var k in elvue.$data.datavalue){
                        if(elvue.$data.datavalue[k].length>0){
                            result[k]=elvue.$data.datavalue[k][elvue.$data.datavalue[k].length-1];
                        }
                    }
                }
                data.push({value:result,name:getOAInfo(tel,'虚拟标签名称')});
                if(tel.hasClass('treerequired')){
                    if(getOAVue(tel).$data.datavalue.length==0){
                        alert("请选择选项");
                        hideload();
                        return false;
                    }else{
                        return true;
                    }
                }
                else{
                    return true;
                }
            })
        `,ignoretitle:["文本内容"]},registerOAOnlyEffect("setvxetableinfo","下拉多选框"),registerOAOnlyEffect("setvxevueinfo","下拉多选框"),_oabaseclass["点击显示模式"]={class:"_oatreeselectclick",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.hover=false;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.hover=true;
           `,register:[".oa-treeselect"]},_oabaseclass["单选模式"]={class:"_oatreeselectsingle",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.multiple=false;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.multiple=true;
           `,register:[".oa-treeselect"]},_oabaseclass["可选任一级"]={class:"_oatreeselectrandom",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.strict=true;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.strict=false;
           `,register:[".oa-treeselect"]},_oabaseclass["可清空"]={class:"_oatreeselectclear",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.clear=true;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.clear=false;
           `,register:[".oa-treeselect"]},_oabaseclass["离线模式"]={class:"_oatreeselectoffline",addeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.online=false;
        `,removeeval:`
            var elvue=_elevue[el.attr('id')];
            elvue.$data.online=true;
           `,register:[".oa-treeselect"]},_oabaseclass["必填"]={class:"treerequired",addeval:"",removeeval:"",register:[".oa-treeselect"]},_haveoatype.push({name:"treeselectholder",title:"提示文字",ignore:[],only:[".oa-treeselect"],type:"属性",geteval:"_elevue[el.attr('id')].$data.placeholder",seteval:"if(value!=null)_elevue[el.attr('id')].$data.placeholder=value;"});var pointinfot="`";_haveoatype.push({name:"treeselectsql",title:"注册SQL",ignore:[],only:[".oa-treeselect"],type:"属性",make:"textarea",append:"style='resize:none;height:150px;' placeholder='如:select id,father,alias label,id value from tb_devmodel ，即实现id,father,label,value的返回'",geteval:"getOAInfo(el,'注册SQL')",seteval:`
         if(value!=null){
            if(value.startsWith('${pointinfot}')||value.startsWith("'")||value.startsWith('"')){
                _elevue[el.attr('id')].$data.value=eval(value);
            }
            else{_elevue[el.attr('id')].$data.value=value;}
        }
        `}),_haveoatype.push({name:"treeselectoptions",title:"数据内容",ignore:[],only:[".oa-treeselect"],type:"属性",make:"textarea",append:"style='resize:none;height:150px;' placeholder='value label children:[]'",geteval:"JSON.stringify(_elevue[el.attr('id')].$data.options)",seteval:`
            if(value!=null){
                if(getOAInfo(el,'注册SQL')==null||getOAInfo(el,'注册SQL')=='')
                    _elevue[el.attr('id')].$data.options=JSON.parse(value);
            }
        `}),_haveoatype.push({name:"treeselectevent",title:"选项选中事件",ignore:[],only:[".oa-treeselect"],type:"属性",make:"textarea",append:"style='resize:none;height:150px;' placeholder='可用参数包括:el,,This(组件本身),this(指代Vue),data([选中的级联value])'",geteval:"_elevue[el.attr('id')].$data.handleevent",seteval:`
            if(value!=null){
                _elevue[el.attr('id')].$data.handleevent=value;
            }
        `}),_haveoatype.push({name:"treeselectclickevent",title:"点击事件",ignore:[],only:[".oa-treeselect"],type:"属性",make:"textarea",append:"style='resize:none;height:150px;' placeholder='可用参数包括:el,This(组件本身),this(指代Vue)'",geteval:"_elevue[el.attr('id')].$data.clickevent",seteval:`
            if(value!=null){
                _elevue[el.attr('id')].$data.clickevent=value;
            }
        `}),_haveoatype.push({name:"treeselectafterevent",title:"动态加载后事件",ignore:[],only:[".oa-treeselect"],type:"属性",make:"textarea",append:"style='resize:none;height:150px;' placeholder='可用参数包括:el,This(组件本身),this(指代Vue)'",geteval:"_elevue[el.attr('id')].$data.afterevent",seteval:`
            if(value!=null){
                _elevue[el.attr('id')].$data.afterevent=value;
            }
        `}),_haveoatype.push({name:"treeselectname",title:"虚拟标签名称",ignore:[],only:[".oa-treeselect"],type:"属性",geteval:"getOAInfo(el,'虚拟标签名称')||''",seteval:`
        if(value!=null){
            if(value=='_autopointeraliasname_'){
                el.attr('name','');
                showLayuiInput("请输入你要自定义标签名称",[{placeholder:"自定义选项值",name:"value"}],
                    function(data){
                        el.attr('name',data.value);
                })
            }
            else{
                if(value!=null&&value!='')el.attr('name',value);
            }
        }
    `,make:"select",makeeval:`
        function addOnThis(This){
            This.append('<option value="_autopointeraliasname_">自定义列名</option>')
             postoaregister("getmodelname",{0:tname},0,function(data){
                var result=data.data;
                Vue.nextTick(function(){
                    for(var i in result){
                       $('select[name=treeselectname]').append('<option value="{1}">{0}</option>'.format(result[i].alias,result[i].name));
                    }
                    $('select[name=treeselectname]').val(getOAInfo(el,'虚拟标签名称'));
                });
               
            })
        }
        addOnThis(This);
        This.after("{{treeselectname}}");
    `,append:"style='width:130px' v-model='treeselectname'"}),registerOAExtraLm(".oa-treeselect",["中文名字(WEB)"]),registerOAFormComponent("下拉多选框",".oa-treeselect"),_haveoatype.push({name:"setmultiplevalue",title:"设置下拉多选框值",ignore:[],only:[".oa-treeselect"],type:"属性",geteval:"",seteval:`
            if(value!=null){
                getOAVue(el).$data.datavalue="";
                const pvalue=value;
                setTimeout(function(){
                    const that=getOAVue(el);
                    that.setSelectValue(pvalue+'');
                    if(that.value==''&&that.options.length!=0){
                        that.loadAfterEvent();
                    }
                },10)
            }
        `}),registerOAJs("下拉多选框",".oa-treeselect"),registerOAOnlyEffect("setmultiplevalue","下拉多选框"),_mapperSetter["下拉多选框"]={},_mapperSetter["下拉多选框"].default="设置下拉多选框值"});